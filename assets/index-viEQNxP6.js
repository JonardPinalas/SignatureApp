(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function cb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ub(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var s=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var o=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(s,l,o.get?o:{enumerable:!0,get:function(){return i[l]}})}),s}var Yc={exports:{}},Ms={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function db(){if(bm)return Ms;bm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var x in o)x!=="key"&&(u[x]=o[x])}else u=o;return o=u.ref,{$$typeof:i,type:l,key:h,ref:o!==void 0?o:null,props:u}}return Ms.Fragment=n,Ms.jsx=s,Ms.jsxs=s,Ms}var pm;function fb(){return pm||(pm=1,Yc.exports=db()),Yc.exports}var d=fb(),Qc={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function hb(){if(ym)return pe;ym=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,R={};function T(S,z,O){this.props=S,this.context=z,this.refs=R,this.updater=O||A}T.prototype.isReactComponent={},T.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},T.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function U(){}U.prototype=T.prototype;function B(S,z,O){this.props=S,this.context=z,this.refs=R,this.updater=O||A}var V=B.prototype=new U;V.constructor=B,j(V,T.prototype),V.isPureReactComponent=!0;var X=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function le(S,z,O,Y,D,ee){return O=ee.ref,{$$typeof:i,type:S,key:z,ref:O!==void 0?O:null,props:ee}}function re(S,z){return le(S.type,z,void 0,void 0,void 0,S.props)}function ne(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function oe(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(O){return z[O]})}var ge=/\/+/g;function te(S,z){return typeof S=="object"&&S!==null&&S.key!=null?oe(""+S.key):z.toString(36)}function he(){}function ve(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(he,he):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function xe(S,z,O,Y,D){var ee=typeof S;(ee==="undefined"||ee==="boolean")&&(S=null);var J=!1;if(S===null)J=!0;else switch(ee){case"bigint":case"string":case"number":J=!0;break;case"object":switch(S.$$typeof){case i:case n:J=!0;break;case p:return J=S._init,xe(J(S._payload),z,O,Y,D)}}if(J)return D=D(S),J=Y===""?"."+te(S,0):Y,X(D)?(O="",J!=null&&(O=J.replace(ge,"$&/")+"/"),xe(D,z,O,"",function(me){return me})):D!=null&&(ne(D)&&(D=re(D,O+(D.key==null||S&&S.key===D.key?"":(""+D.key).replace(ge,"$&/")+"/")+J)),z.push(D)),1;J=0;var be=Y===""?".":Y+":";if(X(S))for(var se=0;se<S.length;se++)Y=S[se],ee=be+te(Y,se),J+=xe(Y,z,O,ee,D);else if(se=v(S),typeof se=="function")for(S=se.call(S),se=0;!(Y=S.next()).done;)Y=Y.value,ee=be+te(Y,se++),J+=xe(Y,z,O,ee,D);else if(ee==="object"){if(typeof S.then=="function")return xe(ve(S),z,O,Y,D);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return J}function H(S,z,O){if(S==null)return S;var Y=[],D=0;return xe(S,Y,"","",function(ee){return z.call(O,ee,D++)}),Y}function W(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(O){(S._status===0||S._status===-1)&&(S._status=1,S._result=O)},function(O){(S._status===0||S._status===-1)&&(S._status=2,S._result=O)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var E=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Z(){}return pe.Children={map:H,forEach:function(S,z,O){H(S,function(){z.apply(this,arguments)},O)},count:function(S){var z=0;return H(S,function(){z++}),z},toArray:function(S){return H(S,function(z){return z})||[]},only:function(S){if(!ne(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},pe.Component=T,pe.Fragment=s,pe.Profiler=o,pe.PureComponent=B,pe.StrictMode=l,pe.Suspense=m,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,pe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return G.H.useMemoCache(S)}},pe.cache=function(S){return function(){return S.apply(null,arguments)}},pe.cloneElement=function(S,z,O){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Y=j({},S.props),D=S.key,ee=void 0;if(z!=null)for(J in z.ref!==void 0&&(ee=void 0),z.key!==void 0&&(D=""+z.key),z)!ae.call(z,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&z.ref===void 0||(Y[J]=z[J]);var J=arguments.length-2;if(J===1)Y.children=O;else if(1<J){for(var be=Array(J),se=0;se<J;se++)be[se]=arguments[se+2];Y.children=be}return le(S.type,D,void 0,void 0,ee,Y)},pe.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},pe.createElement=function(S,z,O){var Y,D={},ee=null;if(z!=null)for(Y in z.key!==void 0&&(ee=""+z.key),z)ae.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(D[Y]=z[Y]);var J=arguments.length-2;if(J===1)D.children=O;else if(1<J){for(var be=Array(J),se=0;se<J;se++)be[se]=arguments[se+2];D.children=be}if(S&&S.defaultProps)for(Y in J=S.defaultProps,J)D[Y]===void 0&&(D[Y]=J[Y]);return le(S,ee,void 0,void 0,null,D)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(S){return{$$typeof:x,render:S}},pe.isValidElement=ne,pe.lazy=function(S){return{$$typeof:p,_payload:{_status:-1,_result:S},_init:W}},pe.memo=function(S,z){return{$$typeof:g,type:S,compare:z===void 0?null:z}},pe.startTransition=function(S){var z=G.T,O={};G.T=O;try{var Y=S(),D=G.S;D!==null&&D(O,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Z,E)}catch(ee){E(ee)}finally{G.T=z}},pe.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},pe.use=function(S){return G.H.use(S)},pe.useActionState=function(S,z,O){return G.H.useActionState(S,z,O)},pe.useCallback=function(S,z){return G.H.useCallback(S,z)},pe.useContext=function(S){return G.H.useContext(S)},pe.useDebugValue=function(){},pe.useDeferredValue=function(S,z){return G.H.useDeferredValue(S,z)},pe.useEffect=function(S,z,O){var Y=G.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(S,z)},pe.useId=function(){return G.H.useId()},pe.useImperativeHandle=function(S,z,O){return G.H.useImperativeHandle(S,z,O)},pe.useInsertionEffect=function(S,z){return G.H.useInsertionEffect(S,z)},pe.useLayoutEffect=function(S,z){return G.H.useLayoutEffect(S,z)},pe.useMemo=function(S,z){return G.H.useMemo(S,z)},pe.useOptimistic=function(S,z){return G.H.useOptimistic(S,z)},pe.useReducer=function(S,z,O){return G.H.useReducer(S,z,O)},pe.useRef=function(S){return G.H.useRef(S)},pe.useState=function(S){return G.H.useState(S)},pe.useSyncExternalStore=function(S,z,O){return G.H.useSyncExternalStore(S,z,O)},pe.useTransition=function(){return G.H.useTransition()},pe.version="19.1.0",pe}var vm;function bu(){return vm||(vm=1,Qc.exports=hb()),Qc.exports}var _=bu(),Pc={exports:{}},Ls={},Xc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function mb(){return _m||(_m=1,function(i){function n(H,W){var E=H.length;H.push(W);e:for(;0<E;){var Z=E-1>>>1,S=H[Z];if(0<o(S,W))H[Z]=W,H[E]=S,E=Z;else break e}}function s(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var W=H[0],E=H.pop();if(E!==W){H[0]=E;e:for(var Z=0,S=H.length,z=S>>>1;Z<z;){var O=2*(Z+1)-1,Y=H[O],D=O+1,ee=H[D];if(0>o(Y,E))D<S&&0>o(ee,Y)?(H[Z]=ee,H[D]=E,Z=D):(H[Z]=Y,H[O]=E,Z=O);else if(D<S&&0>o(ee,E))H[Z]=ee,H[D]=E,Z=D;else break e}}return W}function o(H,W){var E=H.sortIndex-W.sortIndex;return E!==0?E:H.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,x=h.now();i.unstable_now=function(){return h.now()-x}}var m=[],g=[],p=1,w=null,v=3,A=!1,j=!1,R=!1,T=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function X(H){for(var W=s(g);W!==null;){if(W.callback===null)l(g);else if(W.startTime<=H)l(g),W.sortIndex=W.expirationTime,n(m,W);else break;W=s(g)}}function G(H){if(R=!1,X(H),!j)if(s(m)!==null)j=!0,ae||(ae=!0,te());else{var W=s(g);W!==null&&xe(G,W.startTime-H)}}var ae=!1,le=-1,re=5,ne=-1;function oe(){return T?!0:!(i.unstable_now()-ne<re)}function ge(){if(T=!1,ae){var H=i.unstable_now();ne=H;var W=!0;try{e:{j=!1,R&&(R=!1,B(le),le=-1),A=!0;var E=v;try{t:{for(X(H),w=s(m);w!==null&&!(w.expirationTime>H&&oe());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,v=w.priorityLevel;var S=Z(w.expirationTime<=H);if(H=i.unstable_now(),typeof S=="function"){w.callback=S,X(H),W=!0;break t}w===s(m)&&l(m),X(H)}else l(m);w=s(m)}if(w!==null)W=!0;else{var z=s(g);z!==null&&xe(G,z.startTime-H),W=!1}}break e}finally{w=null,v=E,A=!1}W=void 0}}finally{W?te():ae=!1}}}var te;if(typeof V=="function")te=function(){V(ge)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ve=he.port2;he.port1.onmessage=ge,te=function(){ve.postMessage(null)}}else te=function(){U(ge,0)};function xe(H,W){le=U(function(){H(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(H){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var E=v;v=W;try{return H()}finally{v=E}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var E=v;v=H;try{return W()}finally{v=E}},i.unstable_scheduleCallback=function(H,W,E){var Z=i.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?Z+E:Z):E=Z,H){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=E+S,H={id:p++,callback:W,priorityLevel:H,startTime:E,expirationTime:S,sortIndex:-1},E>Z?(H.sortIndex=E,n(g,H),s(m)===null&&H===s(g)&&(R?(B(le),le=-1):R=!0,xe(G,E-Z))):(H.sortIndex=S,n(m,H),j||A||(j=!0,ae||(ae=!0,te()))),H},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(H){var W=v;return function(){var E=v;v=W;try{return H.apply(this,arguments)}finally{v=E}}}}(Fc)),Fc}var wm;function gb(){return wm||(wm=1,Xc.exports=mb()),Xc.exports}var Kc={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function xb(){if(Sm)return _t;Sm=1;var i=bu();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:p}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,_t.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(m,g,null,p)},_t.flushSync=function(m){var g=h.T,p=l.p;try{if(h.T=null,l.p=2,m)return m()}finally{h.T=g,l.p=p,l.d.f()}},_t.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},_t.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},_t.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,w=x(p,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:v,fetchPriority:A}):p==="script"&&l.d.X(m,{crossOrigin:w,integrity:v,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_t.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=x(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},_t.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,w=x(p,g.crossOrigin);l.d.L(m,p,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_t.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=x(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},_t.requestFormReset=function(m){l.d.r(m)},_t.unstable_batchedUpdates=function(m,g){return m(g)},_t.useFormState=function(m,g,p){return h.H.useFormState(m,g,p)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.1.0",_t}var jm;function bb(){if(jm)return Kc.exports;jm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Kc.exports=xb(),Kc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function pb(){if(Em)return Ls;Em=1;var i=gb(),n=bu(),s=bb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,r=t;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return x(c),e;if(f===r)return x(c),t;f=f.sibling}throw Error(l(188))}if(a.return!==r.return)a=c,r=f;else{for(var b=!1,y=c.child;y;){if(y===a){b=!0,a=c,r=f;break}if(y===r){b=!0,r=c,a=f;break}y=y.sibling}if(!b){for(y=f.child;y;){if(y===a){b=!0,a=f,r=c;break}if(y===r){b=!0,r=f,a=c;break}y=y.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),V=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case T:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case ae:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case V:return(e.displayName||"Context")+".Provider";case B:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var xe=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E={pending:!1,data:null,method:null,action:null},Z=[],S=-1;function z(e){return{current:e}}function O(e){0>S||(e.current=Z[S],Z[S]=null,S--)}function Y(e,t){S++,Z[S]=e.current,e.current=t}var D=z(null),ee=z(null),J=z(null),be=z(null);function se(e,t){switch(Y(J,t),Y(ee,e),Y(D,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qh(t),e=Ph(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(D),Y(D,e)}function me(){O(D),O(ee),O(J)}function je(e){e.memoizedState!==null&&Y(be,e);var t=D.current,a=Ph(t,e.type);t!==a&&(Y(ee,e),Y(D,a))}function Ae(e){ee.current===e&&(O(D),O(ee)),be.current===e&&(O(be),Cs._currentValue=E)}var Et=Object.prototype.hasOwnProperty,la=i.unstable_scheduleCallback,Jt=i.unstable_cancelCallback,Ws=i.unstable_shouldYield,Ci=i.unstable_requestPaint,Ht=i.unstable_now,Di=i.unstable_getCurrentPriorityLevel,el=i.unstable_ImmediatePriority,tl=i.unstable_UserBlockingPriority,hr=i.unstable_NormalPriority,al=i.unstable_LowPriority,rl=i.unstable_IdlePriority,ki=i.log,It=i.unstable_setDisableYieldValue,mr=null,bt=null;function ia(e){if(typeof ki=="function"&&It(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(mr,e)}catch{}}var pt=Math.clz32?Math.clz32:ke,I=Math.log,_e=Math.LN2;function ke(e){return e>>>=0,e===0?32:31-(I(e)/_e|0)|0}var Ce=256,Ye=4194304;function Qe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~f,r!==0?c=Qe(r):(b&=y,b!==0?c=Qe(b):a||(a=y&~e,a!==0&&(c=Qe(a))))):(y=r&~f,y!==0?c=Qe(y):b!==0?c=Qe(b):a||(a=r&~e,a!==0&&(c=Qe(a)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:c}function st(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ze(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tt(){var e=Ce;return Ce<<=1,(Ce&4194048)===0&&(Ce=256),e}function Nt(){var e=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),e}function La(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function za(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nl(e,t,a,r,c,f){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,N=e.expirationTimes,L=e.hiddenUpdates;for(a=b&~a;0<a;){var Q=31-pt(a),F=1<<Q;y[Q]=0,N[Q]=-1;var q=L[Q];if(q!==null)for(L[Q]=null,Q=0;Q<q.length;Q++){var $=q[Q];$!==null&&($.lane&=-536870913)}a&=~F}r!==0&&$n(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(b&~t))}function $n(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&4194090}function Cu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-pt(a),c=1<<r;c&t|e[r]&t&&(e[r]|=t),a&=~c}}function Oi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Du(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function I0(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var qa=Math.random().toString(36).slice(2),yt="__reactFiber$"+qa,Tt="__reactProps$"+qa,zr="__reactContainer$"+qa,Mi="__reactEvents$"+qa,W0="__reactListeners$"+qa,eg="__reactHandles$"+qa,ku="__reactResources$"+qa,Hn="__reactMarker$"+qa;function Li(e){delete e[yt],delete e[Tt],delete e[Mi],delete e[W0],delete e[eg]}function qr(e){var t=e[yt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[zr]||a[yt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Zh(e);e!==null;){if(a=e[yt])return a;e=Zh(e)}return t}e=a,a=e.parentNode}return null}function Br(e){if(e=e[yt]||e[zr]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Vn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function $r(e){var t=e[ku];return t||(t=e[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Hn]=!0}var Ou=new Set,Uu={};function gr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(Uu[e]=t,e=0;e<t.length;e++)Ou.add(t[e])}var tg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},Lu={};function ag(e){return Et.call(Lu,e)?!0:Et.call(Mu,e)?!1:tg.test(e)?Lu[e]=!0:(Mu[e]=!0,!1)}function sl(e,t,a){if(ag(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ll(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ba(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}var zi,zu;function Vr(e){if(zi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);zi=t&&t[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zi+e+zu}var qi=!1;function Bi(e,t){if(!e||qi)return"";qi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch($){var q=$}Reflect.construct(e,[],F)}else{try{F.call()}catch($){q=$}e.call(F.prototype)}}else{try{throw Error()}catch($){q=$}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),b=f[0],y=f[1];if(b&&y){var N=b.split(`
`),L=y.split(`
`);for(c=r=0;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(r===N.length||c===L.length)for(r=N.length-1,c=L.length-1;1<=r&&0<=c&&N[r]!==L[c];)c--;for(;1<=r&&0<=c;r--,c--)if(N[r]!==L[c]){if(r!==1||c!==1)do if(r--,c--,0>c||N[r]!==L[c]){var Q=`
`+N[r].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=r&&0<=c);break}}}finally{qi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Vr(a):""}function rg(e){switch(e.tag){case 26:case 27:case 5:return Vr(e.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return Vr("Activity");default:return""}}function qu(e){try{var t="";do t+=rg(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ng(e){var t=Bu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(b){r=""+b,f.call(this,b)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function il(e){e._valueTracker||(e._valueTracker=ng(e))}function $u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Bu(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sg=/[\n"\\]/g;function Gt(e){return e.replace(sg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $i(e,t,a,r,c,f,b,y){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?Hi(e,b,Vt(t)):a!=null?Hi(e,b,Vt(a)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Vt(y):e.removeAttribute("name")}function Hu(e,t,a,r,c,f,b,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+Vt(a):"",t=t!=null?""+Vt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Hi(e,t,a){t==="number"&&ol(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Gr(e,t,a,r){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Vt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Vu(e,t,a){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Vt(a):""}function Gu(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(l(92));if(xe(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Vt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r)}function Yr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var lg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||lg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Qu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&a[c]!==r&&Yu(e,c,r)}else for(var f in t)t.hasOwnProperty(f)&&Yu(e,f,t[f])}function Vi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(e){return og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gi=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qr=null,Pr=null;function Pu(e){var t=Br(e);if(t&&(e=t.stateNode)){var a=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if($i(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var c=r[Tt]||null;if(!c)throw Error(l(90));$i(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&$u(r)}break e;case"textarea":Vu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Gr(e,!!a.multiple,t,!1)}}}var Qi=!1;function Xu(e,t,a){if(Qi)return e(t,a);Qi=!0;try{var r=e(t);return r}finally{if(Qi=!1,(Qr!==null||Pr!==null)&&(Fl(),Qr&&(t=Qr,e=Pr,Pr=Qr=null,Pu(t),e)))for(t=0;t<e.length;t++)Pu(e[t])}}function Gn(e,t){var a=e.stateNode;if(a===null)return null;var r=a[Tt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pi=!1;if(pa)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Pi=!1}var Ba=null,Xi=null,ul=null;function Fu(){if(ul)return ul;var e,t=Xi,a=t.length,r,c="value"in Ba?Ba.value:Ba.textContent,f=c.length;for(e=0;e<a&&t[e]===c[e];e++);var b=a-e;for(r=1;r<=b&&t[a-r]===c[f-r];r++);return ul=c.slice(e,1<r?1-r:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fl(){return!0}function Ku(){return!1}function At(e){function t(a,r,c,f,b){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fl:Ku,this.isPropagationStopped=Ku,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=At(xr),Qn=p({},xr,{view:0,detail:0}),cg=At(Qn),Fi,Ki,Pn,ml=p({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pn&&(Pn&&e.type==="mousemove"?(Fi=e.screenX-Pn.screenX,Ki=e.screenY-Pn.screenY):Ki=Fi=0,Pn=e),Fi)},movementY:function(e){return"movementY"in e?e.movementY:Ki}}),Zu=At(ml),ug=p({},ml,{dataTransfer:0}),dg=At(ug),fg=p({},Qn,{relatedTarget:0}),Zi=At(fg),hg=p({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),mg=At(hg),gg=p({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xg=At(gg),bg=p({},xr,{data:0}),Ju=At(bg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vg[e])?!!t[e]:!1}function Ji(){return _g}var wg=p({},Qn,{key:function(e){if(e.key){var t=pg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sg=At(wg),jg=p({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=At(jg),Eg=p({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),Ng=At(Eg),Tg=p({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ag=At(Tg),Rg=p({},ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cg=At(Rg),Dg=p({},xr,{newState:0,oldState:0}),kg=At(Dg),Og=[9,13,27,32],Ii=pa&&"CompositionEvent"in window,Xn=null;pa&&"documentMode"in document&&(Xn=document.documentMode);var Ug=pa&&"TextEvent"in window&&!Xn,Wu=pa&&(!Ii||Xn&&8<Xn&&11>=Xn),ed=" ",td=!1;function ad(e,t){switch(e){case"keyup":return Og.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function Mg(e,t){switch(e){case"compositionend":return rd(t);case"keypress":return t.which!==32?null:(td=!0,ed);case"textInput":return e=t.data,e===ed&&td?null:e;default:return null}}function Lg(e,t){if(Xr)return e==="compositionend"||!Ii&&ad(e,t)?(e=Fu(),ul=Xi=Ba=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zg[e.type]:t==="textarea"}function sd(e,t,a,r){Qr?Pr?Pr.push(r):Pr=[r]:Qr=r,t=ei(t,"onChange"),0<t.length&&(a=new hl("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Fn=null,Kn=null;function qg(e){$h(e,0)}function gl(e){var t=Vn(e);if($u(t))return e}function ld(e,t){if(e==="change")return t}var id=!1;if(pa){var Wi;if(pa){var eo="oninput"in document;if(!eo){var od=document.createElement("div");od.setAttribute("oninput","return;"),eo=typeof od.oninput=="function"}Wi=eo}else Wi=!1;id=Wi&&(!document.documentMode||9<document.documentMode)}function cd(){Fn&&(Fn.detachEvent("onpropertychange",ud),Kn=Fn=null)}function ud(e){if(e.propertyName==="value"&&gl(Kn)){var t=[];sd(t,Kn,e,Yi(e)),Xu(qg,t)}}function Bg(e,t,a){e==="focusin"?(cd(),Fn=t,Kn=a,Fn.attachEvent("onpropertychange",ud)):e==="focusout"&&cd()}function $g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Kn)}function Hg(e,t){if(e==="click")return gl(t)}function Vg(e,t){if(e==="input"||e==="change")return gl(t)}function Gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Gg;function Zn(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!Et.call(t,c)||!Ot(e[c],t[c]))return!1}return!0}function dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var a=dd(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dd(a)}}function hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ol(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ol(e.document)}return t}function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yg=pa&&"documentMode"in document&&11>=document.documentMode,Fr=null,ao=null,Jn=null,ro=!1;function gd(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ro||Fr==null||Fr!==ol(r)||(r=Fr,"selectionStart"in r&&to(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jn&&Zn(Jn,r)||(Jn=r,r=ei(ao,"onSelect"),0<r.length&&(t=new hl("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Fr)))}function br(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},no={},xd={};pa&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function pr(e){if(no[e])return no[e];if(!Kr[e])return e;var t=Kr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in xd)return no[e]=t[a];return e}var bd=pr("animationend"),pd=pr("animationiteration"),yd=pr("animationstart"),Qg=pr("transitionrun"),Pg=pr("transitionstart"),Xg=pr("transitioncancel"),vd=pr("transitionend"),_d=new Map,so="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");so.push("scrollEnd");function Wt(e,t){_d.set(e,t),gr(t,[e])}var wd=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var a=wd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:qu(t)},wd.set(e,t),t)}return{value:e,source:t,stack:qu(t)}}var Qt=[],Zr=0,lo=0;function xl(){for(var e=Zr,t=lo=Zr=0;t<e;){var a=Qt[t];Qt[t++]=null;var r=Qt[t];Qt[t++]=null;var c=Qt[t];Qt[t++]=null;var f=Qt[t];if(Qt[t++]=null,r!==null&&c!==null){var b=r.pending;b===null?c.next=c:(c.next=b.next,b.next=c),r.pending=c}f!==0&&Sd(a,c,f)}}function bl(e,t,a,r){Qt[Zr++]=e,Qt[Zr++]=t,Qt[Zr++]=a,Qt[Zr++]=r,lo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function io(e,t,a,r){return bl(e,t,a,r),pl(e)}function Jr(e,t){return bl(e,null,null,t),pl(e)}function Sd(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,r=f.alternate,r!==null&&(r.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-pt(a),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=a|536870912),f):null}function pl(e){if(50<ws)throw ws=0,mc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ir={};function Fg(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,a,r){return new Fg(e,t,a,r)}function oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ya(e,t){var a=e.alternate;return a===null?(a=Ut(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yl(e,t,a,r,c,f){var b=0;if(r=e,typeof e=="function")oo(e)&&(b=1);else if(typeof e=="string")b=Zx(e,a,D.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Ut(31,a,t,c),e.elementType=ne,e.lanes=f,e;case j:return yr(a.children,c,f,t);case R:b=8,c|=24;break;case T:return e=Ut(12,a,t,c|2),e.elementType=T,e.lanes=f,e;case G:return e=Ut(13,a,t,c),e.elementType=G,e.lanes=f,e;case ae:return e=Ut(19,a,t,c),e.elementType=ae,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case V:b=10;break e;case B:b=9;break e;case X:b=11;break e;case le:b=14;break e;case re:b=16,r=null;break e}b=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Ut(b,a,t,c),t.elementType=e,t.type=r,t.lanes=f,t}function yr(e,t,a,r){return e=Ut(7,e,r,t),e.lanes=a,e}function co(e,t,a){return e=Ut(6,e,null,t),e.lanes=a,e}function uo(e,t,a){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],en=0,vl=null,_l=0,Pt=[],Xt=0,vr=null,va=1,_a="";function _r(e,t){Wr[en++]=_l,Wr[en++]=vl,vl=e,_l=t}function Ed(e,t,a){Pt[Xt++]=va,Pt[Xt++]=_a,Pt[Xt++]=vr,vr=e;var r=va;e=_a;var c=32-pt(r)-1;r&=~(1<<c),a+=1;var f=32-pt(t)+c;if(30<f){var b=c-c%5;f=(r&(1<<b)-1).toString(32),r>>=b,c-=b,va=1<<32-pt(t)+c|a<<c|r,_a=f+e}else va=1<<f|a<<c|r,_a=e}function fo(e){e.return!==null&&(_r(e,1),Ed(e,1,0))}function ho(e){for(;e===vl;)vl=Wr[--en],Wr[en]=null,_l=Wr[--en],Wr[en]=null;for(;e===vr;)vr=Pt[--Xt],Pt[Xt]=null,_a=Pt[--Xt],Pt[Xt]=null,va=Pt[--Xt],Pt[Xt]=null}var wt=null,Fe=null,Oe=!1,wr=null,oa=!1,mo=Error(l(519));function Sr(e){var t=Error(l(418,""));throw es(Yt(t,e)),mo}function Nd(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[yt]=e,t[Tt]=r,a){case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":case"embed":Ne("load",t);break;case"video":case"audio":for(a=0;a<js.length;a++)Ne(js[a],t);break;case"source":Ne("error",t);break;case"img":case"image":case"link":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"input":Ne("invalid",t),Hu(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),il(t);break;case"select":Ne("invalid",t);break;case"textarea":Ne("invalid",t),Gu(t,r.value,r.defaultValue,r.children),il(t)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||Yh(t.textContent,a)?(r.popover!=null&&(Ne("beforetoggle",t),Ne("toggle",t)),r.onScroll!=null&&Ne("scroll",t),r.onScrollEnd!=null&&Ne("scrollend",t),r.onClick!=null&&(t.onclick=ti),t=!0):t=!1,t||Sr(e)}function Td(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:wt=wt.return}}function In(e){if(e!==wt)return!1;if(!Oe)return Td(e),Oe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cc(e.type,e.memoizedProps)),a=!a),a&&Fe&&Sr(e),Td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Fe=ta(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Fe=null}}else t===27?(t=Fe,tr(e.type)?(e=Uc,Uc=null,Fe=e):Fe=t):Fe=wt?ta(e.stateNode.nextSibling):null;return!0}function Wn(){Fe=wt=null,Oe=!1}function Ad(){var e=wr;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),wr=null),e}function es(e){wr===null?wr=[e]:wr.push(e)}var go=z(null),jr=null,wa=null;function $a(e,t,a){Y(go,t._currentValue),t._currentValue=a}function Sa(e){e._currentValue=go.current,O(go)}function xo(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function bo(e,t,a,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var b=c.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=c;for(var N=0;N<t.length;N++)if(y.context===t[N]){f.lanes|=a,y=f.alternate,y!==null&&(y.lanes|=a),xo(f.return,a,e),r||(b=null);break e}f=y.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(l(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),xo(b,a,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function ts(e,t,a,r){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var y=c.type;Ot(c.pendingProps.value,b.value)||(e!==null?e.push(y):e=[y])}}else if(c===be.current){if(b=c.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Cs):e=[Cs])}c=c.return}e!==null&&bo(t,e,a,r),t.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){jr=e,wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return Rd(jr,e)}function Sl(e,t){return jr===null&&Er(e),Rd(e,t)}function Rd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},wa===null){if(e===null)throw Error(l(308));wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wa=wa.next=t;return a}var Kg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Zg=i.unstable_scheduleCallback,Jg=i.unstable_NormalPriority,at={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function po(){return{controller:new Kg,data:new Map,refCount:0}}function as(e){e.refCount--,e.refCount===0&&Zg(Jg,function(){e.controller.abort()})}var rs=null,yo=0,tn=0,an=null;function Ig(e,t){if(rs===null){var a=rs=[];yo=0,tn=_c(),an={status:"pending",value:void 0,then:function(r){a.push(r)}}}return yo++,t.then(Cd,Cd),t}function Cd(){if(--yo===0&&rs!==null){an!==null&&(an.status="fulfilled");var e=rs;rs=null,tn=0,an=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wg(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var Dd=H.S;H.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ig(e,t),Dd!==null&&Dd(e,t)};var Nr=z(null);function vo(){var e=Nr.current;return e!==null?e:He.pooledCache}function jl(e,t){t===null?Y(Nr,Nr.current):Y(Nr,t.pool)}function kd(){var e=vo();return e===null?null:{parent:at._currentValue,pool:e}}var ns=Error(l(460)),Od=Error(l(474)),El=Error(l(542)),_o={then:function(){}};function Ud(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Nl(){}function Md(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Nl,Nl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e;default:if(typeof t.status=="string")t.then(Nl,Nl);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e}throw ss=t,ns}}var ss=null;function Ld(){if(ss===null)throw Error(l(459));var e=ss;return ss=null,e}function zd(e){if(e===ns||e===El)throw Error(l(483))}var Ha=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function So(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=pl(e),Sd(e,null,a),t}return bl(e,r,t,a),pl(e)}function ls(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Cu(e,a)}}function jo(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?c=f=t:f=f.next=t}else c=f=t;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Eo=!1;function is(){if(Eo){var e=an;if(e!==null)throw e}}function os(e,t,a,r){Eo=!1;var c=e.updateQueue;Ha=!1;var f=c.firstBaseUpdate,b=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var N=y,L=N.next;N.next=null,b===null?f=L:b.next=L,b=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,y=Q.lastBaseUpdate,y!==b&&(y===null?Q.firstBaseUpdate=L:y.next=L,Q.lastBaseUpdate=N))}if(f!==null){var F=c.baseState;b=0,Q=L=N=null,y=f;do{var q=y.lane&-536870913,$=q!==y.lane;if($?(Re&q)===q:(r&q)===q){q!==0&&q===tn&&(Eo=!0),Q!==null&&(Q=Q.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var fe=e,ue=y;q=t;var qe=a;switch(ue.tag){case 1:if(fe=ue.payload,typeof fe=="function"){F=fe.call(qe,F,q);break e}F=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ue.payload,q=typeof fe=="function"?fe.call(qe,F,q):fe,q==null)break e;F=p({},F,q);break e;case 2:Ha=!0}}q=y.callback,q!==null&&(e.flags|=64,$&&(e.flags|=8192),$=c.callbacks,$===null?c.callbacks=[q]:$.push(q))}else $={lane:q,tag:y.tag,payload:y.payload,callback:y.callback,next:null},Q===null?(L=Q=$,N=F):Q=Q.next=$,b|=q;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;$=y,y=$.next,$.next=null,c.lastBaseUpdate=$,c.shared.pending=null}}while(!0);Q===null&&(N=F),c.baseState=N,c.firstBaseUpdate=L,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Ja|=b,e.lanes=b,e.memoizedState=F}}function qd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Bd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qd(a[e],t)}var rn=z(null),Tl=z(0);function $d(e,t){e=Ca,Y(Tl,e),Y(rn,t),Ca=e|t.baseLanes}function No(){Y(Tl,Ca),Y(rn,rn.current)}function To(){Ca=Tl.current,O(rn),O(Tl)}var Ya=0,we=null,Le=null,We=null,Al=!1,nn=!1,Tr=!1,Rl=0,cs=0,sn=null,ex=0;function Je(){throw Error(l(321))}function Ao(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function Ro(e,t,a,r,c,f){return Ya=f,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?jf:Ef,Tr=!1,f=a(r,c),Tr=!1,nn&&(f=Vd(t,a,r,c)),Hd(e),f}function Hd(e){H.H=Ml;var t=Le!==null&&Le.next!==null;if(Ya=0,We=Le=we=null,Al=!1,cs=0,sn=null,t)throw Error(l(300));e===null||it||(e=e.dependencies,e!==null&&wl(e)&&(it=!0))}function Vd(e,t,a,r){we=e;var c=0;do{if(nn&&(sn=null),cs=0,nn=!1,25<=c)throw Error(l(301));if(c+=1,We=Le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ix,f=t(a,r)}while(nn);return f}function tx(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?us(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(we.flags|=1024),t}function Co(){var e=Rl!==0;return Rl=0,e}function Do(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ko(e){if(Al){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Al=!1}Ya=0,We=Le=we=null,nn=!1,cs=Rl=0,sn=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?we.memoizedState=We=e:We=We.next=e,We}function et(){if(Le===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=We===null?we.memoizedState:We.next;if(t!==null)We=t,Le=e;else{if(e===null)throw we.alternate===null?Error(l(467)):Error(l(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},We===null?we.memoizedState=We=e:We=We.next=e}return We}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function us(e){var t=cs;return cs+=1,sn===null&&(sn=[]),e=Md(sn,e,t),t=we,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?jf:Ef),e}function Cl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return us(e);if(e.$$typeof===V)return vt(e)}throw Error(l(438,String(e)))}function Uo(e){var t=null,a=we.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Oo(),we.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=oe;return t.index++,a}function ja(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=et();return Mo(t,Le,e)}function Mo(e,t,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var b=c.next;c.next=f.next,f.next=b}t.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var y=b=null,N=null,L=t,Q=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(Re&F)===F:(Ya&F)===F){var q=L.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===tn&&(Q=!0);else if((Ya&q)===q){L=L.next,q===tn&&(Q=!0);continue}else F={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(y=N=F,b=f):N=N.next=F,we.lanes|=q,Ja|=q;F=L.action,Tr&&a(f,F),f=L.hasEagerState?L.eagerState:a(f,F)}else q={lane:F,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(y=N=q,b=f):N=N.next=q,we.lanes|=F,Ja|=F;L=L.next}while(L!==null&&L!==t);if(N===null?b=f:N.next=y,!Ot(f,e.memoizedState)&&(it=!0,Q&&(a=an,a!==null)))throw a;e.memoizedState=f,e.baseState=b,e.baseQueue=N,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Lo(e){var t=et(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,c=a.pending,f=t.memoizedState;if(c!==null){a.pending=null;var b=c=c.next;do f=e(f,b.action),b=b.next;while(b!==c);Ot(f,t.memoizedState)||(it=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,r]}function Gd(e,t,a){var r=we,c=et(),f=Oe;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var b=!Ot((Le||c).memoizedState,a);b&&(c.memoizedState=a,it=!0),c=c.queue;var y=Pd.bind(null,r,c,e);if(ds(2048,8,y,[e]),c.getSnapshot!==t||b||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,ln(9,kl(),Qd.bind(null,r,c,a,t),null),He===null)throw Error(l(349));f||(Ya&124)!==0||Yd(r,t,a)}return a}function Yd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=we.updateQueue,t===null?(t=Oo(),we.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Qd(e,t,a,r){t.value=a,t.getSnapshot=r,Xd(t)&&Fd(e)}function Pd(e,t,a){return a(function(){Xd(t)&&Fd(e)})}function Xd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch{return!0}}function Fd(e){var t=Jr(e,2);t!==null&&Bt(t,e,2)}function zo(e){var t=Rt();if(typeof e=="function"){var a=e;if(e=a(),Tr){ia(!0);try{a()}finally{ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function Kd(e,t,a,r){return e.baseState=a,Mo(e,Le,typeof r=="function"?r:ja)}function ax(e,t,a,r,c){if(Ul(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};H.T!==null?a(!0):f.isTransition=!1,r(f),a=t.pending,a===null?(f.next=t.pending=f,Zd(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Zd(e,t){var a=t.action,r=t.payload,c=e.state;if(t.isTransition){var f=H.T,b={};H.T=b;try{var y=a(c,r),N=H.S;N!==null&&N(b,y),Jd(e,t,y)}catch(L){qo(e,t,L)}finally{H.T=f}}else try{f=a(c,r),Jd(e,t,f)}catch(L){qo(e,t,L)}}function Jd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Id(e,t,r)},function(r){return qo(e,t,r)}):Id(e,t,a)}function Id(e,t,a){t.status="fulfilled",t.value=a,Wd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Zd(e,a)))}function qo(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,Wd(t),t=t.next;while(t!==r)}e.action=null}function Wd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ef(e,t){return t}function tf(e,t){if(Oe){var a=He.formState;if(a!==null){e:{var r=we;if(Oe){if(Fe){t:{for(var c=Fe,f=oa;c.nodeType!==8;){if(!f){c=null;break t}if(c=ta(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Fe=ta(c.nextSibling),r=c.data==="F!";break e}}Sr(r)}r=!1}r&&(t=a[0])}}return a=Rt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:t},a.queue=r,a=_f.bind(null,we,r),r.dispatch=a,r=zo(!1),f=Go.bind(null,we,!1,r.queue),r=Rt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,a=ax.bind(null,we,c,f,a),c.dispatch=a,r.memoizedState=e,[t,a,!1]}function af(e){var t=et();return rf(t,Le,e)}function rf(e,t,a){if(t=Mo(e,t,ef)[0],e=Dl(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=us(t)}catch(b){throw b===ns?El:b}else r=t;t=et();var c=t.queue,f=c.dispatch;return a!==t.memoizedState&&(we.flags|=2048,ln(9,kl(),rx.bind(null,c,a),null)),[r,f,e]}function rx(e,t){e.action=t}function nf(e){var t=et(),a=Le;if(a!==null)return rf(t,a,e);et(),t=t.memoizedState,a=et();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function ln(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=we.updateQueue,t===null&&(t=Oo(),we.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function kl(){return{destroy:void 0,resource:void 0}}function sf(){return et().memoizedState}function Ol(e,t,a,r){var c=Rt();r=r===void 0?null:r,we.flags|=e,c.memoizedState=ln(1|t,kl(),a,r)}function ds(e,t,a,r){var c=et();r=r===void 0?null:r;var f=c.memoizedState.inst;Le!==null&&r!==null&&Ao(r,Le.memoizedState.deps)?c.memoizedState=ln(t,f,a,r):(we.flags|=e,c.memoizedState=ln(1|t,f,a,r))}function lf(e,t){Ol(8390656,8,e,t)}function of(e,t){ds(2048,8,e,t)}function cf(e,t){return ds(4,2,e,t)}function uf(e,t){return ds(4,4,e,t)}function df(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ff(e,t,a){a=a!=null?a.concat([e]):null,ds(4,4,df.bind(null,t,e),a)}function Bo(){}function hf(e,t){var a=et();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&Ao(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function mf(e,t){var a=et();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&Ao(t,r[1]))return r[0];if(r=e(),Tr){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[r,t],r}function $o(e,t,a){return a===void 0||(Ya&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=bh(),we.lanes|=e,Ja|=e,a)}function gf(e,t,a,r){return Ot(a,t)?a:rn.current!==null?(e=$o(e,a,r),Ot(e,t)||(it=!0),e):(Ya&42)===0?(it=!0,e.memoizedState=a):(e=bh(),we.lanes|=e,Ja|=e,t)}function xf(e,t,a,r,c){var f=W.p;W.p=f!==0&&8>f?f:8;var b=H.T,y={};H.T=y,Go(e,!1,t,a);try{var N=c(),L=H.S;if(L!==null&&L(y,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=Wg(N,r);fs(e,t,Q,qt(e))}else fs(e,t,r,qt(e))}catch(F){fs(e,t,{then:function(){},status:"rejected",reason:F},qt())}finally{W.p=f,H.T=b}}function nx(){}function Ho(e,t,a,r){if(e.tag!==5)throw Error(l(476));var c=bf(e).queue;xf(e,c,t,E,a===null?nx:function(){return pf(e),a(r)})}function bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:E},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pf(e){var t=bf(e).next.queue;fs(e,t,{},qt())}function Vo(){return vt(Cs)}function yf(){return et().memoizedState}function vf(){return et().memoizedState}function sx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=qt();e=Va(a);var r=Ga(t,e,a);r!==null&&(Bt(r,t,a),ls(r,t,a)),t={cache:po()},e.payload=t;return}t=t.return}}function lx(e,t,a){var r=qt();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ul(e)?wf(t,a):(a=io(e,t,a,r),a!==null&&(Bt(a,e,r),Sf(a,t,r)))}function _f(e,t,a){var r=qt();fs(e,t,a,r)}function fs(e,t,a,r){var c={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))wf(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var b=t.lastRenderedState,y=f(b,a);if(c.hasEagerState=!0,c.eagerState=y,Ot(y,b))return bl(e,t,c,0),He===null&&xl(),!1}catch{}finally{}if(a=io(e,t,c,r),a!==null)return Bt(a,e,r),Sf(a,t,r),!0}return!1}function Go(e,t,a,r){if(r={lane:2,revertLane:_c(),action:r,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(l(479))}else t=io(e,a,r,2),t!==null&&Bt(t,e,2)}function Ul(e){var t=e.alternate;return e===we||t!==null&&t===we}function wf(e,t){nn=Al=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sf(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Cu(e,a)}}var Ml={readContext:vt,use:Cl,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},jf={readContext:vt,use:Cl,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:lf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ol(4194308,4,df.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var a=Rt();t=t===void 0?null:t;var r=e();if(Tr){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=Rt();if(a!==void 0){var c=a(t);if(Tr){ia(!0);try{a(t)}finally{ia(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=lx.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=zo(e);var t=e.queue,a=_f.bind(null,we,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Bo,useDeferredValue:function(e,t){var a=Rt();return $o(a,e,t)},useTransition:function(){var e=zo(!1);return e=xf.bind(null,we,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=we,c=Rt();if(Oe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),He===null)throw Error(l(349));(Re&124)!==0||Yd(r,t,a)}c.memoizedState=a;var f={value:a,getSnapshot:t};return c.queue=f,lf(Pd.bind(null,r,f,e),[e]),r.flags|=2048,ln(9,kl(),Qd.bind(null,r,f,a,t),null),a},useId:function(){var e=Rt(),t=He.identifierPrefix;if(Oe){var a=_a,r=va;a=(r&~(1<<32-pt(r)-1)).toString(32)+a,t="«"+t+"R"+a,a=Rl++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=ex++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Vo,useFormState:tf,useActionState:tf,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Go.bind(null,we,!0,a),a.dispatch=t,[e,t]},useMemoCache:Uo,useCacheRefresh:function(){return Rt().memoizedState=sx.bind(null,we)}},Ef={readContext:vt,use:Cl,useCallback:hf,useContext:vt,useEffect:of,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:mf,useReducer:Dl,useRef:sf,useState:function(){return Dl(ja)},useDebugValue:Bo,useDeferredValue:function(e,t){var a=et();return gf(a,Le.memoizedState,e,t)},useTransition:function(){var e=Dl(ja)[0],t=et().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:Gd,useId:yf,useHostTransitionStatus:Vo,useFormState:af,useActionState:af,useOptimistic:function(e,t){var a=et();return Kd(a,Le,e,t)},useMemoCache:Uo,useCacheRefresh:vf},ix={readContext:vt,use:Cl,useCallback:hf,useContext:vt,useEffect:of,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:mf,useReducer:Lo,useRef:sf,useState:function(){return Lo(ja)},useDebugValue:Bo,useDeferredValue:function(e,t){var a=et();return Le===null?$o(a,e,t):gf(a,Le.memoizedState,e,t)},useTransition:function(){var e=Lo(ja)[0],t=et().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:Gd,useId:yf,useHostTransitionStatus:Vo,useFormState:nf,useActionState:nf,useOptimistic:function(e,t){var a=et();return Le!==null?Kd(a,Le,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uo,useCacheRefresh:vf},on=null,hs=0;function Ll(e){var t=hs;return hs+=1,on===null&&(on=[]),Md(on,e,t)}function ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zl(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Nf(e){var t=e._init;return t(e._payload)}function Tf(e){function t(k,C){if(e){var M=k.deletions;M===null?(k.deletions=[C],k.flags|=16):M.push(C)}}function a(k,C){if(!e)return null;for(;C!==null;)t(k,C),C=C.sibling;return null}function r(k){for(var C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function c(k,C){return k=ya(k,C),k.index=0,k.sibling=null,k}function f(k,C,M){return k.index=M,e?(M=k.alternate,M!==null?(M=M.index,M<C?(k.flags|=67108866,C):M):(k.flags|=67108866,C)):(k.flags|=1048576,C)}function b(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function y(k,C,M,P){return C===null||C.tag!==6?(C=co(M,k.mode,P),C.return=k,C):(C=c(C,M),C.return=k,C)}function N(k,C,M,P){var ie=M.type;return ie===j?Q(k,C,M.props.children,P,M.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===re&&Nf(ie)===C.type)?(C=c(C,M.props),ms(C,M),C.return=k,C):(C=yl(M.type,M.key,M.props,null,k.mode,P),ms(C,M),C.return=k,C)}function L(k,C,M,P){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=uo(M,k.mode,P),C.return=k,C):(C=c(C,M.children||[]),C.return=k,C)}function Q(k,C,M,P,ie){return C===null||C.tag!==7?(C=yr(M,k.mode,P,ie),C.return=k,C):(C=c(C,M),C.return=k,C)}function F(k,C,M){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=co(""+C,k.mode,M),C.return=k,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return M=yl(C.type,C.key,C.props,null,k.mode,M),ms(M,C),M.return=k,M;case A:return C=uo(C,k.mode,M),C.return=k,C;case re:var P=C._init;return C=P(C._payload),F(k,C,M)}if(xe(C)||te(C))return C=yr(C,k.mode,M,null),C.return=k,C;if(typeof C.then=="function")return F(k,Ll(C),M);if(C.$$typeof===V)return F(k,Sl(k,C),M);zl(k,C)}return null}function q(k,C,M,P){var ie=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ie!==null?null:y(k,C,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return M.key===ie?N(k,C,M,P):null;case A:return M.key===ie?L(k,C,M,P):null;case re:return ie=M._init,M=ie(M._payload),q(k,C,M,P)}if(xe(M)||te(M))return ie!==null?null:Q(k,C,M,P,null);if(typeof M.then=="function")return q(k,C,Ll(M),P);if(M.$$typeof===V)return q(k,C,Sl(k,M),P);zl(k,M)}return null}function $(k,C,M,P,ie){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return k=k.get(M)||null,y(C,k,""+P,ie);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return k=k.get(P.key===null?M:P.key)||null,N(C,k,P,ie);case A:return k=k.get(P.key===null?M:P.key)||null,L(C,k,P,ie);case re:var Se=P._init;return P=Se(P._payload),$(k,C,M,P,ie)}if(xe(P)||te(P))return k=k.get(M)||null,Q(C,k,P,ie,null);if(typeof P.then=="function")return $(k,C,M,Ll(P),ie);if(P.$$typeof===V)return $(k,C,M,Sl(C,P),ie);zl(C,P)}return null}function fe(k,C,M,P){for(var ie=null,Se=null,ce=C,de=C=0,ct=null;ce!==null&&de<M.length;de++){ce.index>de?(ct=ce,ce=null):ct=ce.sibling;var De=q(k,ce,M[de],P);if(De===null){ce===null&&(ce=ct);break}e&&ce&&De.alternate===null&&t(k,ce),C=f(De,C,de),Se===null?ie=De:Se.sibling=De,Se=De,ce=ct}if(de===M.length)return a(k,ce),Oe&&_r(k,de),ie;if(ce===null){for(;de<M.length;de++)ce=F(k,M[de],P),ce!==null&&(C=f(ce,C,de),Se===null?ie=ce:Se.sibling=ce,Se=ce);return Oe&&_r(k,de),ie}for(ce=r(ce);de<M.length;de++)ct=$(ce,k,de,M[de],P),ct!==null&&(e&&ct.alternate!==null&&ce.delete(ct.key===null?de:ct.key),C=f(ct,C,de),Se===null?ie=ct:Se.sibling=ct,Se=ct);return e&&ce.forEach(function(lr){return t(k,lr)}),Oe&&_r(k,de),ie}function ue(k,C,M,P){if(M==null)throw Error(l(151));for(var ie=null,Se=null,ce=C,de=C=0,ct=null,De=M.next();ce!==null&&!De.done;de++,De=M.next()){ce.index>de?(ct=ce,ce=null):ct=ce.sibling;var lr=q(k,ce,De.value,P);if(lr===null){ce===null&&(ce=ct);break}e&&ce&&lr.alternate===null&&t(k,ce),C=f(lr,C,de),Se===null?ie=lr:Se.sibling=lr,Se=lr,ce=ct}if(De.done)return a(k,ce),Oe&&_r(k,de),ie;if(ce===null){for(;!De.done;de++,De=M.next())De=F(k,De.value,P),De!==null&&(C=f(De,C,de),Se===null?ie=De:Se.sibling=De,Se=De);return Oe&&_r(k,de),ie}for(ce=r(ce);!De.done;de++,De=M.next())De=$(ce,k,de,De.value,P),De!==null&&(e&&De.alternate!==null&&ce.delete(De.key===null?de:De.key),C=f(De,C,de),Se===null?ie=De:Se.sibling=De,Se=De);return e&&ce.forEach(function(ob){return t(k,ob)}),Oe&&_r(k,de),ie}function qe(k,C,M,P){if(typeof M=="object"&&M!==null&&M.type===j&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case v:e:{for(var ie=M.key;C!==null;){if(C.key===ie){if(ie=M.type,ie===j){if(C.tag===7){a(k,C.sibling),P=c(C,M.props.children),P.return=k,k=P;break e}}else if(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===re&&Nf(ie)===C.type){a(k,C.sibling),P=c(C,M.props),ms(P,M),P.return=k,k=P;break e}a(k,C);break}else t(k,C);C=C.sibling}M.type===j?(P=yr(M.props.children,k.mode,P,M.key),P.return=k,k=P):(P=yl(M.type,M.key,M.props,null,k.mode,P),ms(P,M),P.return=k,k=P)}return b(k);case A:e:{for(ie=M.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){a(k,C.sibling),P=c(C,M.children||[]),P.return=k,k=P;break e}else{a(k,C);break}else t(k,C);C=C.sibling}P=uo(M,k.mode,P),P.return=k,k=P}return b(k);case re:return ie=M._init,M=ie(M._payload),qe(k,C,M,P)}if(xe(M))return fe(k,C,M,P);if(te(M)){if(ie=te(M),typeof ie!="function")throw Error(l(150));return M=ie.call(M),ue(k,C,M,P)}if(typeof M.then=="function")return qe(k,C,Ll(M),P);if(M.$$typeof===V)return qe(k,C,Sl(k,M),P);zl(k,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,C!==null&&C.tag===6?(a(k,C.sibling),P=c(C,M),P.return=k,k=P):(a(k,C),P=co(M,k.mode,P),P.return=k,k=P),b(k)):a(k,C)}return function(k,C,M,P){try{hs=0;var ie=qe(k,C,M,P);return on=null,ie}catch(ce){if(ce===ns||ce===El)throw ce;var Se=Ut(29,ce,null,k.mode);return Se.lanes=P,Se.return=k,Se}finally{}}}var cn=Tf(!0),Af=Tf(!1),Ft=z(null),ca=null;function Qa(e){var t=e.alternate;Y(rt,rt.current&1),Y(Ft,e),ca===null&&(t===null||rn.current!==null||t.memoizedState!==null)&&(ca=e)}function Rf(e){if(e.tag===22){if(Y(rt,rt.current),Y(Ft,e),ca===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ca=e)}}else Pa()}function Pa(){Y(rt,rt.current),Y(Ft,Ft.current)}function Ea(e){O(Ft),ca===e&&(ca=null),O(rt)}var rt=z(0);function ql(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Oc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Yo(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qo={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=qt(),c=Va(r);c.payload=t,a!=null&&(c.callback=a),t=Ga(e,c,r),t!==null&&(Bt(t,e,r),ls(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=qt(),c=Va(r);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=Ga(e,c,r),t!==null&&(Bt(t,e,r),ls(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=qt(),r=Va(a);r.tag=2,t!=null&&(r.callback=t),t=Ga(e,r,a),t!==null&&(Bt(t,e,a),ls(t,e,a))}};function Cf(e,t,a,r,c,f,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,b):t.prototype&&t.prototype.isPureReactComponent?!Zn(a,r)||!Zn(c,f):!0}function Df(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Qo.enqueueReplaceState(t,t.state,null)}function Ar(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var Bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function kf(e){Bl(e)}function Of(e){console.error(e)}function Uf(e){Bl(e)}function $l(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Mf(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Po(e,t,a){return a=Va(a),a.tag=3,a.payload={element:null},a.callback=function(){$l(e,t)},a}function Lf(e){return e=Va(e),e.tag=3,e}function zf(e,t,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){Mf(t,a,r)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Mf(t,a,r),typeof c!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function ox(e,t,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&ts(t,a,c,!0),a=Ft.current,a!==null){switch(a.tag){case 13:return ca===null?xc():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===_o?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),pc(e,r,c)),!1;case 22:return a.flags|=65536,r===_o?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),pc(e,r,c)),!1}throw Error(l(435,a.tag))}return pc(e,r,c),xc(),!1}if(Oe)return t=Ft.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==mo&&(e=Error(l(422),{cause:r}),es(Yt(e,a)))):(r!==mo&&(t=Error(l(423),{cause:r}),es(Yt(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Yt(r,a),c=Po(e.stateNode,r,c),jo(e,c),Ke!==4&&(Ke=2)),!1;var f=Error(l(520),{cause:r});if(f=Yt(f,a),_s===null?_s=[f]:_s.push(f),Ke!==4&&(Ke=2),t===null)return!0;r=Yt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Po(a.stateNode,r,e),jo(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ia===null||!Ia.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Lf(c),zf(c,e,a,r),jo(a,c),!1}a=a.return}while(a!==null);return!1}var qf=Error(l(461)),it=!1;function ht(e,t,a,r){t.child=e===null?Af(t,null,a,r):cn(t,e.child,a,r)}function Bf(e,t,a,r,c){a=a.render;var f=t.ref;if("ref"in r){var b={};for(var y in r)y!=="ref"&&(b[y]=r[y])}else b=r;return Er(t),r=Ro(e,t,a,b,f,c),y=Co(),e!==null&&!it?(Do(e,t,c),Na(e,t,c)):(Oe&&y&&fo(t),t.flags|=1,ht(e,t,r,c),t.child)}function $f(e,t,a,r,c){if(e===null){var f=a.type;return typeof f=="function"&&!oo(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Hf(e,t,f,r,c)):(e=yl(a.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ec(e,c)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zn,a(b,r)&&e.ref===t.ref)return Na(e,t,c)}return t.flags|=1,e=ya(f,r),e.ref=t.ref,e.return=t,t.child=e}function Hf(e,t,a,r,c){if(e!==null){var f=e.memoizedProps;if(Zn(f,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=f,ec(e,c))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Na(e,t,c)}return Xo(e,t,a,r,c)}function Vf(e,t,a){var r=t.pendingProps,c=r.children,f=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=f!==null?f.baseLanes|a:a,e!==null){for(c=t.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;t.childLanes=f&~r}else t.childLanes=0,t.child=null;return Gf(e,t,r,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jl(t,f!==null?f.cachePool:null),f!==null?$d(t,f):No(),Rf(t);else return t.lanes=t.childLanes=536870912,Gf(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(jl(t,f.cachePool),$d(t,f),Pa(),t.memoizedState=null):(e!==null&&jl(t,null),No(),Pa());return ht(e,t,c,a),t.child}function Gf(e,t,a,r){var c=vo();return c=c===null?null:{parent:at._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&jl(t,null),No(),Rf(t),e!==null&&ts(e,t,r,!0),null}function Hl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xo(e,t,a,r,c){return Er(t),a=Ro(e,t,a,r,void 0,c),r=Co(),e!==null&&!it?(Do(e,t,c),Na(e,t,c)):(Oe&&r&&fo(t),t.flags|=1,ht(e,t,a,c),t.child)}function Yf(e,t,a,r,c,f){return Er(t),t.updateQueue=null,a=Vd(t,r,a,c),Hd(e),r=Co(),e!==null&&!it?(Do(e,t,f),Na(e,t,f)):(Oe&&r&&fo(t),t.flags|=1,ht(e,t,a,f),t.child)}function Qf(e,t,a,r,c){if(Er(t),t.stateNode===null){var f=Ir,b=a.contextType;typeof b=="object"&&b!==null&&(f=vt(b)),f=new a(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qo,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},wo(t),b=a.contextType,f.context=typeof b=="object"&&b!==null?vt(b):Ir,f.state=t.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Yo(t,a,b,r),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Qo.enqueueReplaceState(f,f.state,null),os(t,r,f,c),is(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var y=t.memoizedProps,N=Ar(a,y);f.props=N;var L=f.context,Q=a.contextType;b=Ir,typeof Q=="object"&&Q!==null&&(b=vt(Q));var F=a.getDerivedStateFromProps;Q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||L!==b)&&Df(t,f,r,b),Ha=!1;var q=t.memoizedState;f.state=q,os(t,r,f,c),is(),L=t.memoizedState,y||q!==L||Ha?(typeof F=="function"&&(Yo(t,a,F,r),L=t.memoizedState),(N=Ha||Cf(t,a,N,r,q,L,b))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=L),f.props=r,f.state=L,f.context=b,r=N):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,So(e,t),b=t.memoizedProps,Q=Ar(a,b),f.props=Q,F=t.pendingProps,q=f.context,L=a.contextType,N=Ir,typeof L=="object"&&L!==null&&(N=vt(L)),y=a.getDerivedStateFromProps,(L=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==F||q!==N)&&Df(t,f,r,N),Ha=!1,q=t.memoizedState,f.state=q,os(t,r,f,c),is();var $=t.memoizedState;b!==F||q!==$||Ha||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof y=="function"&&(Yo(t,a,y,r),$=t.memoizedState),(Q=Ha||Cf(t,a,Q,r,q,$,N)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,$,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,$,N)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=$),f.props=r,f.state=$,f.context=N,r=Q):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,Hl(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=cn(t,e.child,null,c),t.child=cn(t,null,a,c)):ht(e,t,a,c),t.memoizedState=f.state,e=t.child):e=Na(e,t,c),e}function Pf(e,t,a,r){return Wn(),t.flags|=256,ht(e,t,a,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ko(e){return{baseLanes:e,cachePool:kd()}}function Zo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Kt),e}function Xf(e,t,a){var r=t.pendingProps,c=!1,f=(t.flags&128)!==0,b;if((b=f)||(b=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),b&&(c=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(c?Qa(t):Pa(),Oe){var y=Fe,N;if(N=y){e:{for(N=y,y=oa;N.nodeType!==8;){if(!y){y=null;break e}if(N=ta(N.nextSibling),N===null){y=null;break e}}y=N}y!==null?(t.memoizedState={dehydrated:y,treeContext:vr!==null?{id:va,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},N=Ut(18,null,null,0),N.stateNode=y,N.return=t,t.child=N,wt=t,Fe=null,N=!0):N=!1}N||Sr(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return Oc(y)?t.lanes=32:t.lanes=536870912,null;Ea(t)}return y=r.children,r=r.fallback,c?(Pa(),c=t.mode,y=Vl({mode:"hidden",children:y},c),r=yr(r,c,a,null),y.return=t,r.return=t,y.sibling=r,t.child=y,c=t.child,c.memoizedState=Ko(a),c.childLanes=Zo(e,b,a),t.memoizedState=Fo,r):(Qa(t),Jo(t,y))}if(N=e.memoizedState,N!==null&&(y=N.dehydrated,y!==null)){if(f)t.flags&256?(Qa(t),t.flags&=-257,t=Io(e,t,a)):t.memoizedState!==null?(Pa(),t.child=e.child,t.flags|=128,t=null):(Pa(),c=r.fallback,y=t.mode,r=Vl({mode:"visible",children:r.children},y),c=yr(c,y,a,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,cn(t,e.child,null,a),r=t.child,r.memoizedState=Ko(a),r.childLanes=Zo(e,b,a),t.memoizedState=Fo,t=c);else if(Qa(t),Oc(y)){if(b=y.nextSibling&&y.nextSibling.dataset,b)var L=b.dgst;b=L,r=Error(l(419)),r.stack="",r.digest=b,es({value:r,source:null,stack:null}),t=Io(e,t,a)}else if(it||ts(e,t,a,!1),b=(a&e.childLanes)!==0,it||b){if(b=He,b!==null&&(r=a&-a,r=(r&42)!==0?1:Oi(r),r=(r&(b.suspendedLanes|a))!==0?0:r,r!==0&&r!==N.retryLane))throw N.retryLane=r,Jr(e,r),Bt(b,e,r),qf;y.data==="$?"||xc(),t=Io(e,t,a)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Fe=ta(y.nextSibling),wt=t,Oe=!0,wr=null,oa=!1,e!==null&&(Pt[Xt++]=va,Pt[Xt++]=_a,Pt[Xt++]=vr,va=e.id,_a=e.overflow,vr=t),t=Jo(t,r.children),t.flags|=4096);return t}return c?(Pa(),c=r.fallback,y=t.mode,N=e.child,L=N.sibling,r=ya(N,{mode:"hidden",children:r.children}),r.subtreeFlags=N.subtreeFlags&65011712,L!==null?c=ya(L,c):(c=yr(c,y,a,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,y=e.child.memoizedState,y===null?y=Ko(a):(N=y.cachePool,N!==null?(L=at._currentValue,N=N.parent!==L?{parent:L,pool:L}:N):N=kd(),y={baseLanes:y.baseLanes|a,cachePool:N}),c.memoizedState=y,c.childLanes=Zo(e,b,a),t.memoizedState=Fo,r):(Qa(t),a=e.child,e=a.sibling,a=ya(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=a,t.memoizedState=null,a)}function Jo(e,t){return t=Vl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vl(e,t){return e=Ut(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Io(e,t,a){return cn(t,e.child,null,a),e=Jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ff(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xo(e.return,t,a)}function Wo(e,t,a,r,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=a,f.tailMode=c)}function Kf(e,t,a){var r=t.pendingProps,c=r.revealOrder,f=r.tail;if(ht(e,t,r.children,a),r=rt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,a,t);else if(e.tag===19)Ff(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Y(rt,r),c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&ql(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),Wo(t,!1,c,a,f);break;case"backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ql(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Wo(t,!0,a,null,f);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Na(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ja|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ts(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ya(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ya(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ec(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function cx(e,t,a){switch(t.tag){case 3:se(t,t.stateNode.containerInfo),$a(t,at,e.memoizedState.cache),Wn();break;case 27:case 5:je(t);break;case 4:se(t,t.stateNode.containerInfo);break;case 10:$a(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Qa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Xf(e,t,a):(Qa(t),e=Na(e,t,a),e!==null?e.sibling:null);Qa(t);break;case 19:var c=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(ts(e,t,a,!1),r=(a&t.childLanes)!==0),c){if(r)return Kf(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Y(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,Vf(e,t,a);case 24:$a(t,at,e.memoizedState.cache)}return Na(e,t,a)}function Zf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!ec(e,a)&&(t.flags&128)===0)return it=!1,cx(e,t,a);it=(e.flags&131072)!==0}else it=!1,Oe&&(t.flags&1048576)!==0&&Ed(t,_l,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,c=r._init;if(r=c(r._payload),t.type=r,typeof r=="function")oo(r)?(e=Ar(r,e),t.tag=1,t=Qf(null,t,r,e,a)):(t.tag=0,t=Xo(null,t,r,e,a));else{if(r!=null){if(c=r.$$typeof,c===X){t.tag=11,t=Bf(null,t,r,e,a);break e}else if(c===le){t.tag=14,t=$f(null,t,r,e,a);break e}}throw t=ve(r)||r,Error(l(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,c=Ar(r,t.pendingProps),Qf(e,t,r,c,a);case 3:e:{if(se(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var f=t.memoizedState;c=f.element,So(e,t),os(t,r,null,a);var b=t.memoizedState;if(r=b.cache,$a(t,at,r),r!==f.cache&&bo(t,[at],a,!0),is(),r=b.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Pf(e,t,r,a);break e}else if(r!==c){c=Yt(Error(l(424)),t),es(c),t=Pf(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=ta(e.firstChild),wt=t,Oe=!0,wr=null,oa=!0,a=Af(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wn(),r===c){t=Na(e,t,a);break e}ht(e,t,r,a)}t=t.child}return t;case 26:return Hl(e,t),e===null?(a=em(t.type,null,t.pendingProps,null))?t.memoizedState=a:Oe||(a=t.type,e=t.pendingProps,r=ai(J.current).createElement(a),r[yt]=t,r[Tt]=e,gt(r,a,e),lt(r),t.stateNode=r):t.memoizedState=em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&Oe&&(r=t.stateNode=Jh(t.type,t.pendingProps,J.current),wt=t,oa=!0,c=Fe,tr(t.type)?(Uc=c,Fe=ta(r.firstChild)):Fe=c),ht(e,t,t.pendingProps.children,a),Hl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((c=r=Fe)&&(r=zx(r,t.type,t.pendingProps,oa),r!==null?(t.stateNode=r,wt=t,Fe=ta(r.firstChild),oa=!1,c=!0):c=!1),c||Sr(t)),je(t),c=t.type,f=t.pendingProps,b=e!==null?e.memoizedProps:null,r=f.children,Cc(c,f)?r=null:b!==null&&Cc(c,b)&&(t.flags|=32),t.memoizedState!==null&&(c=Ro(e,t,tx,null,null,a),Cs._currentValue=c),Hl(e,t),ht(e,t,r,a),t.child;case 6:return e===null&&Oe&&((e=a=Fe)&&(a=qx(a,t.pendingProps,oa),a!==null?(t.stateNode=a,wt=t,Fe=null,e=!0):e=!1),e||Sr(t)),null;case 13:return Xf(e,t,a);case 4:return se(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cn(t,null,r,a):ht(e,t,r,a),t.child;case 11:return Bf(e,t,t.type,t.pendingProps,a);case 7:return ht(e,t,t.pendingProps,a),t.child;case 8:return ht(e,t,t.pendingProps.children,a),t.child;case 12:return ht(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,$a(t,t.type,r.value),ht(e,t,r.children,a),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Er(t),c=vt(c),r=r(c),t.flags|=1,ht(e,t,r,a),t.child;case 14:return $f(e,t,t.type,t.pendingProps,a);case 15:return Hf(e,t,t.type,t.pendingProps,a);case 19:return Kf(e,t,a);case 31:return r=t.pendingProps,a=t.mode,r={mode:r.mode,children:r.children},e===null?(a=Vl(r,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ya(e.child,r),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Vf(e,t,a);case 24:return Er(t),r=vt(at),e===null?(c=vo(),c===null&&(c=He,f=po(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),t.memoizedState={parent:r,cache:c},wo(t),$a(t,at,c)):((e.lanes&a)!==0&&(So(e,t),os(t,null,null,a),is()),c=e.memoizedState,f=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),$a(t,at,r)):(r=f.cache,$a(t,at,r),r!==c.cache&&bo(t,[at],a,!0))),ht(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ta(e){e.flags|=4}function Jf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sm(t)){if(t=Ft.current,t!==null&&((Re&4194048)===Re?ca!==null:(Re&62914560)!==Re&&(Re&536870912)===0||t!==ca))throw ss=_o,Od;e.flags|=8192}}function Gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Nt():536870912,e.lanes|=t,hn|=t)}function gs(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function ux(e,t,a){var r=t.pendingProps;switch(ho(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Sa(at),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(In(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ad())),Pe(t),null;case 26:return a=t.memoizedState,e===null?(Ta(t),a!==null?(Pe(t),Jf(t,a)):(Pe(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ta(t),Pe(t),Jf(t,a)):(Pe(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ta(t),Pe(t),t.flags&=-16777217),null;case 27:Ae(t),a=J.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Pe(t),null}e=D.current,In(t)?Nd(t):(e=Jh(c,r,a),t.stateNode=e,Ta(t))}return Pe(t),null;case 5:if(Ae(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Pe(t),null}if(e=D.current,In(t))Nd(t);else{switch(c=ai(J.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?c.createElement(a,{is:r.is}):c.createElement(a)}}e[yt]=t,e[Tt]=r;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(gt(e,a,r),a){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ta(t)}}return Pe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=J.current,In(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,c=wt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[yt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Yh(e.nodeValue,a)),e||Sr(t)}else e=ai(e).createTextNode(r),e[yt]=t,t.stateNode=e}return Pe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=In(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[yt]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),c=!1}else c=Ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Ea(t),t):(Ea(t),null)}if(Ea(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=r!==null,e=e!==null&&e.memoizedState!==null,a){r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Gl(t,t.updateQueue),Pe(t),null;case 4:return me(),e===null&&Ec(t.stateNode.containerInfo),Pe(t),null;case 10:return Sa(t.type),Pe(t),null;case 19:if(O(rt),c=t.memoizedState,c===null)return Pe(t),null;if(r=(t.flags&128)!==0,f=c.rendering,f===null)if(r)gs(c,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=ql(e),f!==null){for(t.flags|=128,gs(c,!1),e=f.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)jd(a,e),a=a.sibling;return Y(rt,rt.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ht()>Pl&&(t.flags|=128,r=!0,gs(c,!1),t.lanes=4194304)}else{if(!r)if(e=ql(f),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),gs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Oe)return Pe(t),null}else 2*Ht()-c.renderingStartTime>Pl&&a!==536870912&&(t.flags|=128,r=!0,gs(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(e=c.last,e!==null?e.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ht(),t.sibling=null,e=rt.current,Y(rt,r?e&1|2:e&1),t):(Pe(t),null);case 22:case 23:return Ea(t),To(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),a=t.updateQueue,a!==null&&Gl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&O(Nr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sa(at),Pe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function dx(e,t){switch(ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(at),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ae(t),null;case 13:if(Ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(rt),null;case 4:return me(),null;case 10:return Sa(t.type),null;case 22:case 23:return Ea(t),To(),e!==null&&O(Nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sa(at),null;case 25:return null;default:return null}}function If(e,t){switch(ho(t),t.tag){case 3:Sa(at),me();break;case 26:case 27:case 5:Ae(t);break;case 4:me();break;case 13:Ea(t);break;case 19:O(rt);break;case 10:Sa(t.type);break;case 22:case 23:Ea(t),To(),e!==null&&O(Nr);break;case 24:Sa(at)}}function xs(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){r=void 0;var f=a.create,b=a.inst;r=f(),b.destroy=r}a=a.next}while(a!==c)}}catch(y){$e(t,t.return,y)}}function Xa(e,t,a){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var b=r.inst,y=b.destroy;if(y!==void 0){b.destroy=void 0,c=t;var N=a,L=y;try{L()}catch(Q){$e(c,N,Q)}}}r=r.next}while(r!==f)}}catch(Q){$e(t,t.return,Q)}}function Wf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Bd(t,a)}catch(r){$e(e,e.return,r)}}}function eh(e,t,a){a.props=Ar(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){$e(e,t,r)}}function bs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(c){$e(e,t,c)}}function ua(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){$e(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$e(e,t,c)}else a.current=null}function th(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){$e(e,e.return,c)}}function tc(e,t,a){try{var r=e.stateNode;kx(r,e.type,a,t),r[Tt]=t}catch(c){$e(e,e.return,c)}}function ah(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tr(e.type)||e.tag===4}function ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ti));else if(r!==4&&(r===27&&tr(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(rc(e,t,a),e=e.sibling;e!==null;)rc(e,t,a),e=e.sibling}function Yl(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&tr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yl(e,t,a),e=e.sibling;e!==null;)Yl(e,t,a),e=e.sibling}function rh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);gt(t,r,a),t[yt]=e,t[Tt]=a}catch(f){$e(e,e.return,f)}}var Aa=!1,Ie=!1,nc=!1,nh=typeof WeakSet=="function"?WeakSet:Set,ot=null;function fx(e,t){if(e=e.containerInfo,Ac=oi,e=md(e),to(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,y=-1,N=-1,L=0,Q=0,F=e,q=null;t:for(;;){for(var $;F!==a||c!==0&&F.nodeType!==3||(y=b+c),F!==f||r!==0&&F.nodeType!==3||(N=b+r),F.nodeType===3&&(b+=F.nodeValue.length),($=F.firstChild)!==null;)q=F,F=$;for(;;){if(F===e)break t;if(q===a&&++L===c&&(y=b),q===f&&++Q===r&&(N=b),($=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=$}a=y===-1||N===-1?null:{start:y,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rc={focusedElem:e,selectionRange:a},oi=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,c=f.memoizedProps,f=f.memoizedState,r=a.stateNode;try{var fe=Ar(a.type,c,a.elementType===a.type);e=r.getSnapshotBeforeUpdate(fe,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(ue){$e(a,a.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)kc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function sh(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Fa(e,a),r&4&&xs(5,a);break;case 1:if(Fa(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(b){$e(a,a.return,b)}else{var c=Ar(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){$e(a,a.return,b)}}r&64&&Wf(a),r&512&&bs(a,a.return);break;case 3:if(Fa(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Bd(e,t)}catch(b){$e(a,a.return,b)}}break;case 27:t===null&&r&4&&rh(a);case 26:case 5:Fa(e,a),t===null&&r&4&&th(a),r&512&&bs(a,a.return);break;case 12:Fa(e,a);break;case 13:Fa(e,a),r&4&&oh(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_x.bind(null,a),Bx(e,a))));break;case 22:if(r=a.memoizedState!==null||Aa,!r){t=t!==null&&t.memoizedState!==null||Ie,c=Aa;var f=Ie;Aa=r,(Ie=t)&&!f?Ka(e,a,(a.subtreeFlags&8772)!==0):Fa(e,a),Aa=c,Ie=f}break;case 30:break;default:Fa(e,a)}}function lh(e){var t=e.alternate;t!==null&&(e.alternate=null,lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Li(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Ct=!1;function Ra(e,t,a){for(a=a.child;a!==null;)ih(e,t,a),a=a.sibling}function ih(e,t,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(mr,a)}catch{}switch(a.tag){case 26:Ie||ua(a,t),Ra(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||ua(a,t);var r=Ge,c=Ct;tr(a.type)&&(Ge=a.stateNode,Ct=!1),Ra(e,t,a),Ns(a.stateNode),Ge=r,Ct=c;break;case 5:Ie||ua(a,t);case 6:if(r=Ge,c=Ct,Ge=null,Ra(e,t,a),Ge=r,Ct=c,Ge!==null)if(Ct)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(f){$e(a,t,f)}else try{Ge.removeChild(a.stateNode)}catch(f){$e(a,t,f)}break;case 18:Ge!==null&&(Ct?(e=Ge,Kh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Us(e)):Kh(Ge,a.stateNode));break;case 4:r=Ge,c=Ct,Ge=a.stateNode.containerInfo,Ct=!0,Ra(e,t,a),Ge=r,Ct=c;break;case 0:case 11:case 14:case 15:Ie||Xa(2,a,t),Ie||Xa(4,a,t),Ra(e,t,a);break;case 1:Ie||(ua(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&eh(a,t,r)),Ra(e,t,a);break;case 21:Ra(e,t,a);break;case 22:Ie=(r=Ie)||a.memoizedState!==null,Ra(e,t,a),Ie=r;break;default:Ra(e,t,a)}}function oh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Us(e)}catch(a){$e(t,t.return,a)}}function hx(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nh),t;default:throw Error(l(435,e.tag))}}function sc(e,t){var a=hx(e);t.forEach(function(r){var c=wx.bind(null,e,r);a.has(r)||(a.add(r),r.then(c,c))})}function Mt(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],f=e,b=t,y=b;e:for(;y!==null;){switch(y.tag){case 27:if(tr(y.type)){Ge=y.stateNode,Ct=!1;break e}break;case 5:Ge=y.stateNode,Ct=!1;break e;case 3:case 4:Ge=y.stateNode.containerInfo,Ct=!0;break e}y=y.return}if(Ge===null)throw Error(l(160));ih(f,b,c),Ge=null,Ct=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}var ea=null;function ch(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(t,e),Lt(e),r&4&&(Xa(3,e,e.return),xs(3,e),Xa(5,e,e.return));break;case 1:Mt(t,e),Lt(e),r&512&&(Ie||a===null||ua(a,a.return)),r&64&&Aa&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=ea;if(Mt(t,e),Lt(e),r&512&&(Ie||a===null||ua(a,a.return)),r&4){var f=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Hn]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),gt(f,r,a),f[yt]=e,lt(f),r=f;break e;case"link":var b=rm("link","href",c).get(r+(a.href||""));if(b){for(var y=0;y<b.length;y++)if(f=b[y],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(y,1);break t}}f=c.createElement(r),gt(f,r,a),c.head.appendChild(f);break;case"meta":if(b=rm("meta","content",c).get(r+(a.content||""))){for(y=0;y<b.length;y++)if(f=b[y],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(y,1);break t}}f=c.createElement(r),gt(f,r,a),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[yt]=e,lt(f),r=f}e.stateNode=r}else nm(c,e.type,e.stateNode);else e.stateNode=am(c,r,e.memoizedProps);else f!==r?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,r===null?nm(c,e.type,e.stateNode):am(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&tc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mt(t,e),Lt(e),r&512&&(Ie||a===null||ua(a,a.return)),a!==null&&r&4&&tc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mt(t,e),Lt(e),r&512&&(Ie||a===null||ua(a,a.return)),e.flags&32){c=e.stateNode;try{Yr(c,"")}catch($){$e(e,e.return,$)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,tc(e,c,a!==null?a.memoizedProps:c)),r&1024&&(nc=!0);break;case 6:if(Mt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch($){$e(e,e.return,$)}}break;case 3:if(si=null,c=ea,ea=ri(t.containerInfo),Mt(t,e),ea=c,Lt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch($){$e(e,e.return,$)}nc&&(nc=!1,uh(e));break;case 4:r=ea,ea=ri(e.stateNode.containerInfo),Mt(t,e),Lt(e),ea=r;break;case 12:Mt(t,e),Lt(e);break;case 13:Mt(t,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=Ht()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 22:c=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,L=Aa,Q=Ie;if(Aa=L||c,Ie=Q||N,Mt(t,e),Ie=Q,Aa=L,Lt(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||N||Aa||Ie||Rr(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){N=a=t;try{if(f=N.stateNode,c)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{y=N.stateNode;var F=N.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch($){$e(N,N.return,$)}}}else if(t.tag===6){if(a===null){N=t;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch($){$e(N,N.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,sc(e,a))));break;case 19:Mt(t,e),Lt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 30:break;case 21:break;default:Mt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(ah(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var c=a.stateNode,f=ac(e);Yl(e,f,c);break;case 5:var b=a.stateNode;a.flags&32&&(Yr(b,""),a.flags&=-33);var y=ac(e);Yl(e,y,b);break;case 3:case 4:var N=a.stateNode.containerInfo,L=ac(e);rc(e,L,N);break;default:throw Error(l(161))}}catch(Q){$e(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;uh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sh(e,t.alternate,t),t=t.sibling}function Rr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xa(4,t,t.return),Rr(t);break;case 1:ua(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&eh(t,t.return,a),Rr(t);break;case 27:Ns(t.stateNode);case 26:case 5:ua(t,t.return),Rr(t);break;case 22:t.memoizedState===null&&Rr(t);break;case 30:Rr(t);break;default:Rr(t)}e=e.sibling}}function Ka(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,f=t,b=f.flags;switch(f.tag){case 0:case 11:case 15:Ka(c,f,a),xs(4,f);break;case 1:if(Ka(c,f,a),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){$e(r,r.return,L)}if(r=f,c=r.updateQueue,c!==null){var y=r.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)qd(N[c],y)}catch(L){$e(r,r.return,L)}}a&&b&64&&Wf(f),bs(f,f.return);break;case 27:rh(f);case 26:case 5:Ka(c,f,a),a&&r===null&&b&4&&th(f),bs(f,f.return);break;case 12:Ka(c,f,a);break;case 13:Ka(c,f,a),a&&b&4&&oh(c,f);break;case 22:f.memoizedState===null&&Ka(c,f,a),bs(f,f.return);break;case 30:break;default:Ka(c,f,a)}t=t.sibling}}function lc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&as(a))}function ic(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&as(e))}function da(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dh(e,t,a,r),t=t.sibling}function dh(e,t,a,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,a,r),c&2048&&xs(9,t);break;case 1:da(e,t,a,r);break;case 3:da(e,t,a,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&as(e)));break;case 12:if(c&2048){da(e,t,a,r),e=t.stateNode;try{var f=t.memoizedProps,b=f.id,y=f.onPostCommit;typeof y=="function"&&y(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){$e(t,t.return,N)}}else da(e,t,a,r);break;case 13:da(e,t,a,r);break;case 23:break;case 22:f=t.stateNode,b=t.alternate,t.memoizedState!==null?f._visibility&2?da(e,t,a,r):ps(e,t):f._visibility&2?da(e,t,a,r):(f._visibility|=2,un(e,t,a,r,(t.subtreeFlags&10256)!==0)),c&2048&&lc(b,t);break;case 24:da(e,t,a,r),c&2048&&ic(t.alternate,t);break;default:da(e,t,a,r)}}function un(e,t,a,r,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,b=t,y=a,N=r,L=b.flags;switch(b.tag){case 0:case 11:case 15:un(f,b,y,N,c),xs(8,b);break;case 23:break;case 22:var Q=b.stateNode;b.memoizedState!==null?Q._visibility&2?un(f,b,y,N,c):ps(f,b):(Q._visibility|=2,un(f,b,y,N,c)),c&&L&2048&&lc(b.alternate,b);break;case 24:un(f,b,y,N,c),c&&L&2048&&ic(b.alternate,b);break;default:un(f,b,y,N,c)}t=t.sibling}}function ps(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,c=r.flags;switch(r.tag){case 22:ps(a,r),c&2048&&lc(r.alternate,r);break;case 24:ps(a,r),c&2048&&ic(r.alternate,r);break;default:ps(a,r)}t=t.sibling}}var ys=8192;function dn(e){if(e.subtreeFlags&ys)for(e=e.child;e!==null;)fh(e),e=e.sibling}function fh(e){switch(e.tag){case 26:dn(e),e.flags&ys&&e.memoizedState!==null&&Ix(ea,e.memoizedState,e.memoizedProps);break;case 5:dn(e);break;case 3:case 4:var t=ea;ea=ri(e.stateNode.containerInfo),dn(e),ea=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ys,ys=16777216,dn(e),ys=t):dn(e));break;default:dn(e)}}function hh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ot=r,gh(r,e)}hh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mh(e),e=e.sibling}function mh(e){switch(e.tag){case 0:case 11:case 15:vs(e),e.flags&2048&&Xa(9,e,e.return);break;case 3:vs(e);break;case 12:vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ql(e)):vs(e);break;default:vs(e)}}function Ql(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ot=r,gh(r,e)}hh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xa(8,t,t.return),Ql(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function gh(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:Xa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:as(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ot=r;else e:for(a=e;ot!==null;){r=ot;var c=r.sibling,f=r.return;if(lh(r),r===a){ot=null;break e}if(c!==null){c.return=f,ot=c;break e}ot=f}}}var mx={getCacheForType:function(e){var t=vt(at),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},gx=typeof WeakMap=="function"?WeakMap:Map,Ue=0,He=null,Ee=null,Re=0,Me=0,zt=null,Za=!1,fn=!1,oc=!1,Ca=0,Ke=0,Ja=0,Cr=0,cc=0,Kt=0,hn=0,_s=null,Dt=null,uc=!1,dc=0,Pl=1/0,Xl=null,Ia=null,mt=0,Wa=null,mn=null,gn=0,fc=0,hc=null,xh=null,ws=0,mc=null;function qt(){if((Ue&2)!==0&&Re!==0)return Re&-Re;if(H.T!==null){var e=tn;return e!==0?e:_c()}return Du()}function bh(){Kt===0&&(Kt=(Re&536870912)===0||Oe?tt():536870912);var e=Ft.current;return e!==null&&(e.flags|=32),Kt}function Bt(e,t,a){(e===He&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(xn(e,0),er(e,Re,Kt,!1)),za(e,a),((Ue&2)===0||e!==He)&&(e===He&&((Ue&2)===0&&(Cr|=a),Ke===4&&er(e,Re,Kt,!1)),fa(e))}function ph(e,t,a){if((Ue&6)!==0)throw Error(l(327));var r=!a&&(t&124)===0&&(t&e.expiredLanes)===0||st(e,t),c=r?px(e,t):bc(e,t,!0),f=r;do{if(c===0){fn&&!r&&er(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!xx(a)){c=bc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var y=e;c=_s;var N=y.current.memoizedState.isDehydrated;if(N&&(xn(y,b).flags|=256),b=bc(y,b,!1),b!==2){if(oc&&!N){y.errorRecoveryDisabledLanes|=f,Cr|=f,c=4;break e}f=Dt,Dt=c,f!==null&&(Dt===null?Dt=f:Dt.push.apply(Dt,f))}c=b}if(f=!1,c!==2)continue}}if(c===1){xn(e,0),er(e,t,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:er(r,t,Kt,!Za);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=dc+300-Ht(),10<c)){if(er(r,t,Kt,!Za),ft(r,0,!0)!==0)break e;r.timeoutHandle=Xh(yh.bind(null,r,a,Dt,Xl,uc,t,Kt,Cr,hn,Za,f,2,-0,0),c);break e}yh(r,a,Dt,Xl,uc,t,Kt,Cr,hn,Za,f,0,-0,0)}}break}while(!0);fa(e)}function yh(e,t,a,r,c,f,b,y,N,L,Q,F,q,$){if(e.timeoutHandle=-1,F=t.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Rs={stylesheets:null,count:0,unsuspend:Jx},fh(t),F=Wx(),F!==null)){e.cancelPendingCommit=F(Nh.bind(null,e,t,f,a,r,c,b,y,N,Q,1,q,$)),er(e,f,b,!L);return}Nh(e,t,f,a,r,c,b,y,N)}function xx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],f=c.getSnapshot;c=c.value;try{if(!Ot(f(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t,a,r){t&=~cc,t&=~Cr,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var f=31-pt(c),b=1<<f;r[f]=-1,c&=~b}a!==0&&$n(e,a,t)}function Fl(){return(Ue&6)===0?(Ss(0),!1):!0}function gc(){if(Ee!==null){if(Me===0)var e=Ee.return;else e=Ee,wa=jr=null,ko(e),on=null,hs=0,e=Ee;for(;e!==null;)If(e.alternate,e),e=e.return;Ee=null}}function xn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ux(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),gc(),He=e,Ee=a=ya(e.current,null),Re=t,Me=0,zt=null,Za=!1,fn=st(e,t),oc=!1,hn=Kt=cc=Cr=Ja=Ke=0,Dt=_s=null,uc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-pt(r),f=1<<c;t|=e[c],r&=~f}return Ca=t,xl(),a}function vh(e,t){we=null,H.H=Ml,t===ns||t===El?(t=Ld(),Me=3):t===Od?(t=Ld(),Me=4):Me=t===qf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,Ee===null&&(Ke=1,$l(e,Yt(t,e.current)))}function _h(){var e=H.H;return H.H=Ml,e===null?Ml:e}function wh(){var e=H.A;return H.A=mx,e}function xc(){Ke=4,Za||(Re&4194048)!==Re&&Ft.current!==null||(fn=!0),(Ja&134217727)===0&&(Cr&134217727)===0||He===null||er(He,Re,Kt,!1)}function bc(e,t,a){var r=Ue;Ue|=2;var c=_h(),f=wh();(He!==e||Re!==t)&&(Xl=null,xn(e,t)),t=!1;var b=Ke;e:do try{if(Me!==0&&Ee!==null){var y=Ee,N=zt;switch(Me){case 8:gc(),b=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(t=!0);var L=Me;if(Me=0,zt=null,bn(e,y,N,L),a&&fn){b=0;break e}break;default:L=Me,Me=0,zt=null,bn(e,y,N,L)}}bx(),b=Ke;break}catch(Q){vh(e,Q)}while(!0);return t&&e.shellSuspendCounter++,wa=jr=null,Ue=r,H.H=c,H.A=f,Ee===null&&(He=null,Re=0,xl()),b}function bx(){for(;Ee!==null;)Sh(Ee)}function px(e,t){var a=Ue;Ue|=2;var r=_h(),c=wh();He!==e||Re!==t?(Xl=null,Pl=Ht()+500,xn(e,t)):fn=st(e,t);e:do try{if(Me!==0&&Ee!==null){t=Ee;var f=zt;t:switch(Me){case 1:Me=0,zt=null,bn(e,t,f,1);break;case 2:case 9:if(Ud(f)){Me=0,zt=null,jh(t);break}t=function(){Me!==2&&Me!==9||He!==e||(Me=7),fa(e)},f.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Ud(f)?(Me=0,zt=null,jh(t)):(Me=0,zt=null,bn(e,t,f,7));break;case 5:var b=null;switch(Ee.tag){case 26:b=Ee.memoizedState;case 5:case 27:var y=Ee;if(!b||sm(b)){Me=0,zt=null;var N=y.sibling;if(N!==null)Ee=N;else{var L=y.return;L!==null?(Ee=L,Kl(L)):Ee=null}break t}}Me=0,zt=null,bn(e,t,f,5);break;case 6:Me=0,zt=null,bn(e,t,f,6);break;case 8:gc(),Ke=6;break e;default:throw Error(l(462))}}yx();break}catch(Q){vh(e,Q)}while(!0);return wa=jr=null,H.H=r,H.A=c,Ue=a,Ee!==null?0:(He=null,Re=0,xl(),Ke)}function yx(){for(;Ee!==null&&!Ws();)Sh(Ee)}function Sh(e){var t=Zf(e.alternate,e,Ca);e.memoizedProps=e.pendingProps,t===null?Kl(e):Ee=t}function jh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Yf(a,t,t.pendingProps,t.type,void 0,Re);break;case 11:t=Yf(a,t,t.pendingProps,t.type.render,t.ref,Re);break;case 5:ko(t);default:If(a,t),t=Ee=jd(t,Ca),t=Zf(a,t,Ca)}e.memoizedProps=e.pendingProps,t===null?Kl(e):Ee=t}function bn(e,t,a,r){wa=jr=null,ko(t),on=null,hs=0;var c=t.return;try{if(ox(e,c,t,a,Re)){Ke=1,$l(e,Yt(a,e.current)),Ee=null;return}}catch(f){if(c!==null)throw Ee=c,f;Ke=1,$l(e,Yt(a,e.current)),Ee=null;return}t.flags&32768?(Oe||r===1?e=!0:fn||(Re&536870912)!==0?e=!1:(Za=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ft.current,r!==null&&r.tag===13&&(r.flags|=16384))),Eh(t,e)):Kl(t)}function Kl(e){var t=e;do{if((t.flags&32768)!==0){Eh(t,Za);return}e=t.return;var a=ux(t.alternate,t,Ca);if(a!==null){Ee=a;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ke===0&&(Ke=5)}function Eh(e,t){do{var a=dx(e.alternate,e);if(a!==null){a.flags&=32767,Ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=a}while(e!==null);Ke=6,Ee=null}function Nh(e,t,a,r,c,f,b,y,N){e.cancelPendingCommit=null;do Zl();while(mt!==0);if((Ue&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=lo,nl(e,a,f,b,y,N),e===He&&(Ee=He=null,Re=0),mn=t,Wa=e,gn=a,fc=f,hc=c,xh=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sx(hr,function(){return Dh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,c=W.p,W.p=2,b=Ue,Ue|=4;try{fx(e,t,a)}finally{Ue=b,W.p=c,H.T=r}}mt=1,Th(),Ah(),Rh()}}function Th(){if(mt===1){mt=0;var e=Wa,t=mn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var r=W.p;W.p=2;var c=Ue;Ue|=4;try{ch(t,e);var f=Rc,b=md(e.containerInfo),y=f.focusedElem,N=f.selectionRange;if(b!==y&&y&&y.ownerDocument&&hd(y.ownerDocument.documentElement,y)){if(N!==null&&to(y)){var L=N.start,Q=N.end;if(Q===void 0&&(Q=L),"selectionStart"in y)y.selectionStart=L,y.selectionEnd=Math.min(Q,y.value.length);else{var F=y.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var $=q.getSelection(),fe=y.textContent.length,ue=Math.min(N.start,fe),qe=N.end===void 0?ue:Math.min(N.end,fe);!$.extend&&ue>qe&&(b=qe,qe=ue,ue=b);var k=fd(y,ue),C=fd(y,qe);if(k&&C&&($.rangeCount!==1||$.anchorNode!==k.node||$.anchorOffset!==k.offset||$.focusNode!==C.node||$.focusOffset!==C.offset)){var M=F.createRange();M.setStart(k.node,k.offset),$.removeAllRanges(),ue>qe?($.addRange(M),$.extend(C.node,C.offset)):(M.setEnd(C.node,C.offset),$.addRange(M))}}}}for(F=[],$=y;$=$.parentNode;)$.nodeType===1&&F.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<F.length;y++){var P=F[y];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}oi=!!Ac,Rc=Ac=null}finally{Ue=c,W.p=r,H.T=a}}e.current=t,mt=2}}function Ah(){if(mt===2){mt=0;var e=Wa,t=mn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var r=W.p;W.p=2;var c=Ue;Ue|=4;try{sh(e,t.alternate,t)}finally{Ue=c,W.p=r,H.T=a}}mt=3}}function Rh(){if(mt===4||mt===3){mt=0,Ci();var e=Wa,t=mn,a=gn,r=xh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,mn=Wa=null,Ch(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ia=null),Ui(a),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(mr,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=H.T,c=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,b=0;b<r.length;b++){var y=r[b];f(y.value,{componentStack:y.stack})}}finally{H.T=t,W.p=c}}(gn&3)!==0&&Zl(),fa(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===mc?ws++:(ws=0,mc=e):ws=0,Ss(0)}}function Ch(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,as(t)))}function Zl(e){return Th(),Ah(),Rh(),Dh()}function Dh(){if(mt!==5)return!1;var e=Wa,t=fc;fc=0;var a=Ui(gn),r=H.T,c=W.p;try{W.p=32>a?32:a,H.T=null,a=hc,hc=null;var f=Wa,b=gn;if(mt=0,mn=Wa=null,gn=0,(Ue&6)!==0)throw Error(l(331));var y=Ue;if(Ue|=4,mh(f.current),dh(f,f.current,b,a),Ue=y,Ss(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(mr,f)}catch{}return!0}finally{W.p=c,H.T=r,Ch(e,t)}}function kh(e,t,a){t=Yt(a,t),t=Po(e.stateNode,t,2),e=Ga(e,t,2),e!==null&&(za(e,2),fa(e))}function $e(e,t,a){if(e.tag===3)kh(e,e,a);else for(;t!==null;){if(t.tag===3){kh(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ia===null||!Ia.has(r))){e=Yt(a,e),a=Lf(2),r=Ga(t,a,2),r!==null&&(zf(a,r,t,e),za(r,2),fa(r));break}}t=t.return}}function pc(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new gx;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(a)||(oc=!0,c.add(a),e=vx.bind(null,e,t,a),t.then(e,e))}function vx(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(Re&a)===a&&(Ke===4||Ke===3&&(Re&62914560)===Re&&300>Ht()-dc?(Ue&2)===0&&xn(e,0):cc|=a,hn===Re&&(hn=0)),fa(e)}function Oh(e,t){t===0&&(t=Nt()),e=Jr(e,t),e!==null&&(za(e,t),fa(e))}function _x(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Oh(e,a)}function wx(e,t){var a=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),Oh(e,a)}function Sx(e,t){return la(e,t)}var Jl=null,pn=null,yc=!1,Il=!1,vc=!1,Dr=0;function fa(e){e!==pn&&e.next===null&&(pn===null?Jl=pn=e:pn=pn.next=e),Il=!0,yc||(yc=!0,Ex())}function Ss(e,t){if(!vc&&Il){vc=!0;do for(var a=!1,r=Jl;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var b=r.suspendedLanes,y=r.pingedLanes;f=(1<<31-pt(42|e)+1)-1,f&=c&~(b&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,zh(r,f))}else f=Re,f=ft(r,r===He?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||st(r,f)||(a=!0,zh(r,f));r=r.next}while(a);vc=!1}}function jx(){Uh()}function Uh(){Il=yc=!1;var e=0;Dr!==0&&(Ox()&&(e=Dr),Dr=0);for(var t=Ht(),a=null,r=Jl;r!==null;){var c=r.next,f=Mh(r,t);f===0?(r.next=null,a===null?Jl=c:a.next=c,c===null&&(pn=a)):(a=r,(e!==0||(f&3)!==0)&&(Il=!0)),r=c}Ss(e)}function Mh(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var b=31-pt(f),y=1<<b,N=c[b];N===-1?((y&a)===0||(y&r)!==0)&&(c[b]=Ze(y,t)):N<=t&&(e.expiredLanes|=y),f&=~y}if(t=He,a=Re,a=ft(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Jt(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||st(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&Jt(r),Ui(a)){case 2:case 8:a=tl;break;case 32:a=hr;break;case 268435456:a=rl;break;default:a=hr}return r=Lh.bind(null,e),a=la(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&Jt(r),e.callbackPriority=2,e.callbackNode=null,2}function Lh(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zl()&&e.callbackNode!==a)return null;var r=Re;return r=ft(e,e===He?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ph(e,r,t),Mh(e,Ht()),e.callbackNode!=null&&e.callbackNode===a?Lh.bind(null,e):null)}function zh(e,t){if(Zl())return null;ph(e,t,!0)}function Ex(){Mx(function(){(Ue&6)!==0?la(el,jx):Uh()})}function _c(){return Dr===0&&(Dr=tt()),Dr}function qh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cl(""+e)}function Bh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Nx(e,t,a,r,c){if(t==="submit"&&a&&a.stateNode===c){var f=qh((c[Tt]||null).action),b=r.submitter;b&&(t=(t=b[Tt]||null)?qh(t.formAction):b.getAttribute("formAction"),t!==null&&(f=t,b=null));var y=new hl("action","action",null,r,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Dr!==0){var N=b?Bh(c,b):new FormData(c);Ho(a,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(y.preventDefault(),N=b?Bh(c,b):new FormData(c),Ho(a,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var wc=0;wc<so.length;wc++){var Sc=so[wc],Tx=Sc.toLowerCase(),Ax=Sc[0].toUpperCase()+Sc.slice(1);Wt(Tx,"on"+Ax)}Wt(bd,"onAnimationEnd"),Wt(pd,"onAnimationIteration"),Wt(yd,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Qg,"onTransitionRun"),Wt(Pg,"onTransitionStart"),Wt(Xg,"onTransitionCancel"),Wt(vd,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(js));function $h(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],c=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var b=r.length-1;0<=b;b--){var y=r[b],N=y.instance,L=y.currentTarget;if(y=y.listener,N!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=L;try{f(c)}catch(Q){Bl(Q)}c.currentTarget=null,f=N}else for(b=0;b<r.length;b++){if(y=r[b],N=y.instance,L=y.currentTarget,y=y.listener,N!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=L;try{f(c)}catch(Q){Bl(Q)}c.currentTarget=null,f=N}}}}function Ne(e,t){var a=t[Mi];a===void 0&&(a=t[Mi]=new Set);var r=e+"__bubble";a.has(r)||(Hh(t,e,2,!1),a.add(r))}function jc(e,t,a){var r=0;t&&(r|=4),Hh(a,e,r,t)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Ec(e){if(!e[Wl]){e[Wl]=!0,Ou.forEach(function(a){a!=="selectionchange"&&(Rx.has(a)||jc(a,!1,e),jc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wl]||(t[Wl]=!0,jc("selectionchange",!1,t))}}function Hh(e,t,a,r){switch(dm(t)){case 2:var c=ab;break;case 8:c=rb;break;default:c=Bc}a=c.bind(null,t,a,e),c=void 0,!Pi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Nc(e,t,a,r,c){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var y=r.stateNode.containerInfo;if(y===c)break;if(b===4)for(b=r.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;y!==null;){if(b=qr(y),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){r=f=b;continue e}y=y.parentNode}}r=r.return}Xu(function(){var L=f,Q=Yi(a),F=[];e:{var q=_d.get(e);if(q!==void 0){var $=hl,fe=e;switch(e){case"keypress":if(dl(a)===0)break e;case"keydown":case"keyup":$=Sg;break;case"focusin":fe="focus",$=Zi;break;case"focusout":fe="blur",$=Zi;break;case"beforeblur":case"afterblur":$=Zi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Ng;break;case bd:case pd:case yd:$=mg;break;case vd:$=Ag;break;case"scroll":case"scrollend":$=cg;break;case"wheel":$=Cg;break;case"copy":case"cut":case"paste":$=xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Iu;break;case"toggle":case"beforetoggle":$=kg}var ue=(t&4)!==0,qe=!ue&&(e==="scroll"||e==="scrollend"),k=ue?q!==null?q+"Capture":null:q;ue=[];for(var C=L,M;C!==null;){var P=C;if(M=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||M===null||k===null||(P=Gn(C,k),P!=null&&ue.push(Es(C,P,M))),qe)break;C=C.return}0<ue.length&&(q=new $(q,fe,null,a,Q),F.push({event:q,listeners:ue}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",q&&a!==Gi&&(fe=a.relatedTarget||a.fromElement)&&(qr(fe)||fe[zr]))break e;if(($||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,$?(fe=a.relatedTarget||a.toElement,$=L,fe=fe?qr(fe):null,fe!==null&&(qe=u(fe),ue=fe.tag,fe!==qe||ue!==5&&ue!==27&&ue!==6)&&(fe=null)):($=null,fe=L),$!==fe)){if(ue=Zu,P="onMouseLeave",k="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Iu,P="onPointerLeave",k="onPointerEnter",C="pointer"),qe=$==null?q:Vn($),M=fe==null?q:Vn(fe),q=new ue(P,C+"leave",$,a,Q),q.target=qe,q.relatedTarget=M,P=null,qr(Q)===L&&(ue=new ue(k,C+"enter",fe,a,Q),ue.target=M,ue.relatedTarget=qe,P=ue),qe=P,$&&fe)t:{for(ue=$,k=fe,C=0,M=ue;M;M=yn(M))C++;for(M=0,P=k;P;P=yn(P))M++;for(;0<C-M;)ue=yn(ue),C--;for(;0<M-C;)k=yn(k),M--;for(;C--;){if(ue===k||k!==null&&ue===k.alternate)break t;ue=yn(ue),k=yn(k)}ue=null}else ue=null;$!==null&&Vh(F,q,$,ue,!1),fe!==null&&qe!==null&&Vh(F,qe,fe,ue,!0)}}e:{if(q=L?Vn(L):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var ie=ld;else if(nd(q))if(id)ie=Vg;else{ie=$g;var Se=Bg}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&Vi(L.elementType)&&(ie=ld):ie=Hg;if(ie&&(ie=ie(e,L))){sd(F,ie,a,Q);break e}Se&&Se(e,q,L),e==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&Hi(q,"number",q.value)}switch(Se=L?Vn(L):window,e){case"focusin":(nd(Se)||Se.contentEditable==="true")&&(Fr=Se,ao=L,Jn=null);break;case"focusout":Jn=ao=Fr=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,gd(F,a,Q);break;case"selectionchange":if(Yg)break;case"keydown":case"keyup":gd(F,a,Q)}var ce;if(Ii)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Xr?ad(e,a)&&(de="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(de="onCompositionStart");de&&(Wu&&a.locale!=="ko"&&(Xr||de!=="onCompositionStart"?de==="onCompositionEnd"&&Xr&&(ce=Fu()):(Ba=Q,Xi="value"in Ba?Ba.value:Ba.textContent,Xr=!0)),Se=ei(L,de),0<Se.length&&(de=new Ju(de,e,null,a,Q),F.push({event:de,listeners:Se}),ce?de.data=ce:(ce=rd(a),ce!==null&&(de.data=ce)))),(ce=Ug?Mg(e,a):Lg(e,a))&&(de=ei(L,"onBeforeInput"),0<de.length&&(Se=new Ju("onBeforeInput","beforeinput",null,a,Q),F.push({event:Se,listeners:de}),Se.data=ce)),Nx(F,e,L,a,Q)}$h(F,t)})}function Es(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ei(e,t){for(var a=t+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gn(e,a),c!=null&&r.unshift(Es(e,c,f)),c=Gn(e,t),c!=null&&r.push(Es(e,c,f))),e.tag===3)return r;e=e.return}return[]}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vh(e,t,a,r,c){for(var f=t._reactName,b=[];a!==null&&a!==r;){var y=a,N=y.alternate,L=y.stateNode;if(y=y.tag,N!==null&&N===r)break;y!==5&&y!==26&&y!==27||L===null||(N=L,c?(L=Gn(a,f),L!=null&&b.unshift(Es(a,L,N))):c||(L=Gn(a,f),L!=null&&b.push(Es(a,L,N)))),a=a.return}b.length!==0&&e.push({event:t,listeners:b})}var Cx=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(Cx,`
`).replace(Dx,"")}function Yh(e,t){return t=Gh(t),Gh(e)===t}function ti(){}function ze(e,t,a,r,c,f){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Yr(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Yr(e,""+r);break;case"className":ll(e,"class",r);break;case"tabIndex":ll(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ll(e,a,r);break;case"style":Qu(e,r,f);break;case"data":if(t!=="object"){ll(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=cl(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",c.name,c,null),ze(e,t,"formEncType",c.formEncType,c,null),ze(e,t,"formMethod",c.formMethod,c,null),ze(e,t,"formTarget",c.formTarget,c,null)):(ze(e,t,"encType",c.encType,c,null),ze(e,t,"method",c.method,c,null),ze(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=cl(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=ti);break;case"onScroll":r!=null&&Ne("scroll",e);break;case"onScrollEnd":r!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=cl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),sl(e,"popover",r);break;case"xlinkActuate":ba(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ba(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ba(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ba(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ba(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ba(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ba(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ba(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ba(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":sl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ig.get(a)||a,sl(e,a,r))}}function Tc(e,t,a,r,c,f){switch(a){case"style":Qu(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?Yr(e,r):(typeof r=="number"||typeof r=="bigint")&&Yr(e,""+r);break;case"onScroll":r!=null&&Ne("scroll",e);break;case"onScrollEnd":r!=null&&Ne("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),f=e[Tt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,c);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):sl(e,a,r)}}}function gt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var r=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,f,b,a,null)}}c&&ze(e,t,"srcSet",a.srcSet,a,null),r&&ze(e,t,"src",a.src,a,null);return;case"input":Ne("invalid",e);var y=f=b=c=null,N=null,L=null;for(r in a)if(a.hasOwnProperty(r)){var Q=a[r];if(Q!=null)switch(r){case"name":c=Q;break;case"type":b=Q;break;case"checked":N=Q;break;case"defaultChecked":L=Q;break;case"value":f=Q;break;case"defaultValue":y=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,t));break;default:ze(e,t,r,Q,a,null)}}Hu(e,f,y,N,L,b,c,!1),il(e);return;case"select":Ne("invalid",e),r=b=f=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":f=y;break;case"defaultValue":b=y;break;case"multiple":r=y;default:ze(e,t,c,y,a,null)}t=f,a=b,e.multiple=!!r,t!=null?Gr(e,!!r,t,!1):a!=null&&Gr(e,!!r,a,!0);return;case"textarea":Ne("invalid",e),f=c=r=null;for(b in a)if(a.hasOwnProperty(b)&&(y=a[b],y!=null))switch(b){case"value":r=y;break;case"defaultValue":c=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:ze(e,t,b,y,a,null)}Gu(e,r,c,f),il(e);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(r=a[N],r!=null))switch(N){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ze(e,t,N,r,a,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(r=0;r<js.length;r++)Ne(js[r],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(r=a[L],r!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,L,r,a,null)}return;default:if(Vi(t)){for(Q in a)a.hasOwnProperty(Q)&&(r=a[Q],r!==void 0&&Tc(e,t,Q,r,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(r=a[y],r!=null&&ze(e,t,y,r,a,null))}function kx(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,b=null,y=null,N=null,L=null,Q=null;for($ in a){var F=a[$];if(a.hasOwnProperty($)&&F!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=F;default:r.hasOwnProperty($)||ze(e,t,$,null,r,F)}}for(var q in r){var $=r[q];if(F=a[q],r.hasOwnProperty(q)&&($!=null||F!=null))switch(q){case"type":f=$;break;case"name":c=$;break;case"checked":L=$;break;case"defaultChecked":Q=$;break;case"value":b=$;break;case"defaultValue":y=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:$!==F&&ze(e,t,q,$,r,F)}}$i(e,b,y,N,L,Q,f,c);return;case"select":$=b=y=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":$=N;default:r.hasOwnProperty(f)||ze(e,t,f,null,r,N)}for(c in r)if(f=r[c],N=a[c],r.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":q=f;break;case"defaultValue":y=f;break;case"multiple":b=f;default:f!==N&&ze(e,t,c,f,r,N)}t=y,a=b,r=$,q!=null?Gr(e,!!a,q,!1):!!r!=!!a&&(t!=null?Gr(e,!!a,t,!0):Gr(e,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:ze(e,t,y,null,r,c)}for(b in r)if(c=r[b],f=a[b],r.hasOwnProperty(b)&&(c!=null||f!=null))switch(b){case"value":q=c;break;case"defaultValue":$=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&ze(e,t,b,c,r,f)}Vu(e,q,$);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!r.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:ze(e,t,fe,null,r,q)}for(N in r)if(q=r[N],$=a[N],r.hasOwnProperty(N)&&q!==$&&(q!=null||$!=null))switch(N){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ze(e,t,N,q,r,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in a)q=a[ue],a.hasOwnProperty(ue)&&q!=null&&!r.hasOwnProperty(ue)&&ze(e,t,ue,null,r,q);for(L in r)if(q=r[L],$=a[L],r.hasOwnProperty(L)&&q!==$&&(q!=null||$!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:ze(e,t,L,q,r,$)}return;default:if(Vi(t)){for(var qe in a)q=a[qe],a.hasOwnProperty(qe)&&q!==void 0&&!r.hasOwnProperty(qe)&&Tc(e,t,qe,void 0,r,q);for(Q in r)q=r[Q],$=a[Q],!r.hasOwnProperty(Q)||q===$||q===void 0&&$===void 0||Tc(e,t,Q,q,r,$);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!r.hasOwnProperty(k)&&ze(e,t,k,null,r,q);for(F in r)q=r[F],$=a[F],!r.hasOwnProperty(F)||q===$||q==null&&$==null||ze(e,t,F,q,r,$)}var Ac=null,Rc=null;function ai(e){return e.nodeType===9?e:e.ownerDocument}function Qh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ph(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=null;function Ox(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var Xh=typeof setTimeout=="function"?setTimeout:void 0,Ux=typeof clearTimeout=="function"?clearTimeout:void 0,Fh=typeof Promise=="function"?Promise:void 0,Mx=typeof queueMicrotask=="function"?queueMicrotask:typeof Fh<"u"?function(e){return Fh.resolve(null).then(e).catch(Lx)}:Xh;function Lx(e){setTimeout(function(){throw e})}function tr(e){return e==="head"}function Kh(e,t){var a=t,r=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<r&&8>r){a=r;var b=e.ownerDocument;if(a&1&&Ns(b.documentElement),a&2&&Ns(b.body),a&4)for(a=b.head,Ns(a),b=a.firstChild;b;){var y=b.nextSibling,N=b.nodeName;b[Hn]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=y}}if(c===0){e.removeChild(f),Us(t);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:r=a.charCodeAt(0)-48;else r=0;a=f}while(a);Us(t)}function kc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kc(a),Li(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zx(e,t,a,r){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Hn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ta(e.nextSibling),e===null)break}return null}function qx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ta(e.nextSibling),e===null))return null;return e}function Oc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Bx(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Uc=null;function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Jh(e,t,a){switch(t=ai(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ns(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Li(e)}var Zt=new Map,Ih=new Set;function ri(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=W.d;W.d={f:$x,r:Hx,D:Vx,C:Gx,L:Yx,m:Qx,X:Xx,S:Px,M:Fx};function $x(){var e=Da.f(),t=Fl();return e||t}function Hx(e){var t=Br(e);t!==null&&t.tag===5&&t.type==="form"?pf(t):Da.r(e)}var vn=typeof document>"u"?null:document;function Wh(e,t,a){var r=vn;if(r&&typeof t=="string"&&t){var c=Gt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ih.has(c)||(Ih.add(c),e={rel:e,crossOrigin:a,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),gt(t,"link",e),lt(t),r.head.appendChild(t)))}}function Vx(e){Da.D(e),Wh("dns-prefetch",e,null)}function Gx(e,t){Da.C(e,t),Wh("preconnect",e,t)}function Yx(e,t,a){Da.L(e,t,a);var r=vn;if(r&&e&&t){var c='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Gt(a.imageSizes)+'"]')):c+='[href="'+Gt(e)+'"]';var f=c;switch(t){case"style":f=_n(e);break;case"script":f=wn(e)}Zt.has(f)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(f,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Ts(f))||t==="script"&&r.querySelector(As(f))||(t=r.createElement("link"),gt(t,"link",e),lt(t),r.head.appendChild(t)))}}function Qx(e,t){Da.m(e,t);var a=vn;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Gt(r)+'"][href="'+Gt(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wn(e)}if(!Zt.has(f)&&(e=p({rel:"modulepreload",href:e},t),Zt.set(f,e),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(As(f)))return}r=a.createElement("link"),gt(r,"link",e),lt(r),a.head.appendChild(r)}}}function Px(e,t,a){Da.S(e,t,a);var r=vn;if(r&&e){var c=$r(r).hoistableStyles,f=_n(e);t=t||"default";var b=c.get(f);if(!b){var y={loading:0,preload:null};if(b=r.querySelector(Ts(f)))y.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(f))&&Mc(e,a);var N=b=r.createElement("link");lt(N),gt(N,"link",e),N._p=new Promise(function(L,Q){N.onload=L,N.onerror=Q}),N.addEventListener("load",function(){y.loading|=1}),N.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ni(b,t,r)}b={type:"stylesheet",instance:b,count:1,state:y},c.set(f,b)}}}function Xx(e,t){Da.X(e,t);var a=vn;if(a&&e){var r=$r(a).hoistableScripts,c=wn(e),f=r.get(c);f||(f=a.querySelector(As(c)),f||(e=p({src:e,async:!0},t),(t=Zt.get(c))&&Lc(e,t),f=a.createElement("script"),lt(f),gt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Fx(e,t){Da.M(e,t);var a=vn;if(a&&e){var r=$r(a).hoistableScripts,c=wn(e),f=r.get(c);f||(f=a.querySelector(As(c)),f||(e=p({src:e,async:!0,type:"module"},t),(t=Zt.get(c))&&Lc(e,t),f=a.createElement("script"),lt(f),gt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function em(e,t,a,r){var c=(c=J.current)?ri(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=_n(a.href),a=$r(c).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=_n(a.href);var f=$r(c).hoistableStyles,b=f.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,b),(f=c.querySelector(Ts(e)))&&!f._p&&(b.instance=f,b.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),f||Kx(c,e,a,b.state))),t&&r===null)throw Error(l(528,""));return b}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wn(a),a=$r(c).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function _n(e){return'href="'+Gt(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function tm(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Kx(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),gt(t,"link",a),lt(t),e.head.appendChild(t))}function wn(e){return'[src="'+Gt(e)+'"]'}function As(e){return"script[async]"+e}function am(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(r)return t.instance=r,lt(r),r;var c=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),lt(r),gt(r,"style",c),ni(r,a.precedence,e),t.instance=r;case"stylesheet":c=_n(a.href);var f=e.querySelector(Ts(c));if(f)return t.state.loading|=4,t.instance=f,lt(f),f;r=tm(a),(c=Zt.get(c))&&Mc(r,c),f=(e.ownerDocument||e).createElement("link"),lt(f);var b=f;return b._p=new Promise(function(y,N){b.onload=y,b.onerror=N}),gt(f,"link",r),t.state.loading|=4,ni(f,a.precedence,e),t.instance=f;case"script":return f=wn(a.src),(c=e.querySelector(As(f)))?(t.instance=c,lt(c),c):(r=a,(c=Zt.get(f))&&(r=p({},a),Lc(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),lt(c),gt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,ni(r,a.precedence,e));return t.instance}function ni(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,b=0;b<r.length;b++){var y=r[b];if(y.dataset.precedence===t)f=y;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var si=null;function rm(e,t,a){if(si===null){var r=new Map,c=si=new Map;c.set(a,r)}else c=si,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Hn]||f[yt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(t)||"";b=e+b;var y=r.get(b);y?y.push(f):r.set(b,[f])}}return r}function nm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Zx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Rs=null;function Jx(){}function Ix(e,t,a){if(Rs===null)throw Error(l(475));var r=Rs;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=_n(a.href),f=e.querySelector(Ts(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=li.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=f,lt(f);return}f=e.ownerDocument||e,a=tm(a),(c=Zt.get(c))&&Mc(a,c),f=f.createElement("link"),lt(f);var b=f;b._p=new Promise(function(y,N){b.onload=y,b.onerror=N}),gt(f,"link",a),t.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=li.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Wx(){if(Rs===null)throw Error(l(475));var e=Rs;return e.stylesheets&&e.count===0&&zc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&zc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function li(){if(this.count--,this.count===0){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ii=null;function zc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ii=new Map,t.forEach(eb,e),ii=null,li.call(e))}function eb(e,t){if(!(t.state.loading&4)){var a=ii.get(e);if(a)var r=a.get(null);else{a=new Map,ii.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var b=c[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),r=b)}r&&a.set(null,r)}c=t.instance,b=c.getAttribute("data-precedence"),f=a.get(b)||r,f===r&&a.set(null,c),a.set(b,c),this.count++,r=li.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Cs={$$typeof:V,Provider:null,Consumer:null,_currentValue:E,_currentValue2:E,_threadCount:0};function tb(e,t,a,r,c,f,b,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function lm(e,t,a,r,c,f,b,y,N,L,Q,F){return e=new tb(e,t,a,b,y,N,L,F),t=1,f===!0&&(t|=24),f=Ut(3,null,null,t),e.current=f,f.stateNode=e,t=po(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:a,cache:t},wo(f),e}function im(e){return e?(e=Ir,e):Ir}function om(e,t,a,r,c,f){c=im(c),r.context===null?r.context=c:r.pendingContext=c,r=Va(t),r.payload={element:a},f=f===void 0?null:f,f!==null&&(r.callback=f),a=Ga(e,r,t),a!==null&&(Bt(a,e,t),ls(a,e,t))}function cm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function qc(e,t){cm(e,t),(e=e.alternate)&&cm(e,t)}function um(e){if(e.tag===13){var t=Jr(e,67108864);t!==null&&Bt(t,e,67108864),qc(e,67108864)}}var oi=!0;function ab(e,t,a,r){var c=H.T;H.T=null;var f=W.p;try{W.p=2,Bc(e,t,a,r)}finally{W.p=f,H.T=c}}function rb(e,t,a,r){var c=H.T;H.T=null;var f=W.p;try{W.p=8,Bc(e,t,a,r)}finally{W.p=f,H.T=c}}function Bc(e,t,a,r){if(oi){var c=$c(r);if(c===null)Nc(e,t,r,ci,a),fm(e,r);else if(sb(c,e,t,a,r))r.stopPropagation();else if(fm(e,r),t&4&&-1<nb.indexOf(e)){for(;c!==null;){var f=Br(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Qe(f.pendingLanes);if(b!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;b;){var N=1<<31-pt(b);y.entanglements[1]|=N,b&=~N}fa(f),(Ue&6)===0&&(Pl=Ht()+500,Ss(0))}}break;case 13:y=Jr(f,2),y!==null&&Bt(y,f,2),Fl(),qc(f,2)}if(f=$c(r),f===null&&Nc(e,t,r,ci,a),f===c)break;c=f}c!==null&&r.stopPropagation()}else Nc(e,t,r,null,a)}}function $c(e){return e=Yi(e),Hc(e)}var ci=null;function Hc(e){if(ci=null,e=qr(e),e!==null){var t=u(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ci=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Di()){case el:return 2;case tl:return 8;case hr:case al:return 32;case rl:return 268435456;default:return 32}default:return 32}}var Vc=!1,ar=null,rr=null,nr=null,Ds=new Map,ks=new Map,sr=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Os(e,t,a,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Br(t),t!==null&&um(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function sb(e,t,a,r,c){switch(t){case"focusin":return ar=Os(ar,e,t,a,r,c),!0;case"dragenter":return rr=Os(rr,e,t,a,r,c),!0;case"mouseover":return nr=Os(nr,e,t,a,r,c),!0;case"pointerover":var f=c.pointerId;return Ds.set(f,Os(Ds.get(f)||null,e,t,a,r,c)),!0;case"gotpointercapture":return f=c.pointerId,ks.set(f,Os(ks.get(f)||null,e,t,a,r,c)),!0}return!1}function hm(e){var t=qr(e.target);if(t!==null){var a=u(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,I0(e.priority,function(){if(a.tag===13){var r=qt();r=Oi(r);var c=Jr(a,r);c!==null&&Bt(c,a,r),qc(a,r)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$c(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Gi=r,a.target.dispatchEvent(r),Gi=null}else return t=Br(a),t!==null&&um(t),e.blockedOn=a,!1;t.shift()}return!0}function mm(e,t,a){ui(e)&&a.delete(t)}function lb(){Vc=!1,ar!==null&&ui(ar)&&(ar=null),rr!==null&&ui(rr)&&(rr=null),nr!==null&&ui(nr)&&(nr=null),Ds.forEach(mm),ks.forEach(mm)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,Vc||(Vc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lb)))}var fi=null;function gm(e){fi!==e&&(fi=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fi===e&&(fi=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Hc(r||a)===null)continue;break}var f=Br(a);f!==null&&(e.splice(t,3),t-=3,Ho(f,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function Us(e){function t(N){return di(N,e)}ar!==null&&di(ar,e),rr!==null&&di(rr,e),nr!==null&&di(nr,e),Ds.forEach(t),ks.forEach(t);for(var a=0;a<sr.length;a++){var r=sr[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)hm(a),a.blockedOn===null&&sr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],f=a[r+1],b=c[Tt]||null;if(typeof f=="function")b||gm(a);else if(b){var y=null;if(f&&f.hasAttribute("formAction")){if(c=f,b=f[Tt]||null)y=b.formAction;else if(Hc(c)!==null)continue}else y=b.action;typeof y=="function"?a[r+1]=y:(a.splice(r,3),r-=3),gm(a)}}}function Gc(e){this._internalRoot=e}hi.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,r=qt();om(a,r,e,t,null,null)},hi.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;om(e.current,2,null,e,null,null),Fl(),t[zr]=null}};function hi(e){this._internalRoot=e}hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Du();e={blockedOn:null,target:e,priority:t};for(var a=0;a<sr.length&&t!==0&&t<sr[a].priority;a++);sr.splice(a,0,e),a===0&&hm(e)}};var xm=n.version;if(xm!=="19.1.0")throw Error(l(527,xm,"19.1.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var ib={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{mr=mi.inject(ib),bt=mi}catch{}}return Ls.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,r="",c=kf,f=Of,b=Uf,y=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=lm(e,1,!1,null,null,a,r,c,f,b,y,null),e[zr]=t.current,Ec(e),new Gc(t)},Ls.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var r=!1,c="",f=kf,b=Of,y=Uf,N=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),t=lm(e,1,!0,t,a??null,r,c,f,b,y,N,L),t.context=im(null),a=t.current,r=qt(),r=Oi(r),c=Va(r),c.callback=null,Ga(a,c,r),a=r,t.current.lanes=a,za(t,a),fa(t),e[zr]=t.current,Ec(e),new hi(t)},Ls.version="19.1.0",Ls}var Nm;function yb(){if(Nm)return Pc.exports;Nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Pc.exports=pb(),Pc.exports}var vb=yb(),zs={},Tm;function _b(){if(Tm)return zs;Tm=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.parse=h,zs.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function h(v,A){const j=new u,R=v.length;if(R<2)return j;const T=(A==null?void 0:A.decode)||p;let U=0;do{const B=v.indexOf("=",U);if(B===-1)break;const V=v.indexOf(";",U),X=V===-1?R:V;if(B>X){U=v.lastIndexOf(";",B-1)+1;continue}const G=x(v,U,B),ae=m(v,B,G),le=v.slice(G,ae);if(j[le]===void 0){let re=x(v,B+1,X),ne=m(v,X,re);const oe=T(v.slice(re,ne));j[le]=oe}U=X+1}while(U<R);return j}function x(v,A,j){do{const R=v.charCodeAt(A);if(R!==32&&R!==9)return A}while(++A<j);return j}function m(v,A,j){for(;A>j;){const R=v.charCodeAt(--A);if(R!==32&&R!==9)return A+1}return j}function g(v,A,j){const R=(j==null?void 0:j.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const T=R(A);if(!n.test(T))throw new TypeError(`argument val is invalid: ${A}`);let U=v+"="+T;if(!j)return U;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);U+="; Max-Age="+j.maxAge}if(j.domain){if(!s.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);U+="; Domain="+j.domain}if(j.path){if(!l.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);U+="; Path="+j.path}if(j.expires){if(!w(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);U+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(U+="; HttpOnly"),j.secure&&(U+="; Secure"),j.partitioned&&(U+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return U}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return o.call(v)==="[object Date]"}return zs}_b();var Am="popstate";function wb(i={}){function n(l,o){let{pathname:u,search:h,hash:x}=l.location;return su("",{pathname:u,search:h,hash:x},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(l,o){return typeof o=="string"?o:Qs(o)}return jb(n,s,null,i)}function Xe(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function ma(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Sb(){return Math.random().toString(36).substring(2,10)}function Rm(i,n){return{usr:i.state,key:i.key,idx:n}}function su(i,n,s=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?zn(n):n,state:s,key:n&&n.key||l||Sb()}}function Qs({pathname:i="/",search:n="",hash:s=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function zn(i){let n={};if(i){let s=i.indexOf("#");s>=0&&(n.hash=i.substring(s),i=i.substring(0,s));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function jb(i,n,s,l={}){let{window:o=document.defaultView,v5Compat:u=!1}=l,h=o.history,x="POP",m=null,g=p();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function p(){return(h.state||{idx:null}).idx}function w(){x="POP";let T=p(),U=T==null?null:T-g;g=T,m&&m({action:x,location:R.location,delta:U})}function v(T,U){x="PUSH";let B=su(R.location,T,U);g=p()+1;let V=Rm(B,g),X=R.createHref(B);try{h.pushState(V,"",X)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(X)}u&&m&&m({action:x,location:R.location,delta:1})}function A(T,U){x="REPLACE";let B=su(R.location,T,U);g=p();let V=Rm(B,g),X=R.createHref(B);h.replaceState(V,"",X),u&&m&&m({action:x,location:R.location,delta:0})}function j(T){return Eb(T)}let R={get action(){return x},get location(){return i(o,h)},listen(T){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Am,w),m=T,()=>{o.removeEventListener(Am,w),m=null}},createHref(T){return n(o,T)},createURL:j,encodeLocation(T){let U=j(T);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:A,go(T){return h.go(T)}};return R}function Eb(i,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(s,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:Qs(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function c0(i,n,s="/"){return Nb(i,n,s,!1)}function Nb(i,n,s,l){let o=typeof n=="string"?zn(n):n,u=Ua(o.pathname||"/",s);if(u==null)return null;let h=u0(i);Tb(h);let x=null;for(let m=0;x==null&&m<h.length;++m){let g=qb(u);x=Lb(h[m],g,l)}return x}function u0(i,n=[],s=[],l=""){let o=(u,h,x)=>{let m={relativePath:x===void 0?u.path||"":x,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(Xe(m.relativePath.startsWith(l),`Absolute route path "${m.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(l.length));let g=Oa([l,m.relativePath]),p=s.concat(m);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),u0(u.children,n,p,g)),!(u.path==null&&!u.index)&&n.push({path:g,score:Ub(g,u.index),routesMeta:p})};return i.forEach((u,h)=>{var x;if(u.path===""||!((x=u.path)!=null&&x.includes("?")))o(u,h);else for(let m of d0(u.path))o(u,h,m)}),n}function d0(i){let n=i.split("/");if(n.length===0)return[];let[s,...l]=n,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(l.length===0)return o?[u,""]:[u];let h=d0(l.join("/")),x=[];return x.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&x.push(...h),x.map(m=>i.startsWith("/")&&m===""?"/":m)}function Tb(i){i.sort((n,s)=>n.score!==s.score?s.score-n.score:Mb(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var Ab=/^:[\w-]+$/,Rb=3,Cb=2,Db=1,kb=10,Ob=-2,Cm=i=>i==="*";function Ub(i,n){let s=i.split("/"),l=s.length;return s.some(Cm)&&(l+=Ob),n&&(l+=Cb),s.filter(o=>!Cm(o)).reduce((o,u)=>o+(Ab.test(u)?Rb:u===""?Db:kb),l)}function Mb(i,n){return i.length===n.length&&i.slice(0,-1).every((l,o)=>l===n[o])?i[i.length-1]-n[n.length-1]:0}function Lb(i,n,s=!1){let{routesMeta:l}=i,o={},u="/",h=[];for(let x=0;x<l.length;++x){let m=l[x],g=x===l.length-1,p=u==="/"?n:n.slice(u.length)||"/",w=ji({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},p),v=m.route;if(!w&&g&&s&&!l[l.length-1].route.index&&(w=ji({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Oa([u,w.pathname]),pathnameBase:Vb(Oa([u,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(u=Oa([u,w.pathnameBase]))}return h}function ji(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,l]=zb(i.path,i.caseSensitive,i.end),o=n.match(s);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),x=o.slice(1);return{params:l.reduce((g,{paramName:p,isOptional:w},v)=>{if(p==="*"){let j=x[v]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const A=x[v];return w&&!A?g[p]=void 0:g[p]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function zb(i,n=!1,s=!0){ma(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,m)=>(l.push({paramName:x,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(l.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function qb(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ma(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Ua(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=i.charAt(s);return l&&l!=="/"?null:i.slice(s)||"/"}function Bb(i,n="/"){let{pathname:s,search:l="",hash:o=""}=typeof i=="string"?zn(i):i;return{pathname:s?s.startsWith("/")?s:$b(s,n):n,search:Gb(l),hash:Yb(o)}}function $b(i,n){let s=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Zc(i,n,s,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hb(i){return i.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function f0(i){let n=Hb(i);return n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase)}function h0(i,n,s,l=!1){let o;typeof i=="string"?o=zn(i):(o={...i},Xe(!o.pathname||!o.pathname.includes("?"),Zc("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Zc("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Zc("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,x;if(h==null)x=s;else{let w=n.length-1;if(!l&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),w-=1;o.pathname=v.join("/")}x=w>=0?n[w]:"/"}let m=Bb(o,x),g=h&&h!=="/"&&h.endsWith("/"),p=(u||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||p)&&(m.pathname+="/"),m}var Oa=i=>i.join("/").replace(/\/\/+/g,"/"),Vb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Gb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Yb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Qb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var m0=["POST","PUT","PATCH","DELETE"];new Set(m0);var Pb=["GET",...m0];new Set(Pb);var qn=_.createContext(null);qn.displayName="DataRouter";var Ti=_.createContext(null);Ti.displayName="DataRouterState";var g0=_.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var Xb=_.createContext(new Map);Xb.displayName="Fetchers";var Fb=_.createContext(null);Fb.displayName="Await";var ga=_.createContext(null);ga.displayName="Navigation";var Ks=_.createContext(null);Ks.displayName="Location";var xa=_.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var pu=_.createContext(null);pu.displayName="RouteError";function Kb(i,{relative:n}={}){Xe(Zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=_.useContext(ga),{hash:o,pathname:u,search:h}=Js(i,{relative:n}),x=u;return s!=="/"&&(x=u==="/"?s:Oa([s,u])),l.createHref({pathname:x,search:h,hash:o})}function Zs(){return _.useContext(Ks)!=null}function Ma(){return Xe(Zs(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Ks).location}var x0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b0(i){_.useContext(ga).static||_.useLayoutEffect(i)}function sa(){let{isDataRoute:i}=_.useContext(xa);return i?cp():Zb()}function Zb(){Xe(Zs(),"useNavigate() may be used only in the context of a <Router> component.");let i=_.useContext(qn),{basename:n,navigator:s}=_.useContext(ga),{matches:l}=_.useContext(xa),{pathname:o}=Ma(),u=JSON.stringify(f0(l)),h=_.useRef(!1);return b0(()=>{h.current=!0}),_.useCallback((m,g={})=>{if(ma(h.current,x0),!h.current)return;if(typeof m=="number"){s.go(m);return}let p=h0(m,JSON.parse(u),o,g.relative==="path");i==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Oa([n,p.pathname])),(g.replace?s.replace:s.push)(p,g.state,g)},[n,s,u,o,i])}_.createContext(null);function Jb(){let{matches:i}=_.useContext(xa),n=i[i.length-1];return n?n.params:{}}function Js(i,{relative:n}={}){let{matches:s}=_.useContext(xa),{pathname:l}=Ma(),o=JSON.stringify(f0(s));return _.useMemo(()=>h0(i,JSON.parse(o),l,n==="path"),[i,o,l,n])}function Ib(i,n){return p0(i,n)}function p0(i,n,s,l){var U;Xe(Zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=_.useContext(ga),{matches:u}=_.useContext(xa),h=u[u.length-1],x=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",p=h&&h.route;{let B=p&&p.path||"";y0(m,!p||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=Ma(),v;if(n){let B=typeof n=="string"?zn(n):n;Xe(g==="/"||((U=B.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),v=B}else v=w;let A=v.pathname||"/",j=A;if(g!=="/"){let B=g.replace(/^\//,"").split("/");j="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let R=c0(i,{pathname:j});ma(p||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ma(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=rp(R&&R.map(B=>Object.assign({},B,{params:Object.assign({},x,B.params),pathname:Oa([g,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Oa([g,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,s,l);return n&&T?_.createElement(Ks.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function Wb(){let i=op(),n=Qb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:u},"ErrorBoundary")," or"," ",_.createElement("code",{style:u},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},n),s?_.createElement("pre",{style:o},s):null,h)}var ep=_.createElement(Wb,null),tp=class extends _.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){console.error("React Router caught the following error during render",i,n)}render(){return this.state.error!==void 0?_.createElement(xa.Provider,{value:this.props.routeContext},_.createElement(pu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ap({routeContext:i,match:n,children:s}){let l=_.useContext(qn);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(xa.Provider,{value:i},s)}function rp(i,n=[],s=null,l=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let o=i,u=s==null?void 0:s.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,x=-1;if(s)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(x=m),g.route.id){let{loaderData:p,errors:w}=s,v=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){h=!0,x>=0?o=o.slice(0,x+1):o=[o[0]];break}}}return o.reduceRight((m,g,p)=>{let w,v=!1,A=null,j=null;s&&(w=u&&g.route.id?u[g.route.id]:void 0,A=g.route.errorElement||ep,h&&(x<0&&p===0?(y0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):x===p&&(v=!0,j=g.route.hydrateFallbackElement||null)));let R=n.concat(o.slice(0,p+1)),T=()=>{let U;return w?U=A:v?U=j:g.route.Component?U=_.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=m,_.createElement(ap,{match:g,routeContext:{outlet:m,matches:R,isDataRoute:s!=null},children:U})};return s&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?_.createElement(tp,{location:s.location,revalidation:s.revalidation,component:A,error:w,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}function yu(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function np(i){let n=_.useContext(qn);return Xe(n,yu(i)),n}function sp(i){let n=_.useContext(Ti);return Xe(n,yu(i)),n}function lp(i){let n=_.useContext(xa);return Xe(n,yu(i)),n}function vu(i){let n=lp(i),s=n.matches[n.matches.length-1];return Xe(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function ip(){return vu("useRouteId")}function op(){var l;let i=_.useContext(pu),n=sp("useRouteError"),s=vu("useRouteError");return i!==void 0?i:(l=n.errors)==null?void 0:l[s]}function cp(){let{router:i}=np("useNavigate"),n=vu("useNavigate"),s=_.useRef(!1);return b0(()=>{s.current=!0}),_.useCallback(async(o,u={})=>{ma(s.current,x0),s.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:n,...u}))},[i,n])}var Dm={};function y0(i,n,s){!n&&!Dm[i]&&(Dm[i]=!0,ma(!1,s))}_.memo(up);function up({routes:i,future:n,state:s}){return p0(i,void 0,s,n)}function nt(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dp({basename:i="/",children:n=null,location:s,navigationType:l="POP",navigator:o,static:u=!1}){Xe(!Zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),x=_.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof s=="string"&&(s=zn(s));let{pathname:m="/",search:g="",hash:p="",state:w=null,key:v="default"}=s,A=_.useMemo(()=>{let j=Ua(m,h);return j==null?null:{location:{pathname:j,search:g,hash:p,state:w,key:v},navigationType:l}},[h,m,g,p,w,v,l]);return ma(A!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:_.createElement(ga.Provider,{value:x},_.createElement(Ks.Provider,{children:n,value:A}))}function fp({children:i,location:n}){return Ib(lu(i),n)}function lu(i,n=[]){let s=[];return _.Children.forEach(i,(l,o)=>{if(!_.isValidElement(l))return;let u=[...n,o];if(l.type===_.Fragment){s.push.apply(s,lu(l.props.children,u));return}Xe(l.type===nt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=lu(l.props.children,u)),s.push(h)}),s}var wi="get",Si="application/x-www-form-urlencoded";function Ai(i){return i!=null&&typeof i.tagName=="string"}function hp(i){return Ai(i)&&i.tagName.toLowerCase()==="button"}function mp(i){return Ai(i)&&i.tagName.toLowerCase()==="form"}function gp(i){return Ai(i)&&i.tagName.toLowerCase()==="input"}function xp(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function bp(i,n){return i.button===0&&(!n||n==="_self")&&!xp(i)}var gi=null;function pp(){if(gi===null)try{new FormData(document.createElement("form"),0),gi=!1}catch{gi=!0}return gi}var yp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jc(i){return i!=null&&!yp.has(i)?(ma(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Si}"`),null):i}function vp(i,n){let s,l,o,u,h;if(mp(i)){let x=i.getAttribute("action");l=x?Ua(x,n):null,s=i.getAttribute("method")||wi,o=Jc(i.getAttribute("enctype"))||Si,u=new FormData(i)}else if(hp(i)||gp(i)&&(i.type==="submit"||i.type==="image")){let x=i.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||x.getAttribute("action");if(l=m?Ua(m,n):null,s=i.getAttribute("formmethod")||x.getAttribute("method")||wi,o=Jc(i.getAttribute("formenctype"))||Jc(x.getAttribute("enctype"))||Si,u=new FormData(x,i),!pp()){let{name:g,type:p,value:w}=i;if(p==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,w)}}else{if(Ai(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=wi,l=null,o=Si,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:l,method:s.toLowerCase(),encType:o,formData:u,body:h}}function _u(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}async function _p(i,n){if(i.id in n)return n[i.id];try{let s=await import(i.module);return n[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wp(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Sp(i,n,s){let l=await Promise.all(i.map(async o=>{let u=n.routes[o.route.id];if(u){let h=await _p(u,s);return h.links?h.links():[]}return[]}));return Tp(l.flat(1).filter(wp).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function km(i,n,s,l,o,u){let h=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,x=(m,g)=>{var p;return s[g].pathname!==m.pathname||((p=s[g].route.path)==null?void 0:p.endsWith("*"))&&s[g].params["*"]!==m.params["*"]};return u==="assets"?n.filter((m,g)=>h(m,g)||x(m,g)):u==="data"?n.filter((m,g)=>{var w;let p=l.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(h(m,g)||x(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=s[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function jp(i,n,{includeHydrateFallback:s}={}){return Ep(i.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ep(i){return[...new Set(i)]}function Np(i){let n={},s=Object.keys(i).sort();for(let l of s)n[l]=i[l];return n}function Tp(i,n){let s=new Set;return new Set(n),i.reduce((l,o)=>{let u=JSON.stringify(Np(o));return s.has(u)||(s.add(u),l.push({key:u,link:o})),l},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ap=new Set([100,101,204,205]);function Rp(i,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname="_root.data":n&&Ua(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function v0(){let i=_.useContext(qn);return _u(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Cp(){let i=_.useContext(Ti);return _u(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var wu=_.createContext(void 0);wu.displayName="FrameworkContext";function _0(){let i=_.useContext(wu);return _u(i,"You must render this element inside a <HydratedRouter> element"),i}function Dp(i,n){let s=_.useContext(wu),[l,o]=_.useState(!1),[u,h]=_.useState(!1),{onFocus:x,onBlur:m,onMouseEnter:g,onMouseLeave:p,onTouchStart:w}=n,v=_.useRef(null);_.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let R=U=>{U.forEach(B=>{h(B.isIntersecting)})},T=new IntersectionObserver(R,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[i]),_.useEffect(()=>{if(l){let R=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(R)}}},[l]);let A=()=>{o(!0)},j=()=>{o(!1),h(!1)};return s?i!=="intent"?[u,v,{}]:[u,v,{onFocus:qs(x,A),onBlur:qs(m,j),onMouseEnter:qs(g,A),onMouseLeave:qs(p,j),onTouchStart:qs(w,A)}]:[!1,v,{}]}function qs(i,n){return s=>{i&&i(s),s.defaultPrevented||n(s)}}function kp({page:i,...n}){let{router:s}=v0(),l=_.useMemo(()=>c0(s.routes,i,s.basename),[s.routes,i,s.basename]);return l?_.createElement(Up,{page:i,matches:l,...n}):null}function Op(i){let{manifest:n,routeModules:s}=_0(),[l,o]=_.useState([]);return _.useEffect(()=>{let u=!1;return Sp(i,n,s).then(h=>{u||o(h)}),()=>{u=!0}},[i,n,s]),l}function Up({page:i,matches:n,...s}){let l=Ma(),{manifest:o,routeModules:u}=_0(),{basename:h}=v0(),{loaderData:x,matches:m}=Cp(),g=_.useMemo(()=>km(i,n,m,o,l,"data"),[i,n,m,o,l]),p=_.useMemo(()=>km(i,n,m,o,l,"assets"),[i,n,m,o,l]),w=_.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let j=new Set,R=!1;if(n.forEach(U=>{var V;let B=o.routes[U.route.id];!B||!B.hasLoader||(!g.some(X=>X.route.id===U.route.id)&&U.route.id in x&&((V=u[U.route.id])!=null&&V.shouldRevalidate)||B.hasClientLoader?R=!0:j.add(U.route.id))}),j.size===0)return[];let T=Rp(i,h);return R&&j.size>0&&T.searchParams.set("_routes",n.filter(U=>j.has(U.route.id)).map(U=>U.route.id).join(",")),[T.pathname+T.search]},[h,x,l,o,g,n,i,u]),v=_.useMemo(()=>jp(p,o),[p,o]),A=Op(p);return _.createElement(_.Fragment,null,w.map(j=>_.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),v.map(j=>_.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),A.map(({key:j,link:R})=>_.createElement("link",{key:j,...R})))}function Mp(...i){return n=>{i.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.6.1")}catch{}function Lp({basename:i,children:n,window:s}){let l=_.useRef();l.current==null&&(l.current=wb({window:s,v5Compat:!0}));let o=l.current,[u,h]=_.useState({action:o.action,location:o.location}),x=_.useCallback(m=>{_.startTransition(()=>h(m))},[h]);return _.useLayoutEffect(()=>o.listen(x),[o,x]),_.createElement(dp,{basename:i,children:n,location:u.location,navigationType:u.action,navigator:o})}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=_.forwardRef(function({onClick:n,discover:s="render",prefetch:l="none",relative:o,reloadDocument:u,replace:h,state:x,target:m,to:g,preventScrollReset:p,viewTransition:w,...v},A){let{basename:j}=_.useContext(ga),R=typeof g=="string"&&S0.test(g),T,U=!1;if(typeof g=="string"&&R&&(T=g,w0))try{let ne=new URL(window.location.href),oe=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),ge=Ua(oe.pathname,j);oe.origin===ne.origin&&ge!=null?g=ge+oe.search+oe.hash:U=!0}catch{ma(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Kb(g,{relative:o}),[V,X,G]=Dp(l,v),ae=$p(g,{replace:h,state:x,target:m,preventScrollReset:p,relative:o,viewTransition:w});function le(ne){n&&n(ne),ne.defaultPrevented||ae(ne)}let re=_.createElement("a",{...v,...G,href:T||B,onClick:U||u?n:le,ref:Mp(A,X),target:m,"data-discover":!R&&s==="render"?"true":void 0});return V&&!R?_.createElement(_.Fragment,null,re,_.createElement(kp,{page:B})):re});Be.displayName="Link";var zp=_.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:l="",end:o=!1,style:u,to:h,viewTransition:x,children:m,...g},p){let w=Js(h,{relative:g.relative}),v=Ma(),A=_.useContext(Ti),{navigator:j,basename:R}=_.useContext(ga),T=A!=null&&Qp(w)&&x===!0,U=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,B=v.pathname,V=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;s||(B=B.toLowerCase(),V=V?V.toLowerCase():null,U=U.toLowerCase()),V&&R&&(V=Ua(V,R)||V);const X=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let G=B===U||!o&&B.startsWith(U)&&B.charAt(X)==="/",ae=V!=null&&(V===U||!o&&V.startsWith(U)&&V.charAt(U.length)==="/"),le={isActive:G,isPending:ae,isTransitioning:T},re=G?n:void 0,ne;typeof l=="function"?ne=l(le):ne=[l,G?"active":null,ae?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let oe=typeof u=="function"?u(le):u;return _.createElement(Be,{...g,"aria-current":re,className:ne,ref:p,style:oe,to:h,viewTransition:x},typeof m=="function"?m(le):m)});zp.displayName="NavLink";var qp=_.forwardRef(({discover:i="render",fetcherKey:n,navigate:s,reloadDocument:l,replace:o,state:u,method:h=wi,action:x,onSubmit:m,relative:g,preventScrollReset:p,viewTransition:w,...v},A)=>{let j=Gp(),R=Yp(x,{relative:g}),T=h.toLowerCase()==="get"?"get":"post",U=typeof x=="string"&&S0.test(x),B=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let X=V.nativeEvent.submitter,G=(X==null?void 0:X.getAttribute("formmethod"))||h;j(X||V.currentTarget,{fetcherKey:n,method:G,navigate:s,replace:o,state:u,relative:g,preventScrollReset:p,viewTransition:w})};return _.createElement("form",{ref:A,method:T,action:R,onSubmit:l?m:B,...v,"data-discover":!U&&i==="render"?"true":void 0})});qp.displayName="Form";function Bp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(i){let n=_.useContext(qn);return Xe(n,Bp(i)),n}function $p(i,{target:n,replace:s,state:l,preventScrollReset:o,relative:u,viewTransition:h}={}){let x=sa(),m=Ma(),g=Js(i,{relative:u});return _.useCallback(p=>{if(bp(p,n)){p.preventDefault();let w=s!==void 0?s:Qs(m)===Qs(g);x(i,{replace:w,state:l,preventScrollReset:o,relative:u,viewTransition:h})}},[m,x,g,s,l,n,i,o,u,h])}var Hp=0,Vp=()=>`__${String(++Hp)}__`;function Gp(){let{router:i}=j0("useSubmit"),{basename:n}=_.useContext(ga),s=ip();return _.useCallback(async(l,o={})=>{let{action:u,method:h,encType:x,formData:m,body:g}=vp(l,n);if(o.navigate===!1){let p=o.fetcherKey||Vp();await i.fetch(p,s,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||x,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||x,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,n,s])}function Yp(i,{relative:n}={}){let{basename:s}=_.useContext(ga),l=_.useContext(xa);Xe(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),u={...Js(i||".",{relative:n})},h=Ma();if(i==null){u.search=h.search;let x=new URLSearchParams(u.search),m=x.getAll("index");if(m.some(p=>p==="")){x.delete("index"),m.filter(w=>w).forEach(w=>x.append("index",w));let p=x.toString();u.search=p?`?${p}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Oa([s,u.pathname])),Qs(u)}function Qp(i,n={}){let s=_.useContext(g0);Xe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=j0("useViewTransitionState"),o=Js(i,{relative:n.relative});if(!s.isTransitioning)return!1;let u=Ua(s.currentLocation.pathname,l)||s.currentLocation.pathname,h=Ua(s.nextLocation.pathname,l)||s.nextLocation.pathname;return ji(o.pathname,h)!=null||ji(o.pathname,u)!=null}[...Ap];const Pp="modulepreload",Xp=function(i){return"/SignatureApp/"+i},Om={},Mn=function(n,s,l){let o=Promise.resolve();if(s&&s.length>0){let h=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),m=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));o=h(s.map(g=>{if(g=Xp(g),g in Om)return;Om[g]=!0;const p=g.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Pp,p||(v.as="script"),v.crossOrigin="",v.href=g,m&&v.setAttribute("nonce",m),document.head.appendChild(v),p)return new Promise((A,j)=>{v.addEventListener("load",A),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=h,window.dispatchEvent(x),!x.defaultPrevented)throw h}return o.then(h=>{for(const x of h||[])x.status==="rejected"&&u(x.reason);return n().catch(u)})},Fp=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Mn(async()=>{const{default:l}=await Promise.resolve().then(()=>Bn);return{default:l}},[]).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)};class Su extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class Kp extends Su{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Zp extends Su{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Jp extends Su{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var iu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(iu||(iu={}));var Ip=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};class Wp{constructor(n,{headers:s={},customFetch:l,region:o=iu.Any}={}){this.url=n,this.headers=s,this.region=o,this.fetch=Fp(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var l;return Ip(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:h}=s;let x={},{region:m}=s;m||(m=this.region),m&&m!=="any"&&(x["x-region"]=m);let g;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",g=h):typeof h=="string"?(x["Content-Type"]="text/plain",g=h):typeof FormData<"u"&&h instanceof FormData?g=h:(x["Content-Type"]="application/json",g=JSON.stringify(h)));const p=yield this.fetch(`${this.url}/${n}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),o),body:g}).catch(j=>{throw new Kp(j)}),w=p.headers.get("x-relay-error");if(w&&w==="true")throw new Zp(p);if(!p.ok)throw new Jp(p);let v=((l=p.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),A;return v==="application/json"?A=yield p.json():v==="application/octet-stream"?A=yield p.blob():v==="text/event-stream"?A=p:v==="multipart/form-data"?A=yield p.formData():A=yield p.text(),{data:A,error:null}}catch(o){return{data:null,error:o}}})}}var ut={},Sn={},jn={},En={},Nn={},Tn={},ey=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ln=ey();const ty=Ln.fetch,E0=Ln.fetch.bind(Ln),N0=Ln.Headers,ay=Ln.Request,ry=Ln.Response,Bn=Object.freeze(Object.defineProperty({__proto__:null,Headers:N0,Request:ay,Response:ry,default:E0,fetch:ty},Symbol.toStringTag,{value:"Module"})),ny=ub(Bn);var xi={},Um;function T0(){if(Um)return xi;Um=1,Object.defineProperty(xi,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return xi.default=i,xi}var Mm;function A0(){if(Mm)return Tn;Mm=1;var i=Tn&&Tn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Tn,"__esModule",{value:!0});const n=i(ny),s=i(T0());class l{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const x=this.fetch;let m=x(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,w,v;let A=null,j=null,R=null,T=g.status,U=g.statusText;if(g.ok){if(this.method!=="HEAD"){const G=await g.text();G===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=G:j=JSON.parse(G))}const V=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),X=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");V&&X&&X.length>1&&(R=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(A={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,R=null,T=406,U="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const V=await g.text();try{A=JSON.parse(V),Array.isArray(A)&&g.status===404&&(j=[],A=null,T=200,U="OK")}catch{g.status===404&&V===""?(T=204,U="No Content"):A={message:V}}if(A&&this.isMaybeSingle&&(!((v=A==null?void 0:A.details)===null||v===void 0)&&v.includes("0 rows"))&&(A=null,T=200,U="OK"),A&&this.shouldThrowOnError)throw new s.default(A)}return{error:A,data:j,count:R,status:T,statusText:U}});return this.shouldThrowOnError||(m=m.catch(g=>{var p,w,v;return{error:{message:`${(p=g==null?void 0:g.name)!==null&&p!==void 0?p:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(w=g==null?void 0:g.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(v=g==null?void 0:g.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,h)}returns(){return this}overrideTypes(){return this}}return Tn.default=l,Tn}var Lm;function R0(){if(Lm)return Nn;Lm=1;var i=Nn&&Nn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Nn,"__esModule",{value:!0});const n=i(A0());class s extends n.default{select(o){let u=!1;const h=(o??"*").split("").map(x=>/\s/.test(x)&&!u?"":(x==='"'&&(u=!u),x)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:h,foreignTable:x,referencedTable:m=x}={}){const g=m?`${m}.order`:"order",p=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${p?`${p},`:""}${o}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:h=u}={}){const x=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(x,`${o}`),this}range(o,u,{foreignTable:h,referencedTable:x=h}={}){const m=typeof x>"u"?"offset":`${x}.offset`,g=typeof x>"u"?"limit":`${x}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:h=!1,buffers:x=!1,wal:m=!1,format:g="text"}={}){var p;const w=[o?"analyze":null,u?"verbose":null,h?"settings":null,x?"buffers":null,m?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${v}"; options=${w};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Nn.default=s,Nn}var zm;function ju(){if(zm)return En;zm=1;var i=En&&En.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(En,"__esModule",{value:!0});const n=i(R0());class s extends n.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const h=Array.from(new Set(u)).map(x=>typeof x=="string"&&new RegExp("[,()]").test(x)?`"${x}"`:`${x}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:h,type:x}={}){let m="";x==="plain"?m="pl":x==="phrase"?m="ph":x==="websearch"&&(m="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${m}fts${g}.${u}`),this}match(o){return Object.entries(o).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(o,u,h){return this.url.searchParams.append(o,`not.${u}.${h}`),this}or(o,{foreignTable:u,referencedTable:h=u}={}){const x=h?`${h}.or`:"or";return this.url.searchParams.append(x,`(${o})`),this}filter(o,u,h){return this.url.searchParams.append(o,`${u}.${h}`),this}}return En.default=s,En}var qm;function C0(){if(qm)return jn;qm=1;var i=jn&&jn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(jn,"__esModule",{value:!0});const n=i(ju());class s{constructor(o,{headers:u={},schema:h,fetch:x}){this.url=o,this.headers=u,this.schema=h,this.fetch=x}select(o,{head:u=!1,count:h}={}){const x=u?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",g),h&&(this.headers.Prefer=`count=${h}`),new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:h=!0}={}){const x="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),h||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const g=o.reduce((p,w)=>p.concat(Object.keys(w)),[]);if(g.length>0){const p=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",p.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:h=!1,count:x,defaultToNull:m=!0}={}){const g="POST",p=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&p.push(this.headers.Prefer),x&&p.push(`count=${x}`),m||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const w=o.reduce((v,A)=>v.concat(Object.keys(A)),[]);if(w.length>0){const v=[...new Set(w)].map(A=>`"${A}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const h="PATCH",x=[];return this.headers.Prefer&&x.push(this.headers.Prefer),u&&x.push(`count=${u}`),this.headers.Prefer=x.join(","),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",h=[];return o&&h.push(`count=${o}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return jn.default=s,jn}var Bs={},$s={},Bm;function sy(){return Bm||(Bm=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.version=void 0,$s.version="0.0.0-automated"),$s}var $m;function ly(){if($m)return Bs;$m=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.DEFAULT_HEADERS=void 0;const i=sy();return Bs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},Bs}var Hm;function iy(){if(Hm)return Sn;Hm=1;var i=Sn&&Sn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Sn,"__esModule",{value:!0});const n=i(C0()),s=i(ju()),l=ly();class o{constructor(h,{headers:x={},schema:m,fetch:g}={}){this.url=h,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),x),this.schemaName=m,this.fetch=g}from(h){const x=new URL(`${this.url}/${h}`);return new n.default(x,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new o(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,x={},{head:m=!1,get:g=!1,count:p}={}){let w;const v=new URL(`${this.url}/rpc/${h}`);let A;m||g?(w=m?"HEAD":"GET",Object.entries(x).filter(([R,T])=>T!==void 0).map(([R,T])=>[R,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([R,T])=>{v.searchParams.append(R,T)})):(w="POST",A=x);const j=Object.assign({},this.headers);return p&&(j.Prefer=`count=${p}`),new s.default({method:w,url:v,headers:j,schema:this.schemaName,body:A,fetch:this.fetch,allowEmpty:!1})}}return Sn.default=o,Sn}var Vm;function oy(){if(Vm)return ut;Vm=1;var i=ut&&ut.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const n=i(iy());ut.PostgrestClient=n.default;const s=i(C0());ut.PostgrestQueryBuilder=s.default;const l=i(ju());ut.PostgrestFilterBuilder=l.default;const o=i(R0());ut.PostgrestTransformBuilder=o.default;const u=i(A0());ut.PostgrestBuilder=u.default;const h=i(T0());return ut.PostgrestError=h.default,ut.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:h.default},ut}var cy=oy();const uy=cb(cy),{PostgrestClient:dy,PostgrestQueryBuilder:M1,PostgrestFilterBuilder:L1,PostgrestTransformBuilder:z1,PostgrestBuilder:q1,PostgrestError:B1}=uy,fy="2.11.2",hy={"X-Client-Info":`realtime-js/${fy}`},my="1.0.0",D0=1e4,gy=1e3;var Un;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Un||(Un={}));var $t;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})($t||($t={}));var aa;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(aa||(aa={}));var ou;(function(i){i.websocket="websocket"})(ou||(ou={}));var Mr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Mr||(Mr={}));class xy{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,s,l)}_decodeBroadcast(n,s,l){const o=s.getUint8(1),u=s.getUint8(2);let h=this.HEADER_LENGTH+2;const x=l.decode(n.slice(h,h+o));h=h+o;const m=l.decode(n.slice(h,h+u));h=h+u;const g=JSON.parse(l.decode(n.slice(h,n.byteLength)));return{ref:null,topic:x,event:m,payload:g}}}class k0{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ve||(Ve={}));const Gm=(i,n,s={})=>{var l;const o=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((u,h)=>(u[h]=by(h,i,n,o),u),{})},by=(i,n,s,l)=>{const o=n.find(x=>x.name===i),u=o==null?void 0:o.type,h=s[i];return u&&!l.includes(u)?O0(u,h):cu(h)},O0=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return _y(n,s)}switch(i){case Ve.bool:return py(n);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return yy(n);case Ve.json:case Ve.jsonb:return vy(n);case Ve.timestamp:return wy(n);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return cu(n);default:return cu(n)}},cu=i=>i,py=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},yy=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},vy=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},_y=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,l=i[s];if(i[0]==="{"&&l==="}"){let u;const h=i.slice(1,s);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(x=>O0(n,x))}return i},wy=i=>typeof i=="string"?i.replace(" ","T"):i,U0=i=>{let n=i;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Ic{constructor(n,s,l={},o=D0){this.channel=n,this.event=s,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ym;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Ym||(Ym={}));class Vs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:h,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vs.syncState(this.state,o,u,h),this.pendingDiffs.forEach(m=>{this.state=Vs.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],x()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:h,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vs.syncDiff(this.state,o,u,h),x())}),this.onJoin((o,u,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:h})}),this.onLeave((o,u,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,o){const u=this.cloneDeep(n),h=this.transformState(s),x={},m={};return this.map(u,(g,p)=>{h[g]||(m[g]=p)}),this.map(h,(g,p)=>{const w=u[g];if(w){const v=p.map(T=>T.presence_ref),A=w.map(T=>T.presence_ref),j=p.filter(T=>A.indexOf(T.presence_ref)<0),R=w.filter(T=>v.indexOf(T.presence_ref)<0);j.length>0&&(x[g]=j),R.length>0&&(m[g]=R)}else x[g]=p}),this.syncDiff(u,{joins:x,leaves:m},l,o)}static syncDiff(n,s,l,o){const{joins:u,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(x,m)=>{var g;const p=(g=n[x])!==null&&g!==void 0?g:[];if(n[x]=this.cloneDeep(m),p.length>0){const w=n[x].map(A=>A.presence_ref),v=p.filter(A=>w.indexOf(A.presence_ref)<0);n[x].unshift(...v)}l(x,p,m)}),this.map(h,(x,m)=>{let g=n[x];if(!g)return;const p=m.map(w=>w.presence_ref);g=g.filter(w=>p.indexOf(w.presence_ref)<0),n[x]=g,o(x,g,m),g.length===0&&delete n[x]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const o=n[l];return"metas"in o?s[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[l]=o,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Qm||(Qm={}));var Pm;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Pm||(Pm={}));var ka;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(ka||(ka={}));class Eu{constructor(n,s={config:{}},l){this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=$t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ic(this,aa.join,this.params,this.timeout),this.rejoinTimer=new k0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$t.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Vs(this),this.broadcastEndpointURL=U0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var l,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:h,private:x}}=this.params;this._onError(p=>n==null?void 0:n(ka.CHANNEL_ERROR,p)),this._onClose(()=>n==null?void 0:n(ka.CLOSED));const m={},g={broadcast:u,presence:h,postgres_changes:(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(p=>p.filter))!==null&&o!==void 0?o:[],private:x};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){n==null||n(ka.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,A=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,j=[];for(let R=0;R<A;R++){const T=v[R],{filter:{event:U,schema:B,table:V,filter:X}}=T,G=p&&p[R];if(G&&G.event===U&&G.schema===B&&G.table===V&&G.filter===X)j.push(Object.assign(Object.assign({},T),{id:G.id}));else{this.unsubscribe(),n==null||n(ka.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,n&&n(ka.SUBSCRIBED);return}}).receive("error",p=>{n==null||n(ka.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(ka.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this._on(n,s,l)}async send(n,s={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:h}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,x,m;const g=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(x=(h=this.params)===null||h===void 0?void 0:h.config)===null||x===void 0?void 0:x.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=$t.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const o=new Ic(this,aa.leave,{},n);o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(n,s,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(u),h}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ic(this,n,s,l);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var o,u;const h=n.toLocaleLowerCase(),{close:x,error:m,leave:g,join:p}=aa;if(l&&[x,m,g,p].indexOf(h)>=0&&l!==this._joinRef())return;let v=this._onMessage(h,s,l);if(s&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(A=>{var j,R,T;return((j=A.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(R=A.filter)===null||R===void 0?void 0:R.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(A=>A.callback(v,l)):(u=this.bindings[h])===null||u===void 0||u.filter(A=>{var j,R,T,U,B,V;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in A){const X=A.id,G=(j=A.filter)===null||j===void 0?void 0:j.event;return X&&((R=s.ids)===null||R===void 0?void 0:R.includes(X))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const X=(B=(U=A==null?void 0:A.filter)===null||U===void 0?void 0:U.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return X==="*"||X===((V=s==null?void 0:s.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===h}).map(A=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:R,table:T,commit_timestamp:U,type:B,errors:V}=j;v=Object.assign(Object.assign({},{schema:R,table:T,commit_timestamp:U,eventType:B,new:{},old:{},errors:V}),this._getPayloadRecords(j))}A.callback(v,l)})}_isClosed(){return this.state===$t.closed}_isJoined(){return this.state===$t.joined}_isJoining(){return this.state===$t.joining}_isLeaving(){return this.state===$t.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const o=n.toLocaleLowerCase(),u={type:o,filter:s,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Eu.isEqual(o.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(aa.close,{},n)}_onError(n){this._on(aa.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$t.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Gm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Gm(n.columns,n.old_record)),s}}const Sy=()=>{},jy=typeof WebSocket<"u",Ey=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ny{constructor(n,s){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=hy,this.params={},this.timeout=D0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Sy,this.conn=null,this.sendBuffer=[],this.serializer=new xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...x)=>Mn(async()=>{const{default:m}=await Promise.resolve().then(()=>Bn);return{default:m}},void 0).then(({default:m})=>m(...x)):h=fetch,(...x)=>h(...x)},this.endPoint=`${n}/${ou.websocket}`,this.httpEndpoint=U0(n),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const o=(l=s==null?void 0:s.params)===null||l===void 0?void 0:l.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(u,h)=>h(JSON.stringify(u)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new k0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jy){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ty(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mn(async()=>{const{default:n}=await import("./browser-BbsVJC2u.js").then(s=>s.b);return{default:n}},[]).then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:my}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Un.connecting:return Mr.Connecting;case Un.open:return Mr.Open;case Un.closing:return Mr.Closing;default:return Mr.Closed}}isConnected(){return this.connectionState()===Mr.Open}channel(n,s={config:{}}){const l=new Eu(`realtime:${n}`,s,this);return this.channels.push(l),l}push(n){const{topic:s,event:l,payload:o,ref:u}=n,h=()=>{this.encode(n,x=>{var m;(m=this.conn)===null||m===void 0||m.send(x)})};this.log("push",`${s} ${l} (${u})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let l=null;try{l=JSON.parse(atob(s.split(".")[1]))}catch{}if(l&&l.exp&&!(Math.floor(Date.now()/1e3)-l.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${l.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${l.exp}`);this.accessTokenValue=s,this.channels.forEach(o=>{s&&o.updateJoinPayload({access_token:s}),o.joinedOnce&&o._isJoined()&&o._push(aa.access_token,{access_token:s})})}}async sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(gy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:l,event:o,payload:u,ref:h}=s;h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${o} ${h&&"("+h+")"||""}`,u),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(o,u,h)),this.stateChangeCallbacks.message.forEach(x=>x(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(aa.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${n}${l}${o}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([Ey],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}}class Ty{constructor(n,s,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Un.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=l.close}}class Nu extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function dt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Ay extends Nu{constructor(n,s){super(n),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uu extends Nu{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Ry=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};const M0=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Mn(async()=>{const{default:l}=await Promise.resolve().then(()=>Bn);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},Cy=()=>Ry(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mn(()=>Promise.resolve().then(()=>Bn),void 0)).Response:Response}),du=i=>{if(Array.isArray(i))return i.map(s=>du(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,l])=>{const o=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=du(l)}),n};var Lr=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};const Wc=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Dy=(i,n,s)=>Lr(void 0,void 0,void 0,function*(){const l=yield Cy();i instanceof l&&!(s!=null&&s.noResolveJson)?i.json().then(o=>{n(new Ay(Wc(o),i.status||500))}).catch(o=>{n(new uu(Wc(o),o))}):n(new uu(Wc(i),i))}),ky=(i,n,s,l)=>{const o={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),l&&(o.body=JSON.stringify(l)),Object.assign(Object.assign({},o),s))};function Is(i,n,s,l,o,u){return Lr(this,void 0,void 0,function*(){return new Promise((h,x)=>{i(s,ky(n,l,o,u)).then(m=>{if(!m.ok)throw m;return l!=null&&l.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>Dy(m,x,l))})})}function Ei(i,n,s,l){return Lr(this,void 0,void 0,function*(){return Is(i,"GET",n,s,l)})}function ur(i,n,s,l,o){return Lr(this,void 0,void 0,function*(){return Is(i,"POST",n,l,o,s)})}function Oy(i,n,s,l,o){return Lr(this,void 0,void 0,function*(){return Is(i,"PUT",n,l,o,s)})}function Uy(i,n,s,l){return Lr(this,void 0,void 0,function*(){return Is(i,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function L0(i,n,s,l,o){return Lr(this,void 0,void 0,function*(){return Is(i,"DELETE",n,l,o,s)})}var kt=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};const My={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ly{constructor(n,s={},l,o){this.url=n,this.headers=s,this.bucketId=l,this.fetch=M0(o)}uploadOrUpdate(n,s,l,o){return kt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Xm),o);let x=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=l,x["cache-control"]=`max-age=${h.cacheControl}`,x["content-type"]=h.contentType,m&&(x["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(x=Object.assign(Object.assign({},x),o.headers));const g=this._removeEmptyFolders(s),p=this._getFinalPath(g),w=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:n,body:u,headers:x},h!=null&&h.duplex?{duplex:h.duplex}:{})),v=yield w.json();return w.ok?{data:{path:g,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(dt(u))return{data:null,error:u};throw u}})}upload(n,s,l){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,o){return kt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),x=new URL(this.url+`/object/upload/sign/${h}`);x.searchParams.set("token",s);try{let m;const g=Object.assign({upsert:Xm.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",g.cacheControl)):(m=l,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType);const w=yield this.fetch(x.toString(),{method:"PUT",body:m,headers:p}),v=yield w.json();return w.ok?{data:{path:u,fullPath:v.Key},error:null}:{data:null,error:v}}catch(m){if(dt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return kt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const u=yield ur(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),h=new URL(this.url+u.url),x=h.searchParams.get("token");if(!x)throw new Nu("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:x},error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}update(n,s,l){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return kt(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}copy(n,s,l){return kt(this,void 0,void 0,function*(){try{return{data:{path:(yield ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}createSignedUrl(n,s,l){return kt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),u=yield ur(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}createSignedUrls(n,s,l){return kt(this,void 0,void 0,function*(){try{const o=yield ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}download(n,s){return kt(this,void 0,void 0,function*(){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=u?`?${u}`:"";try{const x=this._getFinalPath(n);return{data:yield(yield Ei(this.fetch,`${this.url}/${o}/${x}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(dt(x))return{data:null,error:x};throw x}})}info(n){return kt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield Ei(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:du(l),error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}exists(n){return kt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Uy(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(dt(l)&&l instanceof uu){const o=l.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),o=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&o.push(u);const x=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${l}${g}`)}}}remove(n){return kt(this,void 0,void 0,function*(){try{return{data:yield L0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}list(n,s,l){return kt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},My),s),{prefix:n||""});return{data:yield ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const zy="2.7.1",qy={"X-Client-Info":`storage-js/${zy}`};var An=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};class By{constructor(n,s={},l){this.url=n,this.headers=Object.assign(Object.assign({},qy),s),this.fetch=M0(l)}listBuckets(){return An(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}getBucket(n){return An(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return An(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}updateBucket(n,s){return An(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}emptyBucket(n){return An(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return An(this,void 0,void 0,function*(){try{return{data:yield L0(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}}class $y extends By{constructor(n,s={},l){super(n,s,l)}from(n){return new Ly(this.url,this.headers,n,this.fetch)}}const Hy="2.49.8";let Hs="";typeof Deno<"u"?Hs="deno":typeof document<"u"?Hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hs="react-native":Hs="node";const Vy={"X-Client-Info":`supabase-js-${Hs}/${Hy}`},Gy={headers:Vy},Yy={schema:"public"},Qy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Py={};var Xy=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};const Fy=i=>{let n;return i?n=i:typeof fetch>"u"?n=E0:n=fetch,(...s)=>n(...s)},Ky=()=>typeof Headers>"u"?N0:Headers,Zy=(i,n,s)=>{const l=Fy(s),o=Ky();return(u,h)=>Xy(void 0,void 0,void 0,function*(){var x;const m=(x=yield n())!==null&&x!==void 0?x:i;let g=new o(h==null?void 0:h.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},h),{headers:g}))})};var Jy=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};function Iy(i){return i.endsWith("/")?i:i+"/"}function Wy(i,n){var s,l;const{db:o,auth:u,realtime:h,global:x}=i,{db:m,auth:g,realtime:p,global:w}=n,v={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},p),h),global:Object.assign(Object.assign(Object.assign({},w),x),{headers:Object.assign(Object.assign({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(l=x==null?void 0:x.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Jy(this,void 0,void 0,function*(){return""})};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}const z0="2.69.1",kn=30*1e3,fu=3,eu=fu*kn,ev="http://localhost:9999",tv="supabase.auth.token",av={"X-Client-Info":`gotrue-js/${z0}`},hu="X-Supabase-Api-Version",q0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nv=6e5;class Tu extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ye(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class sv extends Tu{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function lv(i){return ye(i)&&i.name==="AuthApiError"}class B0 extends Tu{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class fr extends Tu{constructor(n,s,l,o){super(n,l,o),this.name=s,this.status=l}}class or extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iv(i){return ye(i)&&i.name==="AuthSessionMissingError"}class tu extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends fr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class pi extends fr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ov(i){return ye(i)&&i.name==="AuthImplicitGrantRedirectError"}class Fm extends fr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mu extends fr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function au(i){return ye(i)&&i.name==="AuthRetryableFetchError"}class Km extends fr{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Gs extends fr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jm=` 	
\r=`.split(""),cv=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Jm.length;n+=1)i[Jm[n].charCodeAt(0)]=-2;for(let n=0;n<Zm.length;n+=1)i[Zm[n].charCodeAt(0)]=n;return i})();function $0(i,n,s){const l=cv[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Im(i){const n=[],s=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=h=>{fv(h,l,s)};for(let h=0;h<i.length;h+=1)$0(i.charCodeAt(h),o,u);return n.join("")}function uv(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function dv(i,n){for(let s=0;s<i.length;s+=1){let l=i.charCodeAt(s);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(i.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}uv(l,n)}}function fv(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function hv(i){const n=[],s={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<i.length;o+=1)$0(i.charCodeAt(o),s,l);return new Uint8Array(n)}function mv(i){const n=[];return dv(i,s=>n.push(s)),new Uint8Array(n)}function gv(i){return Math.round(Date.now()/1e3)+i}function xv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const ha=()=>typeof window<"u"&&typeof document<"u",kr={tested:!1,writable:!1},Ys=()=>{if(!ha())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kr.tested)return kr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),kr.tested=!0,kr.writable=!0}catch{kr.tested=!0,kr.writable=!1}return kr.writable};function bv(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return s.searchParams.forEach((l,o)=>{n[o]=l}),n}const H0=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Mn(async()=>{const{default:l}=await Promise.resolve().then(()=>Bn);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},pv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",V0=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},yi=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},vi=async(i,n)=>{await i.removeItem(n)};class Ri{constructor(){this.promise=new Ri.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Ri.promiseConstructor=Promise;function ru(i){const n=i.split(".");if(n.length!==3)throw new Gs("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!rv.test(n[l]))throw new Gs("JWT not in base64url format");return{header:JSON.parse(Im(n[0])),payload:JSON.parse(Im(n[1])),signature:hv(n[2]),raw:{header:n[0],payload:n[1]}}}async function yv(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function vv(i,n){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await i(u);if(!n(u,null,h)){l(h);return}}catch(h){if(!n(u,h)){o(h);return}}})()})}function _v(i){return("0"+i.toString(16)).substr(-2)}function wv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let o="";for(let u=0;u<56;u++)o+=s.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,_v).join("")}async function Sv(i){const s=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function jv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await Sv(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(i,n,s=!1){const l=wv();let o=l;s&&(o+="/PASSWORD_RECOVERY"),await V0(i,`${n}-code-verifier`,o);const u=await jv(l);return[u,l===u?"plain":"s256"]}const Ev=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nv(i){const n=i.headers.get(hu);if(!n||!n.match(Ev))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Tv(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Av(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Rv=function(i,n){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(i);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(i,l[o])&&(s[l[o]]=i[l[o]]);return s};const Ur=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Cv=[502,503,504];async function Wm(i){var n;if(!pv(i))throw new mu(Ur(i),0);if(Cv.includes(i.status))throw new mu(Ur(i),i.status);let s;try{s=await i.json()}catch(u){throw new B0(Ur(u),u)}let l;const o=Nv(i);if(o&&o.getTime()>=q0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Km(Ur(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new or}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Km(Ur(s),i.status,s.weak_password.reasons);throw new sv(Ur(s),i.status||500,l)}const Dv=(i,n,s,l)=>{const o={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),s))};async function Te(i,n,s,l){var o;const u=Object.assign({},l==null?void 0:l.headers);u[hu]||(u[hu]=q0["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(o=l==null?void 0:l.query)!==null&&o!==void 0?o:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const x=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await kv(i,n,s+x,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(m):{data:Object.assign({},m),error:null}}async function kv(i,n,s,l,o,u){const h=Dv(n,l,o,u);let x;try{x=await i(s,Object.assign({},h))}catch(m){throw console.error(m),new mu(Ur(m),0)}if(x.ok||await Wm(x),l!=null&&l.noResolveJson)return x;try{return await x.json()}catch(m){await Wm(m)}}function cr(i){var n;let s=null;Lv(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=gv(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:l},error:null}}function e0(i){const n=cr(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function dr(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Ov(i){return{data:i,error:null}}function Uv(i){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:o,verification_type:u}=i,h=Rv(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),x={action_link:n,email_otp:s,hashed_token:l,redirect_to:o,verification_type:u},m=Object.assign({},h);return{data:{properties:x,user:m},error:null}}function Mv(i){return i}function Lv(i){return i.access_token&&i.refresh_token&&i.expires_in}var zv=function(i,n){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(i);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(i,l[o])&&(s[l[o]]=i[l[o]]);return s};class qv{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=H0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s="global"){try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ye(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:dr})}catch(l){if(ye(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=zv(n,["options"]),o=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(o.new_email=l==null?void 0:l.newEmail,delete o.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Uv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ye(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:dr})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,o,u,h,x,m;try{const g={nextPage:null,lastPage:0,total:0},p=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Mv});if(p.error)throw p.error;const w=await p.json(),v=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(m=(x=p.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(j=>{const R=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);g[`${T}Page`]=R}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ye(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:dr})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:dr})}catch(l){if(ye(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:dr})}catch(l){if(ye(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){try{const{data:s,error:l}=await Te(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:l}}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _deleteFactor(n){try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}}}const Bv={getItem:i=>Ys()?globalThis.localStorage.getItem(i):null,setItem:(i,n)=>{Ys()&&globalThis.localStorage.setItem(i,n)},removeItem:i=>{Ys()&&globalThis.localStorage.removeItem(i)}};function t0(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}function $v(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cn={debug:!!(globalThis&&Ys()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Hv extends G0{}async function Vv(i,n,s){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await s()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(n===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Hv(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Cn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}$v();const Gv={url:ev,storageKey:tv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:av,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a0(i,n,s){return await s()}class Ps{constructor(n){var s,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ps.nextInstanceID,Ps.nextInstanceID+=1,this.instanceID>0&&ha()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Gv),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new qv({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=H0(o.fetch),this.lock=o.lock||a0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ha()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Vv:this.lock=a0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ys()?this.storage=Bv:(this.memoryStorage={},this.storage=t0(this.memoryStorage)):(this.memoryStorage={},this.storage=t0(this.memoryStorage)),ha()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${z0}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=bv(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),ha()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:u}=await this._getSessionFromURL(s,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),ov(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:x}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",x),await this._saveSession(h),setTimeout(async()=>{x==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ye(s)?{error:s}:{error:new B0("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,o;try{const u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n==null?void 0:n.options)===null||o===void 0?void 0:o.captchaToken}},xform:cr}),{data:h,error:x}=u;if(x||!h)return{data:{user:null,session:null},error:x};const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ye(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var s,l,o;try{let u;if("email"in n){const{email:p,password:w,options:v}=n;let A=null,j=null;this.flowType==="pkce"&&([A,j]=await Rn(this.storage,this.storageKey)),u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:w,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:A,code_challenge_method:j},xform:cr})}else if("phone"in n){const{phone:p,password:w,options:v}=n;u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:w,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:cr})}else throw new bi("You must provide either an email or phone number and a password");const{data:h,error:x}=u;if(x||!h)return{data:{user:null,session:null},error:x};const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ye(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let s;if("email"in n){const{email:u,password:h,options:x}=n;s=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:e0})}else if("phone"in n){const{phone:u,password:h,options:x}=n;s=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:e0})}else throw new bi("You must provide either an email or phone number and a password");const{data:l,error:o}=s;return o?{data:{user:null,session:null},error:o}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new tu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,l,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const s=await yi(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(s??"").split("/");try{const{data:u,error:h}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:cr});if(await vi(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new tu}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:h})}catch(u){if(ye(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:s,provider:l,token:o,access_token:u,nonce:h}=n,x=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:cr}),{data:m,error:g}=x;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new tu}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,l,o,u,h;try{if("email"in n){const{email:x,options:m}=n;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Rn(this.storage,this.storageKey));const{error:w}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:x,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in n){const{phone:x,options:m}=n,{data:g,error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:x,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:p}}throw new bi("You must provide either an email or phone number.")}catch(x){if(ye(x))return{data:{user:null,session:null},error:x};throw x}}async verifyOtp(n){var s,l;try{let o,u;"options"in n&&(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:x}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:cr});if(x)throw x;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,g=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var s,l,o;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await Rn(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n==null?void 0:n.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Ov})}catch(u){if(ye(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new or;const{error:o}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:u}=n,{error:h}=await Te(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:l,type:o,options:u}=n,{data:h,error:x}=await Te(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:x}}throw new bi("You must provide either an email or phone number and a type")}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<eu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.storage.isServer){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,g,p)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,p))})}return{data:{session:n},error:null}}const{session:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:dr}):await this._useSession(async s=>{var l,o,u;const{data:h,error:x}=s;if(x)throw x;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new or}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:dr})})}catch(s){if(ye(s))return iv(s)&&(await this._removeSession(),await vi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new or;const h=o.session;let x=null,m=null;this.flowType==="pkce"&&n.email!=null&&([x,m]=await Rn(this.storage,this.storageKey));const{data:g,error:p}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:x,code_challenge_method:m}),jwt:h.access_token,xform:dr});if(p)throw p;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(ye(l))return{data:{user:null},error:l};throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new or;const s=Date.now()/1e3;let l=s,o=!0,u=null;const{payload:h}=ru(n.access_token);if(h.exp&&(l=h.exp,o=l<=s),o){const{session:x,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!x)return{data:{user:null,session:null},error:null};u=x}else{const{data:x,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:x.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(ye(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:h,error:x}=s;if(x)throw x;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new or;const{session:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!ha())throw new pi("No browser detected.");if(n.error||n.error_description||n.error_code)throw new pi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Fm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Fm("No code detected.");const{data:B,error:V}=await this._exchangeCodeForSession(n.code);if(V)throw V;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:h,expires_in:x,expires_at:m,token_type:g}=n;if(!u||!x||!h||!g)throw new pi("No session defined in URL");const p=Math.round(Date.now()/1e3),w=parseInt(x);let v=p+w;m&&(v=parseInt(m));const A=v-p;A*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${w}s`);const j=v-w;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,p);const{data:R,error:T}=await this._getUser(u);if(T)throw T;const U={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:w,expires_at:v,refresh_token:h,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:n.type},error:null}}catch(l){if(ye(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await yi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:o,error:u}=s;if(u)return{error:u};const h=(l=o.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:x}=await this.admin.signOut(h,n);if(x&&!(lv(x)&&(x.status===404||x.status===401||x.status===403)))return{error:x}}return n!=="others"&&(await this._removeSession(),await vi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=xv(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,o;try{const{data:{session:u},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,s={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await Rn(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(ye(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:l,error:o}=await this._useSession(async u=>{var h,x,m,g,p;const{data:w,error:v}=u;if(v)throw v;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(x=n.options)===null||x===void 0?void 0:x.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",A,{headers:this.headers,jwt:(p=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return ha()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:n.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(ye(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,o;const{data:u,error:h}=s;if(h)throw h;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await vv(async o=>(o>0&&await yv(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:cr})),(o,u)=>{const h=200*Math.pow(2,o);return u&&au(u)&&Date.now()+h-l<kn})}catch(l){if(this._debug(s,"error",l),ye(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),ha()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await yi(this.storage,this.storageKey);if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const o=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<eu;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${eu}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),au(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ri;const{data:u,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!u.session)throw new or;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const x={session:u.session,error:null};return this.refreshingDeferred.resolve(x),x}catch(u){if(this._debug(o,"error",u),ye(u)){const h={session:null,error:u};return au(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,s,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async x=>{try{await x.callback(n,s)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let x=0;x<u.length;x+=1)console.error(u[x]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await V0(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await vi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ha()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${kn}ms, refresh threshold is ${fu} ticks`),o<=fu&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof G0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ha()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const o=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await Rn(this.storage,this.storageKey),x=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(x.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:o,error:u}=s;return u?{data:null,error:u}:await Te(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,o;const{data:u,error:h}=s;if(h)return{data:null,error:h};const x=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:g}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:x,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(n.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:u}=s;if(u)return{data:null,error:u};const{data:h,error:x}=await Te(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token});return x?{data:null,error:x}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:x})})}catch(s){if(ye(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:u}=s;return u?{data:null,error:u}:await Te(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ye(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=(n==null?void 0:n.factors)||[],o=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,l;const{data:{session:o},error:u}=n;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=ru(o.access_token);let x=null;h.aal&&(x=h.aal);let m=x;((l=(s=o.user.factors)===null||s===void 0?void 0:s.filter(w=>w.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const p=h.amr||[];return{data:{currentLevel:x,nextLevel:m,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(h=>h.kid===n);if(l||(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+nv>Date.now()))return l;const{data:o,error:u}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!o.keys||o.keys.length===0)throw new Gs("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),l=o.keys.find(h=>h.kid===n),!l)throw new Gs("No matching signing key found in JWKS");return l}async getClaims(n,s={keys:[]}){try{let l=n;if(!l){const{data:A,error:j}=await this.getSession();if(j||!A.session)return{data:null,error:j};l=A.session.access_token}const{header:o,payload:u,signature:h,raw:{header:x,payload:m}}=ru(l);if(Tv(u.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:u,header:o,signature:h},error:null}}const g=Av(o.alg),p=await this.fetchJwk(o.kid,s),w=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,h,mv(`${x}.${m}`)))throw new Gs("Invalid JWT signature");return{data:{claims:u,header:o,signature:h},error:null}}catch(l){if(ye(l))return{data:null,error:l};throw l}}}Ps.nextInstanceID=0;const Yv=Ps;class Qv extends Yv{constructor(n){super(n)}}var Pv=function(i,n,s,l){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function x(p){try{g(l.next(p))}catch(w){h(w)}}function m(p){try{g(l.throw(p))}catch(w){h(w)}}function g(p){p.done?u(p.value):o(p.value).then(x,m)}g((l=l.apply(i,n||[])).next())})};class Xv{constructor(n,s,l){var o,u,h;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const x=Iy(n),m=new URL(x);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:Yy,realtime:Py,auth:Object.assign(Object.assign({},Qy),{storageKey:g}),global:Gy},w=Wy(l??{},p);this.storageKey=(o=w.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=w.global.headers)!==null&&u!==void 0?u:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(v,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=w.auth)!==null&&h!==void 0?h:{},this.headers,w.global.fetch),this.fetch=Zy(s,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new dy(new URL("rest/v1",m).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),w.accessToken||this._listenForAuthEvents()}get functions(){return new Wp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $y(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return Pv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:o,storageKey:u,flowType:h,lock:x,debug:m},g,p){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qv({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:u,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:o,flowType:h,lock:x,debug:m,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Ny(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fv=(i,n,s)=>new Xv(i,n,s),Kv="https://aimpevquppizoqtljypl.supabase.co",Zv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpbXBldnF1cHBpem9xdGxqeXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMjMwMDksImV4cCI6MjA2Mzg5OTAwOX0.0aoSUv50eLElw_ZFaTBYnV4doJ7D_2lMt2q-XCa3sOo",K=Fv(Kv,Zv),Y0=_.forwardRef((i,n)=>{const[s,l]=_.useState(null),[o,u]=_.useState(null),[h,x]=_.useState(!1),m=sa();_.useEffect(()=>{K.auth.getSession().then(({data:{session:R}})=>{l(R),R?g(R.user.id):u(null)});const{data:j}=K.auth.onAuthStateChange((R,T)=>{l(T),T?g(T.user.id):u(null)});return()=>j.subscription.unsubscribe()},[]);const g=async j=>{const{data:R,error:T}=await K.from("users").select("role").eq("id",j).single();T?(console.error("Error fetching user role for NavBar:",T),u(null)):R&&u(R.role)},p=async()=>{const{error:j}=await K.auth.signOut();j?console.error("Error logging out:",j.message):m("/login")},w=()=>{x(!h)};_.useEffect(()=>{const j=R=>{h&&!R.target.closest(".settings-dropdown-container")&&x(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[h]);const v={user:[{to:"/user/dashboard",label:"Dashboard"},{to:"/user/documents",label:"My Documents"},{to:"/user/signature-requests",label:"Signatures"}],admin:[{to:"/admin/dashboard",label:"Admin Dashboard"},{to:"/admin/manage-users",label:"Manage Users"},{to:"/admin/reports",label:"Reports"},{to:"/admin/audit",label:"Audit Logs"},{to:"/admin/anomalies",label:"Reported Anomalies"},{to:"/admin/master-edit",label:"Master Editor"}]};let A=[];return o==="admin"?A=v.admin:o==="user"&&(A=v.user),d.jsxs("nav",{ref:n,className:`bg-[var(--brand-bg-light)] shadow-md py-4 px-10 flex justify-between items-center\r
                 border-b border-[var(--brand-border)] fixed w-full top-0 left-0 z-50 transition-all duration-300`,children:[d.jsx("div",{className:"text-4xl font-extrabold",children:d.jsx(Be,{to:o?`/${o}/dashboard`:"/user/dashboard",className:"text-[var(--color-button-primary)] no-underline drop-shadow-sm",children:"SignSeal"})}),d.jsxs("div",{className:"flex items-center space-x-8",children:[A.map(j=>d.jsx(Be,{to:j.to,className:`text-[var(--brand-text)] no-underline text-lg font-medium transition-colors duration-300\r
                         hover:text-[var(--color-text-accent-light)]`,children:j.label},j.to)),d.jsxs("div",{className:"relative inline-block settings-dropdown-container",children:[d.jsxs("button",{onClick:w,className:`bg-transparent border-none text-[var(--brand-text)] text-lg font-medium cursor-pointer\r
                       flex items-center gap-1 transition-colors duration-300 focus:outline-none\r
                       hover:text-[var(--color-text-accent-light)]`,children:["Settings",d.jsx("span",{className:`text-xs leading-none transform transition-transform duration-300 ${h?"rotate-180":"rotate-0"}`,children:"▼"})]}),h&&d.jsxs("div",{className:`absolute top-full right-0 bg-[var(--brand-card)] shadow-lg rounded-lg\r
                         min-w-[160px] flex flex-col overflow-hidden mt-3 z-50\r
                         border border-[var(--brand-border-light)] animate-fade-in-up origin-top-right`,children:[d.jsx(Be,{to:"/user/profile",className:`py-3 px-5 text-[var(--brand-text)] no-underline text-base font-normal\r
                           transition-all duration-200 hover:bg-[var(--color-button-primary)] hover:text-white`,onClick:()=>x(!1),children:"Profile"}),d.jsx("button",{onClick:p,className:`py-3 px-5 text-[var(--brand-text)] no-underline text-base font-normal\r
                           transition-all duration-200 hover:bg-[var(--color-button-primary)] hover:text-white\r
                           border-none bg-transparent w-full text-left`,children:"Logout"})]})]})]})]})}),Jv=()=>{const[i,n]=_.useState(null),[s,l]=_.useState(!0);return _.useEffect(()=>{K.auth.getSession().then(({data:{session:u}})=>{n(u),l(!1)});const{data:o}=K.auth.onAuthStateChange((u,h)=>{n(h),l(!1)});return()=>{o.subscription.unsubscribe()}},[]),s?null:d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 transition-colors duration-300",style:{backgroundColor:"var(--brand-bg-light)",backgroundImage:"linear-gradient(to bottom right, var(--brand-bg-light), var(--brand-bg-dark))",color:"var(--brand-text)"},children:[d.jsxs("header",{className:"w-full max-w-6xl mx-auto flex justify-between items-center mb-16 px-4 md:px-0 z-10",children:[d.jsx("h1",{className:"text-4xl font-extrabold drop-shadow-lg",style:{color:"var(--color-button-primary)"},children:"SignSeal"}),d.jsx("nav",{className:"space-x-6",children:i?d.jsx(Be,{to:"/user/dashboard",className:"py-2 px-5 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 font-semibold",style:{backgroundColor:"var(--color-button-primary)",color:"white"},onMouseEnter:o=>o.currentTarget.style.backgroundColor="var(--color-button-primary-hover)",onMouseLeave:o=>o.currentTarget.style.backgroundColor="var(--color-button-primary)",children:"Dashboard"}):d.jsxs(d.Fragment,{children:[d.jsx(Be,{to:"/login",className:"transition duration-300 ease-in-out font-medium",style:{color:"var(--brand-text)"},onMouseEnter:o=>o.currentTarget.style.color="var(--color-text-accent-light)",onMouseLeave:o=>o.currentTarget.style.color="var(--brand-text)",children:"Login"}),d.jsx(Be,{to:"/register",className:"py-2 px-5 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 font-semibold",style:{backgroundColor:"var(--color-button-primary)",color:"white"},onMouseEnter:o=>o.currentTarget.style.backgroundColor="var(--color-button-primary-hover)",onMouseLeave:o=>o.currentTarget.style.backgroundColor="var(--color-button-primary)",children:"Register"})]})})]}),d.jsxs("main",{className:"flex-grow flex flex-col justify-center items-center text-center max-w-4xl mx-auto px-4 z-0 relative",children:[d.jsx("div",{className:"absolute -top-16 -left-16 w-64 h-64 rounded-full mix-blend-multiply filter blur-xl animate-blob -z-10",style:{backgroundColor:"var(--color-button-primary)",opacity:.1}}),d.jsx("div",{className:"absolute -bottom-16 -right-16 w-64 h-64 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000 -z-10",style:{backgroundColor:"var(--color-button-primary)",opacity:.1}}),d.jsxs("h2",{className:"text-6xl md:text-7xl font-extrabold leading-tight mb-6 animate-fade-in-up drop-shadow-md",style:{color:"var(--brand-heading)"},children:["Signature Simplified.",d.jsx("br",{})," ",d.jsx("span",{style:{color:"var(--color-button-primary)"},children:"Future Forward."})]}),d.jsx("p",{className:"text-xl md:text-2xl mb-10 leading-relaxed animate-fade-in-up delay-200",style:{color:"var(--brand-text-light)"},children:"Streamline your workflow with secure, legally binding electronic signatures. Fast, intuitive, and designed for the modern era."}),!i&&d.jsx(Be,{to:"/register",className:"inline-block py-3 px-8 rounded-full shadow-xl transition duration-300 ease-in-out transform hover:scale-105 animate-fade-in-up delay-400 font-bold",style:{backgroundColor:"var(--color-button-primary)",color:"white"},onMouseEnter:o=>o.currentTarget.style.backgroundColor="var(--color-button-primary-hover)",onMouseLeave:o=>o.currentTarget.style.backgroundColor="var(--color-button-primary)",children:"Get Started Free"})]}),d.jsxs("section",{className:"mt-20 w-full max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-8 px-4 z-10",children:[d.jsxs("div",{className:"p-8 rounded-xl shadow-2xl flex flex-col items-center text-center border transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--brand-card)",borderColor:"var(--brand-border)"},children:[d.jsx("div",{className:"text-6xl mb-4 transform rotate-3 hover:rotate-0 transition-transform duration-300",style:{color:"var(--color-button-primary)"},children:"✍️"}),d.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--brand-heading)"},children:"Effortless Signing"}),d.jsx("p",{style:{color:"var(--brand-text-light)"},children:"Sign documents from anywhere, on any device. Simple and intuitive process."})]}),d.jsxs("div",{className:"p-8 rounded-xl shadow-2xl flex flex-col items-center text-center border transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--brand-card)",borderColor:"var(--brand-border)"},children:[d.jsx("div",{className:"text-6xl mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300",style:{color:"var(--color-button-primary)"},children:"🔒"}),d.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--brand-heading)"},children:"Robust Security"}),d.jsx("p",{style:{color:"var(--brand-text-light)"},children:"Your data is protected with advanced encryption, audit trails, and compliance."})]}),d.jsxs("div",{className:"p-8 rounded-xl shadow-2xl flex flex-col items-center text-center border transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--brand-card)",borderColor:"var(--brand-border)"},children:[d.jsx("div",{className:"text-6xl mb-4 transform rotate-3 hover:rotate-0 transition-transform duration-300",style:{color:"var(--color-button-primary)"},children:"⚡"}),d.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--brand-heading)"},children:"Blazing Fast"}),d.jsx("p",{style:{color:"var(--brand-text-light)"},children:"Streamline approvals and get documents signed in minutes, not days."})]})]}),d.jsx("section",{className:"mt-12 text-center text-sm z-10",style:{color:"var(--brand-text-light)"},children:d.jsx("p",{children:"Powered by Vite & modern web technologies for a seamless experience."})})]})},jt=({message:i,type:n,onClose:s,duration:l=3e3})=>{const[o,u]=_.useState(!1),[h,x]=_.useState(!1);if(_.useEffect(()=>{if(i){x(!0);const w=setTimeout(()=>{u(!0)},50),v=setTimeout(()=>{u(!1)},l+50);return()=>{clearTimeout(w),clearTimeout(v)}}else u(!1),x(!1)},[i,l]),_.useEffect(()=>{if(!o&&h){const w=setTimeout(()=>{x(!1),s&&s()},300);return()=>clearTimeout(w)}},[o,h,s]),!h)return null;let m="",g="",p="";switch(n){case"success":m="bg-green-100 dark:bg-green-900",g="text-green-800 dark:text-green-200",p="border-green-400 dark:border-green-700";break;case"error":m="bg-red-100 dark:bg-red-900",g="text-red-800 dark:text-red-200",p="border-red-400 dark:border-red-700";break;case"info":default:m="bg-blue-100 dark:bg-blue-900",g="text-blue-800 dark:text-blue-200",p="border-blue-400 dark:border-blue-700";break}return d.jsxs("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg max-w-sm w-full z-50
                  flex items-center justify-between border-l-4 transform transition-all duration-300 ease-in-out
                  ${m} ${g} ${p}
                  ${o?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:[d.jsx("p",{className:"flex-grow text-sm font-medium",children:i}),d.jsx("button",{onClick:()=>u(!1),className:`ml-4 p-1 rounded-full ${g} hover:bg-opacity-75 transition-colors`,"aria-label":"Close notification",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},r0=120,Iv=()=>{const[i,n]=_.useState(""),[s,l]=_.useState(""),[o,u]=_.useState(null),[h,x]=_.useState(!1),[m,g]=_.useState(!1),[p,w]=_.useState(!1),[v,A]=_.useState(0),j=sa(),R=Ma();_.useEffect(()=>{new URLSearchParams(R.search).get("message")==="check_email"&&(u({message:"Registration successful! Please check your email to verify your account.",type:"success"}),j(R.pathname,{replace:!0}))},[R,j]),_.useEffect(()=>{let B;const V=localStorage.getItem("lastResendAttempt");if(V){const X=parseInt(V,10),G=Math.floor((Date.now()-X)/1e3),ae=r0-G;ae>0&&(w(!0),A(ae),B=setInterval(()=>{A(le=>le<=1?(clearInterval(B),w(!1),localStorage.removeItem("lastResendAttempt"),0):le-1)},1e3))}return()=>clearInterval(B)},[]);const T=async B=>{var V;if(B.preventDefault(),u(null),x(!1),g(!1),!i||!s){u({message:"Please enter both email and password.",type:"error"});return}try{const ae=(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"unknown",le=navigator.userAgent||"unknown";let re=!1,ne=null,oe=null;const{data:ge,error:te}=await K.auth.signInWithPassword({email:i,password:s});te?(re=!1,ne=te.message,te.message==="Email not confirmed"?x(!0):u({message:te.message,type:"error"})):ge&&ge.user?(re=!0,oe=ge.user.id):(re=!1,ne="An unexpected response from Supabase Auth.",u({message:ne,type:"error"}));const{data:he,error:ve}=await K.rpc("track_login_attempt",{p_email:i,p_user_id:oe,p_is_success:re,p_ip_address:ae,p_user_agent:le,p_auth_error_message:ne});if(ve){console.error("RPC Error during tracking:",ve),u({message:`An error occurred while tracking login attempt: ${ve.message}`,type:"error"});return}if(he&&he.blocked){g(!0),u(null),re&&await K.auth.signOut();return}if(he&&he.message&&!re){u({message:he.message,type:"error"});return}if(re){const xe=((V=ge.user.user_metadata)==null?void 0:V.role)||"user";u({message:"Login successful!",type:"success"}),setTimeout(xe==="admin"?()=>j("/admin/dashboard"):()=>j("/user/dashboard"),500)}else u({message:"Login failed. Please check your credentials.",type:"error"})}catch(X){console.error("Overall login process error:",X),u({message:"An unexpected error occurred during the login process.",type:"error"})}},U=async()=>{if(p)return;u(null),w(!0),A(r0),localStorage.setItem("lastResendAttempt",Date.now().toString());let B=setInterval(()=>{A(X=>X<=1?(clearInterval(B),w(!1),localStorage.removeItem("lastResendAttempt"),0):X-1)},1e3);const{error:V}=await K.auth.resend({type:"signup",email:i,options:{emailRedirectTo:`${window.location.origin}/SignatureApp/verify-email-success`}});V?u({message:`Failed to resend verification email: ${V.message}`,type:"error"}):(u({message:"Verification email sent! Please check your inbox.",type:"success"}),x(!1))};return d.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center px-4 py-8 bg-gray-50 dark:bg-gray-900",children:[d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-[#1a1a1a] p-8 rounded-lg shadow-xl animate-fade-in-up",children:[d.jsx("div",{className:"text-center mb-8",children:d.jsx(Be,{to:"/",className:"inline-block no-underline",children:d.jsxs("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition duration-200 ease-in-out",children:["Login to ",d.jsx("span",{style:{color:"var(--color-button-primary)"},children:"SignSeal"})]})})}),d.jsx("h2",{className:"text-4xl font-bold text-center mb-8 text-gray-800 dark:text-white sr-only",children:"Login to SignSeal"}),d.jsxs("form",{onSubmit:T,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                            bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                            focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                            transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"you@example.com",value:i,onChange:B=>n(B.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),d.jsx("input",{type:"password",id:"password",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                            bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                            focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                            transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"••••••••",value:s,onChange:B=>l(B.target.value),required:!0,autoComplete:"current-password"})]}),d.jsx("button",{type:"submit",className:`w-full bg-[var(--color-button-primary)] hover:bg-[var(--color-button-primary-hover)]\r
                          text-white font-bold py-3 px-6 rounded-md shadow-lg\r
                          transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2\r
                          focus:ring-[var(--color-button-primary)] focus:ring-offset-2 dark:focus:ring-offset-gray-900`,children:"Login"})]}),d.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-6",children:["Don't have an account?"," ",d.jsx(Be,{to:"/register",className:"text-[var(--color-button-primary)] hover:text-[var(--color-text-accent-light)] font-semibold transition duration-200",children:"Register here"})]})]}),o&&d.jsx(jt,{message:o.message,type:o.type,onClose:()=>u(null)}),h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-[#1a1a1a] p-8 rounded-lg shadow-xl max-w-sm w-full text-center",children:[d.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"Email Verification Needed"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"To ensure the security of your account, please verify your email address. Kindly check your inbox and click the verification link we've sent."}),d.jsx("button",{onClick:U,disabled:p,className:`
                font-bold py-2 px-4 rounded-md shadow-md
                transition duration-200 ease-in-out
                ${p?"bg-gray-400 cursor-not-allowed":"bg-[var(--color-button-primary)] hover:bg-[var(--color-button-primary-hover)] text-white"}
              `,children:p?`Resend in ${v}s`:"Resend Verification Email"}),d.jsx("button",{onClick:()=>x(!1),className:`ml-4 bg-gray-300 hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600\r
                          text-gray-800 dark:text-white font-bold py-2 px-4 rounded-md shadow-md\r
                          transition duration-200 ease-in-out`,children:"Close"})]})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-[#1a1a1a] p-8 rounded-lg shadow-xl max-w-sm w-full text-center",children:[d.jsx("h3",{className:"text-2xl font-bold mb-4 text-red-600 dark:text-red-400",children:"Account Blocked"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Your account has been blocked due to too many failed login attempts or administrator action. Please contact the administrator for assistance."}),d.jsx("button",{onClick:()=>g(!1),className:"bg-[var(--color-button-primary)] hover:bg-[var(--color-button-primary-hover)] text-white font-bold py-2 px-4 rounded-md shadow-md transition duration-200 ease-in-out",children:"Close"})]})})]})},Wv={};var gu=null;function e1(i){try{return crypto.getRandomValues(new Uint8Array(i))}catch{}try{return Wv.randomBytes(i)}catch{}if(!gu)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return gu(i)}function t1(i){gu=i}function Au(i,n){if(i=i||Ru,typeof i!="number")throw Error("Illegal arguments: "+typeof i+", "+typeof n);i<4?i=4:i>31&&(i=31);var s=[];return s.push("$2b$"),i<10&&s.push("0"),s.push(i.toString()),s.push("$"),s.push(Ni(e1(Xs),Xs)),s.join("")}function Q0(i,n,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=void 0),typeof i>"u")i=Ru;else if(typeof i!="number")throw Error("illegal arguments: "+typeof i);function l(o){ra(function(){try{o(null,Au(i))}catch(u){o(u)}})}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);l(s)}else return new Promise(function(o,u){l(function(h,x){if(h){u(h);return}o(x)})})}function P0(i,n){if(typeof n>"u"&&(n=Ru),typeof n=="number"&&(n=Au(n)),typeof i!="string"||typeof n!="string")throw Error("Illegal arguments: "+typeof i+", "+typeof n);return xu(i,n)}function X0(i,n,s,l){function o(u){typeof i=="string"&&typeof n=="number"?Q0(n,function(h,x){xu(i,x,u,l)}):typeof i=="string"&&typeof n=="string"?xu(i,n,u,l):ra(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof n)))}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);o(s)}else return new Promise(function(u,h){o(function(x,m){if(x){h(x);return}u(m)})})}function F0(i,n){for(var s=i.length^n.length,l=0;l<i.length;++l)s|=i.charCodeAt(l)^n.charCodeAt(l);return s===0}function a1(i,n){if(typeof i!="string"||typeof n!="string")throw Error("Illegal arguments: "+typeof i+", "+typeof n);return n.length!==60?!1:F0(P0(i,n.substring(0,n.length-31)),n)}function r1(i,n,s,l){function o(u){if(typeof i!="string"||typeof n!="string"){ra(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof n)));return}if(n.length!==60){ra(u.bind(this,null,!1));return}X0(i,n.substring(0,29),function(h,x){h?u(h):u(null,F0(x,n))},l)}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);o(s)}else return new Promise(function(u,h){o(function(x,m){if(x){h(x);return}u(m)})})}function n1(i){if(typeof i!="string")throw Error("Illegal arguments: "+typeof i);return parseInt(i.split("$")[2],10)}function s1(i){if(typeof i!="string")throw Error("Illegal arguments: "+typeof i);if(i.length!==60)throw Error("Illegal hash length: "+i.length+" != 60");return i.substring(0,29)}function l1(i){if(typeof i!="string")throw Error("Illegal arguments: "+typeof i);return K0(i)>72}var ra=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function K0(i){for(var n=0,s=0,l=0;l<i.length;++l)s=i.charCodeAt(l),s<128?n+=1:s<2048?n+=2:(s&64512)===55296&&(i.charCodeAt(l+1)&64512)===56320?(++l,n+=4):n+=3;return n}function i1(i){for(var n=0,s,l,o=new Array(K0(i)),u=0,h=i.length;u<h;++u)s=i.charCodeAt(u),s<128?o[n++]=s:s<2048?(o[n++]=s>>6|192,o[n++]=s&63|128):(s&64512)===55296&&((l=i.charCodeAt(u+1))&64512)===56320?(s=65536+((s&1023)<<10)+(l&1023),++u,o[n++]=s>>18|240,o[n++]=s>>12&63|128,o[n++]=s>>6&63|128,o[n++]=s&63|128):(o[n++]=s>>12|224,o[n++]=s>>6&63|128,o[n++]=s&63|128);return o}var Dn="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ir=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Ni(i,n){var s=0,l=[],o,u;if(n<=0||n>i.length)throw Error("Illegal len: "+n);for(;s<n;){if(o=i[s++]&255,l.push(Dn[o>>2&63]),o=(o&3)<<4,s>=n){l.push(Dn[o&63]);break}if(u=i[s++]&255,o|=u>>4&15,l.push(Dn[o&63]),o=(u&15)<<2,s>=n){l.push(Dn[o&63]);break}u=i[s++]&255,o|=u>>6&3,l.push(Dn[o&63]),l.push(Dn[u&63])}return l.join("")}function Z0(i,n){var s=0,l=i.length,o=0,u=[],h,x,m,g,p,w;if(n<=0)throw Error("Illegal len: "+n);for(;s<l-1&&o<n&&(w=i.charCodeAt(s++),h=w<ir.length?ir[w]:-1,w=i.charCodeAt(s++),x=w<ir.length?ir[w]:-1,!(h==-1||x==-1||(p=h<<2>>>0,p|=(x&48)>>4,u.push(String.fromCharCode(p)),++o>=n||s>=l)||(w=i.charCodeAt(s++),m=w<ir.length?ir[w]:-1,m==-1)||(p=(x&15)<<4>>>0,p|=(m&60)>>2,u.push(String.fromCharCode(p)),++o>=n||s>=l)));)w=i.charCodeAt(s++),g=w<ir.length?ir[w]:-1,p=(m&3)<<6>>>0,p|=g,u.push(String.fromCharCode(p)),++o;var v=[];for(s=0;s<o;s++)v.push(u[s].charCodeAt(0));return v}var Xs=16,Ru=10,o1=16,c1=100,n0=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],J0=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Fs(i,n,s,l){var o,u=i[n],h=i[n+1];return u^=s[0],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[1],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[2],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[3],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[4],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[5],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[6],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[7],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[8],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[9],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[10],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[11],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[12],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[13],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[14],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^s[15],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^s[16],i[n]=h^s[o1+1],i[n+1]=u,i}function On(i,n){for(var s=0,l=0;s<4;++s)l=l<<8|i[n]&255,n=(n+1)%i.length;return{key:l,offp:n}}function l0(i,n,s){for(var l=0,o=[0,0],u=n.length,h=s.length,x,m=0;m<u;m++)x=On(i,l),l=x.offp,n[m]=n[m]^x.key;for(m=0;m<u;m+=2)o=Fs(o,0,n,s),n[m]=o[0],n[m+1]=o[1];for(m=0;m<h;m+=2)o=Fs(o,0,n,s),s[m]=o[0],s[m+1]=o[1]}function u1(i,n,s,l){for(var o=0,u=[0,0],h=s.length,x=l.length,m,g=0;g<h;g++)m=On(n,o),o=m.offp,s[g]=s[g]^m.key;for(o=0,g=0;g<h;g+=2)m=On(i,o),o=m.offp,u[0]^=m.key,m=On(i,o),o=m.offp,u[1]^=m.key,u=Fs(u,0,s,l),s[g]=u[0],s[g+1]=u[1];for(g=0;g<x;g+=2)m=On(i,o),o=m.offp,u[0]^=m.key,m=On(i,o),o=m.offp,u[1]^=m.key,u=Fs(u,0,s,l),l[g]=u[0],l[g+1]=u[1]}function i0(i,n,s,l,o){var u=J0.slice(),h=u.length,x;if(s<4||s>31)if(x=Error("Illegal number of rounds (4-31): "+s),l){ra(l.bind(this,x));return}else throw x;if(n.length!==Xs)if(x=Error("Illegal salt length: "+n.length+" != "+Xs),l){ra(l.bind(this,x));return}else throw x;s=1<<s>>>0;var m,g,p=0,w;typeof Int32Array=="function"?(m=new Int32Array(n0),g=new Int32Array(s0)):(m=n0.slice(),g=s0.slice()),u1(n,i,m,g);function v(){if(o&&o(p/s),p<s)for(var j=Date.now();p<s&&(p=p+1,l0(i,m,g),l0(n,m,g),!(Date.now()-j>c1)););else{for(p=0;p<64;p++)for(w=0;w<h>>1;w++)Fs(u,w<<1,m,g);var R=[];for(p=0;p<h;p++)R.push((u[p]>>24&255)>>>0),R.push((u[p]>>16&255)>>>0),R.push((u[p]>>8&255)>>>0),R.push((u[p]&255)>>>0);if(l){l(null,R);return}else return R}l&&ra(v)}if(typeof l<"u")v();else for(var A;;)if(typeof(A=v())<"u")return A||[]}function xu(i,n,s,l){var o;if(typeof i!="string"||typeof n!="string")if(o=Error("Invalid string / salt: Not a string"),s){ra(s.bind(this,o));return}else throw o;var u,h;if(n.charAt(0)!=="$"||n.charAt(1)!=="2")if(o=Error("Invalid salt version: "+n.substring(0,2)),s){ra(s.bind(this,o));return}else throw o;if(n.charAt(2)==="$")u="\0",h=3;else{if(u=n.charAt(2),u!=="a"&&u!=="b"&&u!=="y"||n.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+n.substring(2,4)),s){ra(s.bind(this,o));return}else throw o;h=4}if(n.charAt(h+2)>"$")if(o=Error("Missing salt rounds"),s){ra(s.bind(this,o));return}else throw o;var x=parseInt(n.substring(h,h+1),10)*10,m=parseInt(n.substring(h+1,h+2),10),g=x+m,p=n.substring(h+3,h+25);i+=u>="a"?"\0":"";var w=i1(i),v=Z0(p,Xs);function A(j){var R=[];return R.push("$2"),u>="a"&&R.push(u),R.push("$"),g<10&&R.push("0"),R.push(g.toString()),R.push("$"),R.push(Ni(v,v.length)),R.push(Ni(j,J0.length*4-1)),R.join("")}if(typeof s>"u")return A(i0(w,v,g));i0(w,v,g,function(j,R){j?s(j,null):s(null,A(R))},l)}function d1(i,n){return Ni(i,n)}function f1(i,n){return Z0(i,n)}const o0={setRandomFallback:t1,genSaltSync:Au,genSalt:Q0,hashSync:P0,hash:X0,compareSync:a1,compare:r1,getRounds:n1,getSalt:s1,truncates:l1,encodeBase64:d1,decodeBase64:f1},h1=()=>{const[i,n]=_.useState(""),[s,l]=_.useState(""),[o,u]=_.useState(""),[h,x]=_.useState(""),[m,g]=_.useState(""),[p,w]=_.useState(""),[v,A]=_.useState(null),j=sa(),R=async T=>{var U,B,V;if(T.preventDefault(),A(null),!i||!s||!o||!h||!m||!p){A({message:"Please fill in all fields.",type:"error"});return}if(s!==o){A({message:"Passwords do not match.",type:"error"});return}if(s.length<6){A({message:"Password must be at least 6 characters.",type:"error"});return}try{const{data:X,error:G}=await K.auth.signUp({email:i,password:s,options:{emailRedirectTo:`${window.location.origin}/verify-email-success`}});if(G){A({message:G.message,type:"error"});return}const ae=((U=X.user)==null?void 0:U.id)||((V=(B=X.session)==null?void 0:B.user)==null?void 0:V.id);if(!ae){A({message:"An unexpected error occurred: User ID not found after signup.",type:"error"}),console.error("Auth data:",X);return}let le=null;try{const oe=await o0.genSalt(10);le=await o0.hash(s,oe)}catch(ne){console.error("Error hashing password with bcryptjs:",ne),A({message:"Failed to process password securely. Please try again.",type:"error"});return}const{error:re}=await K.from("users").update({password_hash:le,full_name:h,title:m,department:p,is_verified:!1}).eq("id",ae);if(re){console.error("Error updating public.users table:",re.message),A({message:"Registration failed: Could not save profile data. Please try again.",type:"error"});return}A({message:"Registration successful! Please check your email to verify your account.",type:"success"}),n(""),l(""),u(""),x(""),g(""),w(""),setTimeout(()=>{j("/login?message=check_email")},3e3)}catch(X){console.error("An unexpected error occurred:",X),A({message:"An unexpected error occurred during registration. Please try again.",type:"error"})}};return d.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center px-4 py-8",children:[d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-[#1a1a1a] p-8 rounded-lg shadow-xl animate-fade-in-up",children:[d.jsx("div",{className:"text-center mb-8",children:d.jsx(Be,{to:"/",className:"inline-block no-underline",children:d.jsxs("h1",{className:`text-4xl font-extrabold text-gray-800 dark:text-white\r
                           hover:text-gray-600 dark:hover:text-gray-300 transition duration-200 ease-in-out`,children:["Register to ",d.jsx("span",{className:"text-[var(--color-button-primary)]",children:"SignSeal"})]})})}),d.jsx("h2",{className:"text-4xl font-bold text-center mb-8 text-gray-800 dark:text-white sr-only",children:"Register for SignSeal"}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                         bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                         focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                         transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"you@example.com",value:i,onChange:T=>n(T.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),d.jsx("input",{type:"password",id:"password",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                         bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                         focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                         transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"••••••••",value:s,onChange:T=>l(T.target.value),required:!0,autoComplete:"new-password"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),d.jsx("input",{type:"password",id:"confirm-password",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                         bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                         focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                         transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"••••••••",value:o,onChange:T=>u(T.target.value),required:!0,autoComplete:"new-password"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"full-name",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),d.jsx("input",{type:"text",id:"full-name",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                         bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                         focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                         transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"John Doe",value:h,onChange:T=>x(T.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title (e.g., Registrar, IT Head)"}),d.jsx("input",{type:"text",id:"title",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                         bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                         focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                         transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"Registrar",value:m,onChange:T=>g(T.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"department",className:"block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department (e.g., IT, HR, Finance)"}),d.jsx("input",{type:"text",id:"department",className:`w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700\r
                         bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white\r
                         focus:ring-2 focus:ring-[var(--color-button-primary)] focus:border-transparent\r
                         transition duration-200 ease-in-out placeholder-gray-400`,placeholder:"IT",value:p,onChange:T=>w(T.target.value),required:!0})]}),d.jsx("button",{type:"submit",className:`w-full bg-[var(--color-button-primary)] hover:bg-[var(--color-button-primary-hover)]\r
                       text-white font-bold py-3 px-6 rounded-md shadow-lg\r
                       transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2\r
                       focus:ring-[var(--color-button-primary)] focus:ring-offset-2 dark:focus:ring-offset-gray-900`,children:"Register"})]}),d.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-6",children:["Already have an account?"," ",d.jsx(Be,{to:"/login",className:"text-[var(--color-button-primary)] hover:text-[var(--color-text-accent-light)] font-semibold transition duration-200",children:"Login here"})]})]}),v&&d.jsx(jt,{message:v.message,type:v.type,onClose:()=>A(null)}),d.jsx("style",{children:`
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.6s ease-out forwards;
        }
      `})]})},m1=()=>{var U;const i=sa(),[n,s]=_.useState(!0),[l,o]=_.useState(null),[u,h]=_.useState(null),[x,m]=_.useState(null),[g,p]=_.useState({length:0}),[w,v]=_.useState({length:0}),[A,j]=_.useState({length:0}),[R,T]=_.useState({message:"",type:""});return _.useEffect(()=>{(async()=>{s(!0),T({message:"Loading your dashboard...",type:"info"});const{data:{user:V},error:X}=await K.auth.getUser();if(X||!V){T({message:"You need to be logged in to view the dashboard.",type:"error"}),i("/login");return}o(V),h(V.email);const{data:G,error:ae}=await K.from("users").select("full_name, role").eq("id",V.id).single();if(ae)console.error("Error fetching user profile:",ae),T({message:"Error loading your profile data.",type:"error"});else if(G&&(m(G.role),G.role==="admin")){T({message:"Redirecting to Admin Dashboard...",type:"info"}),i("/admin/dashboard");return}const{count:le,error:re}=await K.from("documents").select("id",{count:"exact",head:!0}).eq("owner_id",V.id);re&&(console.error("Error fetching owned documents count:",re),T({message:"Error loading your documents count.",type:"error"})),p({length:le||0});const{count:ne,error:oe}=await K.from("signature_requests").select("id",{count:"exact",head:!0}).eq("signer_email",V.email).eq("status","pending");oe&&(console.error("Error fetching pending signatures count:",oe),T({message:"Error loading pending signatures count.",type:"error"})),v({length:ne||0});const{count:ge,error:te}=await K.from("signature_requests").select("id",{count:"exact",head:!0}).eq("signer_email",V.email).eq("status","signed");te&&(console.error("Error fetching completed signatures count:",te),T({message:"Error loading completed signatures count.",type:"error"})),j({length:ge||0}),s(!1),!X&&!ae&&!re&&!oe&&!te&&(T({message:"Dashboard loaded!",type:"success"}),setTimeout(()=>T({message:"",type:""}),3e3))})()},[i,u]),d.jsxs("div",{className:"min-h-screen flex flex-col items-center p-4 transition-colors duration-300 font-inter",style:{backgroundColor:"var(--brand-bg-light)",backgroundImage:"linear-gradient(135deg, var(--brand-bg-light), var(--brand-bg-dark))",color:"var(--brand-text)"},children:[R.message&&d.jsx(jt,{message:R.message,type:R.type}),d.jsxs("div",{className:"w-full bg-gradient-to-br from-[var(--color-primary-dark)] to-[var(--color-secondary)] text-[var(--color-text-white)] py-24 md:py-32 text-center mb-16 shadow-xl rounded-b-3xl flex flex-col items-center justify-center relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-16 -left-16 w-64 h-64 rounded-full mix-blend-multiply filter blur-xl animate-blob -z-10",style:{backgroundColor:"var(--color-button-primary)",opacity:.1}}),d.jsx("div",{className:"absolute -bottom-16 -right-16 w-64 h-64 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000 -z-10",style:{backgroundColor:"var(--color-button-primary)",opacity:.1}}),d.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extrabold mb-5 leading-tight drop-shadow-lg animate-fade-in-up",style:{color:"var(--color-text-white)"},children:["Welcome, ",((U=l==null?void 0:l.user_metadata)==null?void 0:U.full_name)||(l==null?void 0:l.email)||"User","!"]}),d.jsx("p",{className:"text-lg md:text-xl lg:text-2xl mb-0 max-w-3xl leading-relaxed animate-fade-in-up delay-200",style:{color:"var(--color-text-white-subtle)"},children:"Your central hub for document management and signatures."})]}),n?d.jsx("div",{className:"text-center p-24 text-2xl text-[var(--brand-text-light)]",children:"Loading dashboard data..."}):d.jsx("div",{className:"w-full max-w-7xl px-4 pb-16 box-border",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:`bg-[var(--brand-card)] rounded-2xl shadow-md p-8 border border-[var(--brand-border-light)]\r
                         flex flex-col items-center text-center relative overflow-hidden\r
                         transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-lg group`,children:[d.jsx("h2",{className:"text-3xl font-extrabold text-[var(--brand-heading)] mb-6 pb-4 border-b-2 border-[var(--brand-border)] w-full",children:"My Documents"}),d.jsxs("div",{className:"my-8 flex flex-col items-center flex-grow",children:[d.jsx("span",{className:"text-7xl font-extrabold block mb-4 bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent drop-shadow-md",children:g.length}),d.jsx("p",{className:"text-xl text-[var(--brand-text-light)] leading-relaxed",children:"documents uploaded"})]}),d.jsx(Be,{to:"/user/documents",className:`inline-flex justify-center items-center w-auto\r
                           bg-gradient-to-br from-[var(--color-primary-light)] to-[var(--color-primary)]\r
                           text-[var(--color-text-white)] border-none py-4 px-8 rounded-full font-bold text-lg\r
                           transition-all duration-300 ease-out shadow-md\r
                           hover:from-[var(--color-primary)] hover:to-[var(--color-primary-dark)] hover:translate-y-[-4px] hover:shadow-lg`,children:"View All My Documents"})]}),d.jsxs("div",{className:`bg-[var(--brand-card)] rounded-2xl shadow-md p-8 border border-[var(--brand-border-light)]\r
                         flex flex-col items-center text-center relative overflow-hidden\r
                         transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-lg group`,children:[d.jsx("h2",{className:"text-3xl font-extrabold text-[var(--brand-heading)] mb-6 pb-4 border-b-2 border-[var(--brand-border)] w-full",children:"Pending My Signature"}),d.jsxs("div",{className:"my-8 flex flex-col items-center flex-grow",children:[d.jsx("span",{className:"text-7xl font-extrabold block mb-4 bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent drop-shadow-md",children:w.length}),d.jsx("p",{className:"text-xl text-[var(--brand-text-light)] leading-relaxed",children:"documents awaiting your signature"})]}),d.jsx(Be,{to:"/user/signature-requests?tab=received",className:`inline-flex justify-center items-center w-auto\r
                           bg-gradient-to-br from-[var(--color-primary-light)] to-[var(--color-primary)]\r
                           text-[var(--color-text-white)] border-none py-4 px-8 rounded-full font-bold text-lg\r
                           transition-all duration-300 ease-out shadow-md\r
                           hover:from-[var(--color-primary)] hover:to-[var(--color-primary-dark)] hover:translate-y-[-4px] hover:shadow-lg`,children:"View All Pending"})]}),d.jsxs("div",{className:`bg-[var(--brand-card)] rounded-2xl shadow-md p-8 border border-[var(--brand-border-light)]\r
                         flex flex-col items-center text-center relative overflow-hidden\r
                         transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-lg group`,children:[d.jsx("h2",{className:"text-3xl font-extrabold text-[var(--brand-heading)] mb-6 pb-4 border-b-2 border-[var(--brand-border)] w-full",children:"Recently Signed"}),d.jsxs("div",{className:"my-8 flex flex-col items-center flex-grow",children:[d.jsx("span",{className:"text-7xl font-extrabold block mb-4 bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent drop-shadow-md",children:A.length}),d.jsx("p",{className:"text-xl text-[var(--brand-text-light)] leading-relaxed",children:"documents you've signed"})]}),d.jsx(Be,{to:"/user/signature-requests?tab=received",className:`inline-flex justify-center items-center w-auto\r
                           bg-gradient-to-br from-[var(--color-primary-light)] to-[var(--color-primary)]\r
                           text-[var(--color-text-white)] border-none py-4 px-8 rounded-full font-bold text-lg\r
                           transition-all duration-300 ease-out shadow-md\r
                           hover:from-[var(--color-primary)] hover:to-[var(--color-primary-dark)] hover:translate-y-[-4px] hover:shadow-lg`,children:"View All Signed"})]}),d.jsxs("div",{className:`bg-gradient-to-br from-[var(--color-bg-dark-start)] to-[var(--color-bg-dark-end)]\r
                         text-[var(--color-text-white)] rounded-2xl shadow-xl p-16\r
                         flex flex-col items-center text-center col-span-1 md:col-span-2 lg:col-span-3\r
                         transition-all duration-300 ease-out hover:scale-[1.01] hover:shadow-2xl`,children:[d.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold mb-6 drop-shadow-lg",children:"Ready to Sign?"}),d.jsx("p",{className:"text-lg md:text-xl mb-10 max-w-2xl leading-relaxed text-[var(--color-text-white-subtle)]",children:"Start a new signing process or upload a document to send for signatures."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[d.jsx(Be,{to:"/user/documents/upload",className:`inline-block py-4 px-10 rounded-full shadow-md font-bold text-xl\r
                             bg-[var(--brand-card)] text-[var(--color-button-primary)]\r
                             transition-all duration-300 ease-out hover:bg-gray-100 hover:translate-y-[-4px] hover:shadow-lg`,children:"Upload New Document"}),d.jsx(Be,{to:"/user/signature-requests",className:`inline-block py-4 px-10 rounded-full shadow-md font-bold text-xl\r
                             bg-transparent text-[var(--color-text-white)] border-2 border-[var(--color-text-white-subtle)]\r
                             transition-all duration-300 ease-out hover:bg-[rgba(255,255,255,0.1)] hover:translate-y-[-4px] hover:border-white`,children:"Request Signature"})]})]})]})})]})},g1=()=>{const[i,n]=_.useState(!0),[s,l]=_.useState([]),[o,u]=_.useState({message:"",type:""}),h=sa(),[x,m]=_.useState(null);_.useEffect(()=>{(async()=>{n(!0),u({message:"Fetching your documents...",type:"info"});const{data:{user:v},error:A}=await K.auth.getUser();if(A||!v){u({message:"Please log in to view your documents.",type:"error"}),h("/login");return}const{data:j,error:R}=await K.from("documents").select(`
        id,
        title,
        status,
        created_at,
        updated_at,
        document_versions:fk_document_versions_document_id (
          id,
          version_number,
          file_path,
          created_at
        )
      `).eq("owner_id",v.id).order("updated_at",{ascending:!1});R?(console.error("Error fetching documents:",R),u({message:"Error loading your documents.",type:"error"})):(l(j),u({message:"Documents loaded successfully!",type:"success"}),setTimeout(()=>u({message:"",type:""}),3e3)),n(!1)})()},[h]);const g=w=>!w.document_versions||w.document_versions.length===0?null:w.document_versions.reduce((v,A)=>new Date(A.created_at)>new Date(v.created_at)?A:v),p=w=>{const v=g(w),A=`doc-${w.id}`;return d.jsx("li",{style:xt.documentItem,children:d.jsxs(Be,{to:`/user/documents/${w.id}`,style:{...xt.documentLink,...x===A&&xt.documentLinkHover},onMouseEnter:()=>m(A),onMouseLeave:()=>m(null),children:[d.jsxs("div",{style:xt.documentTitleContainer,children:[d.jsx("span",{style:xt.documentTitle,children:w.title||"Untitled Document"}),d.jsxs("span",{style:xt.documentStatus,children:["(",w.status,")"]})]}),d.jsxs("div",{style:xt.documentMeta,children:[d.jsxs("span",{children:["Created: ",new Date(w.created_at).toLocaleDateString()]}),d.jsxs("span",{children:["Last Updated: ",new Date(w.updated_at).toLocaleDateString()]}),v&&d.jsxs("span",{children:["Version: ",v.version_number]})]})]})},w.id)};return d.jsxs("div",{style:xt.pageContainer,children:[o.message&&d.jsx(jt,{message:o.message,type:o.type}),d.jsx("h1",{style:xt.heading,children:"My Documents"}),d.jsx("p",{style:xt.subheading,children:"Manage all the documents you've uploaded."}),i?d.jsx("div",{style:xt.loadingContainer,children:"Loading your documents..."}):d.jsxs("div",{style:xt.contentArea,children:[d.jsx("div",{style:xt.topActions,children:d.jsx(Be,{to:"/user/documents/upload",style:xt.uploadButton,children:"Upload New Document"})}),s.length===0?d.jsxs("p",{style:xt.noDocuments,children:["You haven't uploaded any documents yet.",d.jsxs(Be,{to:"/user/documents/upload",style:xt.actionLink,children:[" ","Click here to upload your first document!"]})]}):d.jsx("ul",{style:xt.documentList,children:s.map(p)})]})]})},xt={pageContainer:{backgroundColor:"var(--brand-bg-light)",minHeight:"calc(100vh - var(--navbar-height, 0px))",padding:"40px",fontFamily:"'Inter', sans-serif",color:"var(--brand-text)"},heading:{fontSize:"3.2em",fontWeight:"800",color:"var(--brand-heading)",marginBottom:"10px",textShadow:"0 2px 4px rgba(0,0,0,0.05)"},subheading:{fontSize:"1.3em",color:"var(--brand-text-light)",marginBottom:"40px"},loadingContainer:{textAlign:"center",padding:"60px",fontSize:"1.2em",color:"var(--brand-text-light)"},contentArea:{backgroundColor:"var(--brand-card)",borderRadius:"12px",boxShadow:"0 6px 20px rgba(0, 0, 0, 0.08)",padding:"30px",border:"1px solid var(--brand-border)"},topActions:{marginBottom:"30px",textAlign:"right"},uploadButton:{backgroundColor:"var(--color-button-primary)",color:"white",border:"none",padding:"12px 28px",borderRadius:"9999px",fontWeight:"600",textDecoration:"none",boxShadow:"0 4px 10px rgba(0,0,0,0.15)",cursor:"pointer",transition:"background-color 0.3s ease, transform 0.2s ease",fontSize:"1em",display:"inline-block","&:hover":{backgroundColor:"var(--color-button-primary-hover)",transform:"translateY(-2px)"}},noDocuments:{color:"var(--brand-text-light)",fontStyle:"italic",textAlign:"center",padding:"30px 0",fontSize:"1.1em"},actionLink:{color:"var(--color-button-primary)",textDecoration:"none",fontWeight:"600",transition:"text-decoration 0.2s ease-in-out","&:hover":{textDecoration:"underline"}},documentList:{listStyleType:"none",padding:0,margin:0},documentItem:{marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid var(--brand-border-light)","&:last-child":{borderBottom:"none"}},documentLink:{textDecoration:"none",display:"block",color:"var(--brand-text)",transition:"color 0.2s ease-in-out"},documentLinkHover:{color:"var(--color-button-primary)"},documentTitleContainer:{display:"flex",alignItems:"center",marginBottom:"5px"},documentTitle:{fontSize:"1.3em",fontWeight:"600",marginRight:"10px"},documentStatus:{fontSize:"0.9em",backgroundColor:"var(--brand-bg-light)",color:"var(--brand-text-light)",padding:"4px 10px",borderRadius:"20px",fontWeight:"500"},documentMeta:{fontSize:"0.9em",color:"var(--brand-text-light)",display:"flex",gap:"20px",flexWrap:"wrap"}},x1=()=>{const[i,n]=_.useState(null),[s,l]=_.useState(""),[o,u]=_.useState(""),[h,x]=_.useState(!1),[m,g]=_.useState({message:"",type:""}),[p,w]=_.useState(null),v=sa(),A=_.useRef(null);_.useEffect(()=>{(async()=>{const{data:{user:U},error:B}=await K.auth.getUser();B||!U?(g({message:"You need to be logged in to upload documents.",type:"error"}),v("/login")):w(U)})()},[v]);const j=T=>{n(T.target.files[0])},R=async T=>{if(T.preventDefault(),!p){g({message:"No user logged in.",type:"error"});return}if(!i){g({message:"Please select a file first.",type:"error"});return}if(!s.trim()){g({message:"Please enter a document title.",type:"error"});return}x(!0),g({message:"Uploading document...",type:"info"});try{const{data:U,error:B}=await K.from("documents").insert([{owner_id:p.id,title:s.trim(),description:o.trim()||null,status:"draft",latest_version_number:0,current_document_version_id:null}]).select().single();if(B)throw B;const V=`${p.id}/${U.id}/version_1_${i.name}`,{data:X,error:G}=await K.storage.from("documents").upload(V,i,{cacheControl:"3600",upsert:!1});if(G)throw await K.from("documents").delete().eq("id",U.id),G;const{data:ae,error:le}=await K.from("document_versions").insert([{document_id:U.id,version_number:1,file_path:X.path,file_name:i.name,file_type:i.type||"application/octet-stream",file_size:i.size,created_by_user_id:p.id,description_of_changes:"Initial upload of document.",is_signed_version:!1}]).select().single();if(le)throw await K.storage.from("documents").remove([X.path]),await K.from("documents").delete().eq("id",U.id),le;const{error:re}=await K.from("documents").update({latest_version_number:1,current_document_version_id:ae.id,updated_at:new Date().toISOString()}).eq("id",U.id);re?(console.error("Critical error: Failed to link document to its first version.",re),g({message:"Document uploaded, but failed to link to its version. Please contact support.",type:"error"})):(g({message:"Document uploaded successfully!",type:"success"}),n(null),l(""),u(""),A.current&&(A.current.value="")),v(`/user/documents/${U.id}`)}catch(U){console.error("Upload failed:",U),g({message:`Upload failed: ${U.message}`,type:"error"})}finally{x(!1)}};return d.jsxs("div",{style:St.pageContainer,children:[m.message&&d.jsx(jt,{message:m.message,type:m.type}),d.jsx("h1",{style:St.heading,children:"Upload New Document"}),d.jsx("p",{style:St.subheading,children:"Start by uploading your first document to the system."}),d.jsxs("form",{onSubmit:R,style:St.uploadForm,children:[d.jsxs("div",{style:St.formGroup,children:[d.jsx("label",{htmlFor:"documentTitle",style:St.label,children:"Document Title:"}),d.jsx("input",{type:"text",id:"documentTitle",value:s,onChange:T=>l(T.target.value),placeholder:"e.g., Q2 Financial Report",required:!0,style:St.input})]}),d.jsxs("div",{style:St.formGroup,children:[d.jsx("label",{htmlFor:"documentDescription",style:St.label,children:"Description (Optional):"}),d.jsx("textarea",{id:"documentDescription",value:o,onChange:T=>u(T.target.value),rows:"4",placeholder:"A brief description of the document's content.",style:St.textarea})]}),d.jsxs("div",{style:St.formGroup,children:[d.jsx("label",{htmlFor:"fileUpload",style:St.label,children:"Select File:"}),d.jsx("input",{type:"file",id:"fileUpload",ref:A,onChange:j,required:!0,style:St.fileInput}),i&&d.jsxs("p",{style:St.fileName,children:["Selected: ",i.name," (",(i.size/1024/1024).toFixed(2)," MB)"]})]}),d.jsx("button",{type:"submit",disabled:h||!p,style:St.uploadButton,children:h?"Uploading...":"Upload Document"})]})]})},St={pageContainer:{backgroundColor:"var(--brand-bg-light)",minHeight:"calc(100vh - var(--navbar-height, 0px))",padding:"40px",fontFamily:"'Inter', sans-serif",color:"var(--brand-text)",display:"flex",flexDirection:"column",alignItems:"center"},heading:{fontSize:"3.2em",fontWeight:"800",color:"var(--brand-heading)",marginBottom:"10px",textShadow:"0 2px 4px rgba(0,0,0,0.05)",textAlign:"center"},subheading:{fontSize:"1.3em",color:"var(--brand-text-light)",marginBottom:"40px",textAlign:"center",maxWidth:"800px"},uploadForm:{backgroundColor:"var(--brand-card)",borderRadius:"12px",boxShadow:"0 6px 20px rgba(0, 0, 0, 0.08)",padding:"40px",border:"1px solid var(--brand-border)",width:"100%",maxWidth:"600px",display:"flex",flexDirection:"column",gap:"25px"},formGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"1.1em",fontWeight:"600",color:"var(--brand-text)"},input:{padding:"12px 15px",border:"1px solid var(--brand-border-light)",borderRadius:"8px",fontSize:"1em",color:"var(--brand-text)",backgroundColor:"var(--brand-bg-dark-accent)",transition:"border-color 0.2s ease, box-shadow 0.2s ease","&:focus":{borderColor:"var(--color-primary)",boxShadow:"0 0 0 3px rgba(var(--color-primary-rgb), 0.2)",outline:"none"}},textarea:{padding:"12px 15px",border:"1px solid var(--brand-border-light)",borderRadius:"8px",fontSize:"1em",color:"var(--brand-text)",backgroundColor:"var(--brand-bg-dark-accent)",minHeight:"100px",resize:"vertical",transition:"border-color 0.2s ease, box-shadow 0.2s ease","&:focus":{borderColor:"var(--color-primary)",boxShadow:"0 0 0 3px rgba(var(--color-primary-rgb), 0.2)",outline:"none"}},fileInput:{padding:"10px",border:"1px solid var(--brand-border-light)",borderRadius:"8px",backgroundColor:"var(--brand-bg-dark-accent)",color:"var(--brand-text)",cursor:"pointer"},fileName:{fontSize:"0.9em",color:"var(--brand-text-light)",marginTop:"5px"},uploadButton:{backgroundColor:"var(--color-button-primary)",color:"white",border:"none",padding:"15px 30px",borderRadius:"9999px",fontWeight:"700",fontSize:"1.1em",cursor:"pointer",transition:"background-color 0.3s ease, transform 0.2s ease",boxShadow:"0 5px 15px rgba(0,0,0,0.15)",marginTop:"20px",alignSelf:"center",width:"fit-content","&:hover":{backgroundColor:"var(--color-button-primary-hover)",transform:"translateY(-2px)"},"&:disabled":{backgroundColor:"var(--color-grey)",cursor:"not-allowed",transform:"none",boxShadow:"none"}}},b1=({filePath:i,fileType:n})=>{const[s,l]=_.useState(null),[o,u]=_.useState(!0),[h,x]=_.useState(null);if(_.useEffect(()=>{(async()=>{if(!i){x("No file path provided for viewer."),u(!1);return}u(!0),x(null);try{const{data:w,error:v}=await K.storage.from("documents").createSignedUrl(i,60);if(v)throw v;l(w.signedUrl)}catch(w){console.error("Error fetching signed URL:",w),x(`Failed to load document preview: ${w.message}`)}finally{u(!1)}})()},[i]),o)return d.jsx("div",{style:Or.container,children:"Loading preview..."});if(h)return d.jsx("div",{style:Or.error,children:h});if(!s)return d.jsx("div",{style:Or.container,children:"No preview available."});const m=n==="application/pdf",g=n.startsWith("image/");return m?d.jsx("div",{style:Or.container,children:s?d.jsx("embed",{src:s+"#toolbar=1&navpanes=0&scrollbar=1",type:"application/pdf",width:"100%",height:"100%"}):d.jsx("p",{children:"No preview available"})}):g?d.jsx("div",{style:Or.container,children:d.jsx("img",{src:s,alt:"Document Preview",style:Or.image,loading:"lazy"})}):d.jsxs("div",{style:Or.container,children:[d.jsxs("p",{children:["No preview available for this file type (",n,")."]}),d.jsx("p",{children:"Please download the file to view its content."})]})},Or={container:{width:"100%",height:"600px",backgroundColor:"var(--brand-bg-dark)",borderRadius:"8px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"var(--brand-text-light)",fontSize:"1.1em",border:"1px solid var(--brand-border)"},image:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},error:{color:"var(--color-error-text)",backgroundColor:"var(--color-error-bg)",padding:"15px",borderRadius:"8px",textAlign:"center"}},na=({show:i,onClose:n,children:s})=>i?d.jsx("div",{style:nu.overlay,onClick:n,children:d.jsxs("div",{style:nu.modalContent,onClick:l=>l.stopPropagation(),children:[d.jsx("button",{style:nu.closeButton,onClick:n,children:"×"}),s]})}):null,nu={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modalContent:{backgroundColor:"var(--brand-card)",padding:"30px",borderRadius:"12px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.25)",position:"relative",minWidth:"350px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},closeButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.8em",color:"var(--brand-text-light)",cursor:"pointer",transition:"color 0.2s ease","&:hover":{color:"var(--brand-heading)"}}},p1=i=>{const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,s=i.split(/[,;\n]/).map(h=>h.trim()).filter(h=>h.length>0),l=[],o=[],u=new Set;return s.forEach(h=>{n.test(h)?u.has(h)||(l.push(h),u.add(h)):o.push(h)}),{validEmails:l,invalidEmails:o}},y1=()=>{var pt;const{id:i}=Jb(),n=sa(),[s,l]=_.useState(null),[o,u]=_.useState([]),[h,x]=_.useState([]),[m,g]=_.useState(!0),[p,w]=_.useState({message:"",type:""}),[v,A]=_.useState(null),[j,R]=_.useState(!1),[T,U]=_.useState(""),[B,V]=_.useState(""),[X,G]=_.useState(!1),[ae,le]=_.useState(null),[re,ne]=_.useState(""),oe=_.useRef(null),[ge,te]=_.useState(!1),[he,ve]=_.useState(null),[xe,H]=_.useState([]),[W,E]=_.useState(!1),[Z,S]=_.useState(!1),[z,O]=_.useState(""),[Y,D]=_.useState("requests"),[ee,J]=_.useState(""),[be,se]=_.useState(!1),[me,je]=_.useState(""),[Ae,Et]=_.useState(""),la=async I=>{const{data:_e,error:ke}=await K.from("audit_logs").select(`
        *,
        signature_request:signature_request_id (
          signer_email,
          signer:signer_id (
            full_name,
            title,
            department
          )
        )
      `).eq("signature_request_id",I).order("timestamp",{ascending:!0});if(ke)throw ke;return _e||[]},Jt=async()=>{g(!0);const{data:{user:I},error:_e}=await K.auth.getUser();if(_e||!I){w({message:"You need to be logged in to view document details.",type:"error"}),n("/login"),g(!1);return}A(I),Et(I.email||"");const{data:ke,error:Ce}=await K.from("documents").select(`
          *,
          current_document_version:current_document_version_id (
            id, file_path, file_name, file_type, file_size, version_number
          )
        `).eq("id",i).eq("owner_id",I.id).single();if(Ce){console.error("Error fetching document:",Ce),w({message:`Error loading document: ${Ce.message}`,type:"error"}),g(!1),(Ce.code==="PGRST116"||Ce.message.includes("Row not found"))&&(w({message:"Document not found or you don't have access.",type:"error"}),n("/user/documents"));return}l(ke),U(ke.title),V(ke.description||"");const{data:Ye,error:Qe}=await K.from("document_versions").select(`
          id, version_number, file_path, file_name, file_type, file_size,
          created_at, created_by_user_id, description_of_changes, is_signed_version
        `).eq("document_id",i).order("version_number",{ascending:!1});Qe?(console.error("Error fetching document versions:",Qe),w({message:`Error loading document versions: ${Qe.message}`,type:"error"})):(u(Ye),ke.current_document_version_id?J(ke.current_document_version_id):Ye.length>0&&J(Ye[0].id));const{data:ft,error:st}=await K.from("signature_requests").select(`
        id, document_version_id, signer_email, status, requested_at, signed_at,
        declined_at, cancelled_at, signing_url,
        signer:signer_id (full_name, title, department)
        `).eq("document_id",i).order("requested_at",{ascending:!0});st?(console.error("Error fetching signature requests:",st),w({message:`Error loading signature requests: ${st.message}`,type:"error"})):x(ft),g(!1)};_.useEffect(()=>{Jt()},[i,n]);const Ws=async(I,_e)=>{if(typeof window>"u"||typeof window.document>"u"){console.error("Download attempted outside the browser environment.");return}if(!I||!_e){w({message:"File path or name is missing.",type:"error"});return}try{const{data:ke,error:Ce}=await K.storage.from("documents").download(I);if(Ce)throw Ce;const Ye=URL.createObjectURL(ke),Qe=window.document.createElement("a");Qe.href=Ye,Qe.download=_e,window.document.body.appendChild(Qe),Qe.click(),window.document.body.removeChild(Qe),URL.revokeObjectURL(Ye),w({message:`Downloading ${_e}...`,type:"info"})}catch(ke){console.error("Error downloading file:",ke),w({message:`Failed to download file: ${ke.message}`,type:"error"})}},Ci=async()=>{g(!0);const{error:I}=await K.from("documents").update({title:T,description:B}).eq("id",s.id).eq("owner_id",v.id);I?(w({message:`Failed to update document details: ${I.message}`,type:"error"}),console.error("Error updating document:",I)):(l(_e=>({..._e,title:T,description:B})),w({message:"Document details updated successfully!",type:"success"}),R(!1)),g(!1)},Ht=async I=>{if(I.preventDefault(),!ae){w({message:"Please select a file to upload.",type:"error"});return}if(!s){w({message:"Document not loaded.",type:"error"});return}g(!0),G(!1);const _e=(s.latest_version_number||0)+1,ke=ae.name.replace(/[^a-zA-Z0-9.\-_]/g,"_"),Ce=`${v.id}/${s.id}/version_${_e}_${ke}`;try{console.log("--- Starting New Version Upload ---"),console.log("Document ID:",s.id),console.log("Current Document Version ID (before new upload):",s.current_document_version_id),console.log("New Version Number:",_e),console.log("File Name:",ae.name);const{data:Ye,error:Qe}=await K.storage.from("documents").upload(Ce,ae,{cacheControl:"3600",upsert:!1});if(Qe)throw console.error("Supabase Storage Upload Error:",Qe),Qe;if(console.log("File uploaded to storage successfully:",Ye.path),s.current_document_version_id){console.log("Attempting to void previous signature requests...");const tt=new Date().toISOString(),{data:Nt,error:La}=await K.from("signature_requests").update({status:"void",voided_at:tt},{returning:"representation"}).eq("document_id",s.id).eq("document_version_id",s.current_document_version_id);La?(console.error("Error voiding previous signature requests:",La),w({message:"New version uploaded, but failed to void some old signature requests.",type:"warning"})):(console.log("Previous signature requests update result:",Nt==null?void 0:Nt.length,"requests updated to 'void'."),w({message:"Previous signature requests voided.",type:"info"}))}else console.log("No previous document_version_id found. Skipping voiding of old requests.");const{data:ft,error:st}=await K.from("document_versions").insert([{document_id:s.id,version_number:_e,file_path:Ye.path,file_name:ae.name,file_type:ae.type||"application/octet-stream",file_size:ae.size,created_by_user_id:v.id,description_of_changes:re,is_signed_version:!1}]).select().single();if(st)throw console.error("Document Version Insert Error:",st),await K.storage.from("documents").remove([Ye.path]),st;console.log("New document version inserted:",ft);const{error:Ze}=await K.from("documents").update({latest_version_number:_e,current_document_version_id:ft.id}).eq("id",s.id);Ze?(console.error("Critical error: Failed to update document's current version:",Ze),w({message:"Document updated, but link to new version failed. Please contact support.",type:"error"})):(w({message:`Document updated to Version ${_e}!`,type:"success"}),console.log("Document successfully updated to new current version.")),le(null),ne(""),oe.current&&(oe.current.value=""),await Jt()}catch(Ye){console.error("Overall New Version Upload Process Failed:",Ye),w({message:`Upload failed: ${Ye.message}`,type:"error"})}finally{g(!1),console.log("--- New Version Upload Process Finished ---")}},Di=async I=>{I.preventDefault();const{validEmails:_e,invalidEmails:ke}=p1(z);if(_e.length===0){w({message:"Please enter at least one valid email address to send the request.",type:"error"});return}if(!s||!s.current_document_version){w({message:"No current document version to send for signature.",type:"error"});return}g(!0),S(!1);const Ce=[],Ye=[],Qe=_e.map(async Ze=>{try{const tt=crypto.randomUUID(),Nt=`${window.location.origin}/user/sign/${tt}`,{data:La,error:za}=await K.from("signature_requests").select("id").eq("document_id",s.id).eq("document_version_id",s.current_document_version_id).eq("signer_email",Ze).maybeSingle();if(za)throw za;if(La){Ce.push({email:Ze,status:"already_sent"});return}const{data:nl,error:$n}=await K.from("signature_requests").insert([{id:tt,document_id:s.id,document_version_id:s.current_document_version_id,signer_email:Ze,status:"pending",requested_at:new Date().toISOString(),signing_url:Nt}]).select().single();if($n)throw $n;await K.from("audit_logs").insert({user_id:v.id,user_email:v.email,event_type:"SIGNATURE_REQUEST_SENT",document_id:s.id,document_version_id:s.current_document_version_id,signature_request_id:nl.id,details:{signer_email:Ze,signing_url:Nt}}),Ce.push({email:Ze,id:nl.id,signing_url:Nt})}catch(tt){console.error(`Error sending signature request to ${Ze}:`,tt),Ye.push({email:Ze,error:tt.message})}});if(await Promise.allSettled(Qe),Ce.length>0&&s.status!=="pending_signature"&&s.status!=="signed"){const{error:Ze}=await K.from("documents").update({status:"pending_signature"}).eq("id",s.id);Ze?(console.error("Failed to update document status after signature request:",Ze),w({message:"Some signature requests sent, but document status update failed. Please check document status manually.",type:"warning"})):l(tt=>({...tt,status:"pending_signature"}))}let ft="",st="success";if(Ce.length>0){const Ze=Ce.filter(Nt=>Nt.status!=="already_sent").length,tt=Ce.filter(Nt=>Nt.status==="already_sent").length;ft+=`${Ze} signature request(s) sent successfully.`,tt>0&&(ft+=` (${tt} request(s) were already pending for the current version.)`)}if(Ye.length>0){st=Ce.length>0?"warning":"error";const Ze=Ye.map(tt=>tt.email).join(", ");ft+=` Failed to send to: ${Ze}.`,ft+=` Details: ${Ye.map(tt=>tt.error).join("; ")}`}if(ke.length>0){st=st==="success"?"warning":"error";const Ze=ke.join(", ");ft+=` Invalid emails ignored: ${Ze}.`}w(ft?{message:ft,type:st}:{message:"No valid emails provided.",type:"error"}),O(""),await Jt(),g(!1)},el=async()=>{if(!(!s||!v)&&window.confirm("Are you sure you want to cancel this document and all pending signature requests? This action cannot be undone.")){g(!0);try{const{error:I}=await K.from("documents").update({status:"cancelled"}).eq("id",s.id).eq("owner_id",v.id);if(I)throw I;const{error:_e}=await K.from("signature_requests").update({status:"cancelled",cancelled_at:new Date().toISOString(),cancelled_by_user_id:v.id}).eq("document_id",s.id).in("status",["pending","declined","expired"]);_e&&console.warn("Could not update all related signature requests to cancelled:",_e),await K.from("audit_logs").insert({user_id:v.id,user_email:v.email,event_type:"DOCUMENT_CANCELLED",document_id:s.id,details:{cancellation_reason:"Cancelled by sender",old_status:s.status}}),w({message:"Document and all pending signature requests have been cancelled.",type:"success"}),await Jt()}catch(I){console.error("Error cancelling document:",I),w({message:`Failed to cancel document: ${I.message}`,type:"error"})}finally{g(!1)}}},tl=async I=>{if(I.preventDefault(),!me.trim()){w({message:"Please provide a description for the issue.",type:"error"});return}g(!0),se(!1);try{const{error:_e}=await K.from("incident_reports").insert([{document_id:s.id,reported_by_user_id:v.id,reported_by_email:Ae,reason:"User Reported Issue",details:me,status:"pending"}]);if(_e)throw _e;w({message:"Your issue has been reported successfully. We will look into it shortly.",type:"success"}),je("")}catch(_e){console.error("Error reporting issue:",_e),w({message:`Failed to report issue: ${_e.message}`,type:"error"})}finally{g(!1)}},hr=ee?h.filter(I=>I.document_version_id===ee):h;if(m)return d.jsxs("div",{className:"bg-brand-bg-light min-h-[calc(100vh-var(--navbar-height,0px))] p-10 font-inter text-brand-text flex flex-col items-center justify-center",children:[d.jsx("h1",{className:"text-5xl font-extrabold text-brand-heading mb-2 drop-shadow-sm text-center break-words",children:"Document Details"}),d.jsx("p",{className:"text-xl text-brand-text-light text-center",children:"Loading document details..."})]});if(!s)return d.jsxs("div",{className:"bg-brand-bg-light min-h-[calc(100vh-var(--navbar-height,0px))] p-10 font-inter text-brand-text flex flex-col items-center justify-center",children:[d.jsx("h1",{className:"text-5xl font-extrabold text-brand-heading mb-2 drop-shadow-sm text-center break-words",children:"Document Not Found"}),d.jsx("p",{className:"text-xl text-brand-text-light text-center mb-10",children:"The document you are looking for does not exist or you do not have permission to view it."}),d.jsx(Be,{to:"/user/documents",className:"bg-gray-500 text-white px-6 py-3 rounded-full font-semibold text-lg cursor-pointer transition duration-300 ease-in-out hover:bg-gray-600 hover:translate-y-[-2px]",children:"Back to My Documents"})]});const al=v&&s.owner_id===v.id,rl=al&&s.status!=="signed"&&s.status!=="cancelled",ki=al&&s.status==="pending_signature",It=s.current_document_version,mr=["application/pdf","image/jpeg","image/png","image/gif"],bt=I=>{switch(I){case"draft":return"bg-color-info-bg text-color-info-text";case"pending_signature":return"bg-color-warning-bg text-color-warning-text";case"signed":return"bg-color-success-bg text-color-success-text";case"cancelled":return"bg-color-error-bg text-color-error-text";case"approved":return"bg-color-success-bg text-color-success-text";case"rejected":return"bg-color-error-bg text-color-error-text";case"void":return"bg-gray-400 text-gray-900";default:return"bg-gray-200 text-gray-800"}},ia=I=>{if(I===0)return"0 Bytes";const _e=1024,ke=["Bytes","KB","MB","GB","TB"],Ce=Math.floor(Math.log(I)/Math.log(_e));return parseFloat((I/Math.pow(_e,Ce)).toFixed(2))+" "+ke[Ce]};return d.jsxs("div",{className:"bg-brand-bg-light min-h-[calc(100vh-var(--navbar-height,0px))] p-4 md:p-8 font-inter text-brand-text flex flex-col items-center antialiased",children:[p.message&&d.jsx(jt,{message:p.message,type:p.type}),d.jsxs("div",{className:"w-full max-w-7xl mb-8 px-4 md:px-0",children:[" ",d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-brand-heading drop-shadow-sm break-words tracking-tight flex-1",children:s.title}),d.jsx("span",{className:`px-4 py-1 rounded-full text-base font-semibold whitespace-nowrap mt-2 md:mt-0 ${bt(s.status)}`,children:s.status.replace(/_/g," ")})]}),d.jsx("p",{className:"text-base md:text-lg text-brand-text-light mb-6 leading-relaxed",children:"Comprehensive details and management for your document."}),s.status==="cancelled"&&d.jsxs("div",{className:"bg-color-error-bg text-color-error-text border-2 border-color-error-border rounded-xl p-4 text-center text-lg font-semibold flex items-center justify-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:"⚠️"}),d.jsxs("p",{children:["This document has been ",d.jsx("strong",{children:"cancelled"})," by the sender and is no longer valid for signing."]})]})]}),d.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 lg:grid-cols-12 gap-8",children:[d.jsxs("div",{className:"lg:col-span-7 flex flex-col gap-8 min-w-0",children:[" ",d.jsxs("div",{className:"bg-brand-card rounded-xl shadow-lg p-6 md:p-8 border border-brand-border",children:[" ",d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-heading mb-4 pb-2 border-b border-brand-border-light",children:"Document Preview"}),It&&mr.includes(It.file_type)?d.jsxs("div",{className:"rounded-lg overflow-hidden border border-brand-border-light bg-brand-bg-dark-accent h-[500px] lg:h-[600px] flex items-center justify-center",children:[" ",d.jsx(b1,{filePath:It.file_path,fileType:It.file_type})]}):It?d.jsxs("p",{className:"italic text-brand-text-light text-center p-5 border border-dashed border-brand-border-light rounded-lg h-[500px] lg:h-[600px] flex items-center justify-center",children:["No preview available for this file type (",It.file_type,"). Please download to view."]}):d.jsx("p",{className:"italic text-brand-text-light text-center p-5 border border-dashed border-brand-border-light rounded-lg h-[500px] lg:h-[600px] flex items-center justify-center",children:"No current version to preview. Please upload a version."})]}),d.jsxs("div",{className:"bg-brand-card rounded-xl shadow-lg p-6 md:p-8 border border-brand-border",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-heading mb-4 pb-2 border-b border-brand-border-light",children:"Document Summary"}),d.jsxs("div",{className:"text-base md:text-lg mb-2 text-brand-text",children:[d.jsx("strong",{children:"Title:"})," ",j?d.jsx("input",{type:"text",value:T,onChange:I=>U(I.target.value),className:"p-2 border border-brand-border rounded-md text-base text-brand-text bg-brand-bg-dark-accent w-full focus:ring-2 focus:ring-color-button-primary focus:border-transparent transition-all duration-200"}):d.jsx("span",{children:s.title})]}),d.jsxs("div",{className:"text-base md:text-lg mb-2 text-brand-text",children:[d.jsx("strong",{children:"Created:"})," ",new Date(s.created_at).toLocaleDateString()]}),d.jsxs("div",{className:"text-base md:text-lg mb-2 text-brand-text",children:[d.jsx("strong",{children:"Last Updated:"})," ",new Date(s.updated_at).toLocaleDateString()]}),d.jsxs("div",{className:"text-base md:text-lg mb-2 text-brand-text",children:[d.jsx("strong",{children:"Latest Version:"})," ",s.latest_version_number]}),d.jsxs("div",{className:"text-base md:text-lg text-brand-text",children:[d.jsx("strong",{children:"Description:"})," ",j?d.jsx("textarea",{value:B,onChange:I=>V(I.target.value),className:"p-2 border border-brand-border rounded-md text-base text-brand-text bg-brand-bg-dark-accent w-full h-20 resize-y focus:ring-2 focus:ring-color-button-primary focus:border-transparent transition-all duration-200",rows:"3"}):d.jsx("span",{children:s.description||"No description provided."})]})]})]}),d.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-8 w-full",children:[" ",d.jsxs("div",{className:"bg-brand-card rounded-xl shadow-lg p-6 md:p-8 border border-brand-border",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-heading mb-4 pb-2 border-b border-brand-border-light",children:"Actions"}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[rl?d.jsxs(d.Fragment,{children:[j?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Ci,className:"bg-color-success text-white px-5 py-2 rounded-full font-semibold text-base cursor-pointer transition duration-300 ease-in-out hover:bg-color-success-hover hover:-translate-y-1 shadow-md",children:"Save"}),d.jsx("button",{onClick:()=>R(!1),className:"bg-gray-500 text-white px-5 py-2 rounded-full font-semibold text-base cursor-pointer transition duration-300 ease-in-out hover:bg-gray-600 hover:-translate-y-1 shadow-md",children:"Cancel"})]}):d.jsx("button",{onClick:()=>R(!0),className:"bg-color-info text-white px-5 py-2 rounded-full font-semibold text-base cursor-pointer transition duration-300 ease-in-out hover:bg-color-info-hover hover:-translate-y-1 shadow-md",children:"Edit Details"}),d.jsx("button",{onClick:()=>G(!0),className:"bg-color-secondary text-white px-5 py-2 rounded-full font-semibold text-base cursor-pointer transition duration-300 ease-in-out hover:bg-color-secondary-hover hover:-translate-y-1 shadow-md",children:"Upload New Version"}),d.jsx("button",{onClick:()=>S(!0),className:"bg-color-secondary text-white px-5 py-2 rounded-full font-semibold text-base cursor-pointer transition duration-300 ease-in-out hover:bg-color-secondary-hover hover:-translate-y-1 shadow-md",children:"Send for Signature"})]}):d.jsxs("p",{className:"text-brand-text-light italic p-3 bg-brand-bg-dark-accent rounded-md border border-brand-border text-center w-full",children:["Document status (",s.status.replace(/_/g," "),") prevents further modifications."]}),ki&&d.jsx("button",{onClick:el,className:"bg-color-error text-white px-5 py-2 rounded-full font-semibold text-base cursor-pointer transition duration-300 ease-in-out hover:bg-color-error-hover hover:-translate-y-1 shadow-md",children:"Cancel Document"}),It&&d.jsx("button",{onClick:()=>Ws(It.file_path,It.file_name),className:"bg-color-button-primary text-white px-5 py-2 rounded-full font-bold text-base cursor-pointer transition duration-300 ease-in-out shadow-md hover:bg-color-button-primary-hover hover:-translate-y-1",children:"Download Current Version"})]})]}),d.jsxs("div",{className:"bg-brand-card rounded-xl shadow-lg p-0 border border-brand-border flex-1 flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"flex border-b border-brand-border-light",children:[d.jsx("button",{className:`flex-1 px-4 py-3 text-base font-semibold rounded-t-lg ${Y==="requests"?"border-b-2 border-color-button-primary text-color-button-primary bg-brand-bg-light":"text-brand-text-light hover:text-brand-heading"} transition-colors duration-200`,onClick:()=>D("requests"),children:"Signature Requests"}),d.jsx("button",{className:`flex-1 px-4 py-3 text-base font-semibold rounded-t-lg ${Y==="versions"?"border-b-2 border-color-button-primary text-color-button-primary bg-brand-bg-light":"text-brand-text-light hover:text-brand-heading"} transition-colors duration-200`,onClick:()=>D("versions"),children:"Document Versions"})]}),d.jsxs("div",{className:"p-6 md:p-8 flex-1 flex flex-col",children:[Y==="requests"&&d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"version-select",className:"block text-brand-text mb-2 text-base font-medium",children:"Select Document Version:"}),d.jsxs("select",{id:"version-select",value:ee,onChange:I=>J(I.target.value),className:"w-full p-2 border border-brand-border rounded-md bg-brand-bg-dark-accent text-brand-text focus:ring-2 focus:ring-color-button-primary focus:border-transparent transition-all duration-200",children:[d.jsx("option",{value:"",children:"All Versions"}),o.map(I=>d.jsxs("option",{value:I.id,children:["Version ",I.version_number," (",new Date(I.created_at).toLocaleDateString(),")"]},I.id))]})]}),hr.length===0?d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("p",{className:"italic text-brand-text-light text-center p-5 border border-dashed border-brand-border-light rounded-lg",children:"No signature requests found for the selected version."})}):d.jsx("div",{className:"overflow-y-auto max-h-[340px] pr-1",children:d.jsx("ul",{className:"list-none p-0 m-0 space-y-3",children:hr.map(I=>{var _e,ke;return d.jsxs("li",{className:"bg-brand-bg-dark-accent rounded-lg p-4 border border-brand-border transition-all duration-200 hover:shadow-md",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2 text-brand-heading",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("strong",{className:"text-base",children:"Signer:"}),d.jsx("span",{className:"text-base",children:((_e=I.signer)==null?void 0:_e.full_name)||I.signer_email}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${bt(I.status)}`,children:I.status.replace(/_/g," ")})]}),d.jsxs("span",{className:"text-brand-text-light text-xs",children:["Requested: ",new Date(I.requested_at).toLocaleDateString()]})]}),d.jsx("div",{className:"text-xs text-brand-text-light mb-1",children:I.signer?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Full Name:"})," ",I.signer.full_name||"N/A"]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Title:"})," ",I.signer.title||"N/A"]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Department:"})," ",I.signer.department||"N/A"]})]}):d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:"Email:"})," ",I.signer_email]})}),d.jsxs("div",{className:"text-xs text-brand-text-light mb-1",children:["Version: ",d.jsx("span",{className:"font-semibold",children:((ke=o.find(Ce=>Ce.id===I.document_version_id))==null?void 0:ke.version_number)||"N/A"})]}),I.status==="signed"&&I.signed_at&&d.jsxs("div",{className:"text-xs text-brand-text-light mb-1",children:["Signed: ",new Date(I.signed_at).toLocaleDateString()]}),I.status==="declined"&&I.declined_at&&d.jsxs("div",{className:"text-xs text-brand-text-light mb-1",children:["Declined: ",new Date(I.declined_at).toLocaleDateString()]}),I.status==="cancelled"&&I.cancelled_at&&d.jsxs("div",{className:"text-xs text-brand-text-light mb-1",children:["Cancelled: ",new Date(I.cancelled_at).toLocaleDateString()]}),d.jsx("button",{onClick:async()=>{ve(I),te(!0),E(!0);try{const Ce=await la(I.id);H(Ce)}catch(Ce){console.error("Error fetching audit logs:",Ce.message),w({message:`Failed to fetch audit logs: ${Ce.message}`,type:"error"}),H([])}E(!1)},className:"mt-2 bg-color-info text-white px-4 py-2 rounded-full text-xs font-semibold hover:bg-color-info-hover transition duration-300 ease-in-out shadow-sm",children:"See Audit"})]},I.id)})})})]}),Y==="versions"&&d.jsx("div",{className:"flex-1 flex flex-col",children:o.length===0?d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("p",{className:"italic text-brand-text-light text-center p-5 border border-dashed border-brand-border-light rounded-lg",children:"No previous versions of this document exist."})}):d.jsx("div",{className:"overflow-y-auto max-h-[340px] pr-1",children:d.jsx("ul",{className:"list-none p-0 m-0 space-y-3",children:o.map(I=>d.jsxs("li",{className:"bg-brand-bg-dark-accent rounded-lg p-4 border border-brand-border transition-all duration-200 hover:shadow-md",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2 text-brand-heading",children:[d.jsxs("strong",{className:"text-base",children:["Version ",I.version_number]}),d.jsxs("span",{className:"text-brand-text-light text-xs",children:["Uploaded: ",new Date(I.created_at).toLocaleDateString()]})]}),d.jsxs("p",{className:"text-sm text-brand-text mb-1",children:["File: ",I.file_name," (",ia(I.file_size),")"]}),d.jsxs("p",{className:"text-xs text-brand-text-light mb-2",children:["Changes: ",I.description_of_changes||"No description provided."]}),I.is_signed_version&&d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-color-success-bg text-color-success-text mr-2",children:"SIGNED VERSION"}),d.jsx("button",{onClick:()=>Ws(I.file_path,I.file_name),className:"mt-2 bg-color-button-secondary text-white px-4 py-2 rounded-full text-xs font-semibold hover:bg-color-button-secondary-hover transition duration-300 ease-in-out shadow-sm",children:"Download Version"})]},I.id))})})})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("button",{onClick:()=>se(!0),className:"bg-gray-700 text-white px-6 py-3 rounded-full font-semibold text-base cursor-pointer transition duration-300 ease-in-out hover:bg-gray-800 hover:-translate-y-1 shadow-md",children:"Report an Issue"})})]})]}),d.jsx(na,{show:X,onClose:()=>G(!1),title:"Upload New Document Version",children:d.jsxs("form",{onSubmit:Ht,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"newVersionFile",className:"block text-brand-text text-base font-medium mb-2",children:"Select File:"}),d.jsx("input",{type:"file",id:"newVersionFile",ref:oe,onChange:I=>le(I.target.files[0]),className:"w-full p-2 border border-brand-border rounded-md bg-brand-bg-dark-accent text-brand-text file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-color-button-secondary file:text-white hover:file:bg-color-button-secondary-hover",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"newVersionDescription",className:"block text-brand-text text-base font-medium mb-2",children:"Description of Changes (Optional):"}),d.jsx("textarea",{id:"newVersionDescription",value:re,onChange:I=>ne(I.target.value),rows:"3",className:"w-full p-3 border border-brand-border rounded-md bg-brand-bg-dark-accent text-brand-text focus:ring-2 focus:ring-color-button-primary focus:border-transparent transition-all duration-200",placeholder:"e.g., Fixed typos, Added new clause, Minor revisions"})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>G(!1),className:"px-6 py-2 rounded-full border border-gray-300 text-brand-text font-semibold hover:bg-gray-100 transition duration-300 ease-in-out",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-color-button-primary text-white px-6 py-2 rounded-full font-semibold hover:bg-color-button-primary-hover transition duration-300 ease-in-out",children:"Upload Version"})]})]})}),d.jsx(na,{show:Z,onClose:()=>S(!1),title:"Send Document for Signature",children:d.jsxs("form",{onSubmit:Di,className:"space-y-4",children:[d.jsxs("p",{className:"text-brand-text-light mb-4",children:["Enter one or more signer email addresses, separated by commas, semicolons, or new lines. A signature request will be sent for the current version of the document (Version"," ",((pt=s==null?void 0:s.current_document_version)==null?void 0:pt.version_number)||"N/A",")."]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"signerEmails",className:"block text-brand-text text-base font-medium mb-2",children:"Signer Email(s):"}),d.jsx("textarea",{id:"signerEmails",value:z,onChange:I=>O(I.target.value),rows:"5",className:"w-full p-3 border border-brand-border rounded-md bg-brand-bg-dark-accent text-brand-text focus:ring-2 focus:ring-color-button-primary focus:border-transparent transition-all duration-200",placeholder:"signer1@example.com, signer2@example.com",required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-6 py-2 rounded-full border border-gray-300 text-brand-text font-semibold hover:bg-gray-100 transition duration-300 ease-in-out",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-color-button-primary text-white px-6 py-2 rounded-full font-semibold hover:bg-color-button-primary-hover transition duration-300 ease-in-out",children:"Send Request(s)"})]})]})}),d.jsx(na,{show:be,onClose:()=>se(!1),title:"Report an Issue",children:d.jsxs("form",{onSubmit:tl,className:"space-y-4",children:[d.jsx("p",{className:"text-brand-text-light mb-4",children:"Please describe the issue you are experiencing with this document or the platform. Provide as much detail as possible."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"issueDescription",className:"block text-brand-text text-base font-medium mb-2",children:"Issue Description:"}),d.jsx("textarea",{id:"issueDescription",value:me,onChange:I=>je(I.target.value),rows:"6",className:"w-full p-3 border border-brand-border rounded-md bg-brand-bg-dark-accent text-brand-text focus:ring-2 focus:ring-color-button-primary focus:border-transparent transition-all duration-200",placeholder:"e.g., Document is not rendering correctly, Signature request failed for a signer, Typo in document details",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"issueContactEmail",className:"block text-brand-text text-base font-medium mb-2",children:"Your Email (for follow-up):"}),d.jsx("input",{type:"email",id:"issueContactEmail",value:Ae,onChange:I=>Et(I.target.value),className:"w-full p-3 border border-brand-border rounded-md bg-brand-bg-dark-accent text-brand-text focus:ring-2 focus:ring-color-button-primary focus:border-transparent transition-all duration-200",placeholder:"your.email@example.com",required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>se(!1),className:"px-6 py-2 rounded-full border border-gray-300 text-brand-text font-semibold hover:bg-gray-100 transition duration-300 ease-in-out",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-color-error text-white px-6 py-2 rounded-full font-semibold hover:bg-color-error-hover transition duration-300 ease-in-out",children:"Submit Report"})]})]})}),d.jsx(na,{show:ge,onClose:()=>te(!1),title:"Signature Audit Trail",children:W?d.jsx("div",{className:"text-center py-8 text-brand-text-light",children:"Loading audit logs..."}):d.jsx("div",{children:xe.length===0?d.jsx("div",{className:"text-center py-8 text-brand-text-light",children:"No audit logs found for this signature request."}):d.jsx("ul",{className:"divide-y divide-brand-border",children:xe.map(I=>d.jsxs("li",{className:"py-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-semibold text-brand-heading",children:I.event_type.replace(/_/g," ")}),d.jsx("span",{className:"text-xs text-brand-text-light",children:new Date(I.timestamp).toLocaleString()})]}),d.jsxs("div",{className:"text-xs text-brand-text-light mt-1",children:[I.details&&typeof I.details=="object"?Object.entries(I.details).map(([_e,ke])=>d.jsxs("div",{children:[d.jsxs("span",{className:"font-semibold capitalize",children:[_e.replace(/_/g," "),":"]})," ",d.jsx("span",{children:_e==="signing_location"&&typeof ke=="object"&&ke!==null?`Latitude: ${ke.latitude}, Longitude: ${ke.longitude}`:String(ke)})]},_e)):String(I.details)," "]})]},I.id))})})})]})},v1=({show:i,onClose:n,onVerified:s,requiredFactors:l=["totp"]})=>{const[o,u]=_.useState(!1),[h,x]=_.useState(""),[m,g]=_.useState(""),[p,w]=_.useState(""),[v,A]=_.useState(null);_.useEffect(()=>{if(!i){u(!1),x(""),g(""),w(""),A(null);return}(async()=>{var U;u(!0),x("");try{const{data:B,error:V}=await K.auth.mfa.listFactors();if(V)throw V;const X=(U=B.totp)==null?void 0:U.find(G=>G.status==="verified");l.includes("totp")&&X?(g("totp"),A(X.id)):(x("No verified MFA factor found for challenge. Please enable 2FA on your profile."),g(null))}catch(B){console.error("Error listing MFA factors:",B),x("Failed to determine 2FA method. Please try again."),g(null)}finally{u(!1)}})()},[i,l]);const j=async()=>{if(x(""),!p||p.length!==6){x("Please enter a valid 6-digit TOTP code.");return}if(!v){x("No active TOTP factor found for verification.");return}u(!0);try{const{data:T,error:U}=await K.auth.mfa.challengeAndVerify({factorId:v,code:p});U?(console.error("TOTP verification failed:",U),x(U.message||"Invalid TOTP code. Please try again.")):T?(s(T.session),n()):x("Unknown error during verification.")}catch(T){console.error("Unexpected error during TOTP verification:",T),x("An unexpected error occurred during verification.")}finally{u(!1)}},R=()=>{x(""),w(""),n()};return d.jsxs(na,{show:i,onClose:R,children:[d.jsx("h3",{className:"text-2xl font-semibold text-brand-heading mb-4 text-center",children:"Action Requires Verification"}),o&&d.jsx("p",{className:"text-center text-brand-text-light",children:"Loading verification methods..."}),h&&d.jsx("p",{className:"text-color-error-text bg-color-error-bg p-3 rounded-md text-sm mb-4",children:h}),!o&&m==="totp"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-brand-text text-center",children:"Please enter the 6-digit code from your authenticator app."}),d.jsx("input",{type:"text",value:p,onChange:T=>w(T.target.value.trim()),placeholder:"Authenticator code",maxLength:6,className:"w-full p-3 rounded-md border border-brand-border bg-brand-card text-brand-text placeholder-brand-text-light focus:outline-none focus:ring-2 focus:ring-color-button-primary text-center text-xl tracking-widest",inputMode:"numeric",pattern:"[0-9]*",disabled:o}),d.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[d.jsx("button",{onClick:R,disabled:o,className:"px-6 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors disabled:opacity-50",children:"Cancel"}),d.jsx("button",{onClick:j,disabled:o||!p||p.length!==6,className:"px-6 py-2 bg-color-button-primary text-white rounded-md hover:bg-color-button-primary-hover transition-colors disabled:opacity-50",children:"Verify"})]})]}),!o&&!m&&!h&&d.jsx("p",{className:"text-center text-brand-text",children:"No suitable 2FA method found or enabled. Please enable 2FA in your profile to perform this action."})]})},_1=()=>{const[i,n]=_.useState([]),[s,l]=_.useState(!0),[o,u]=_.useState({message:"",type:""}),[h,x]=_.useState("all"),[m,g]=_.useState(""),[p,w]=_.useState("sent"),[v,A]=_.useState(null),[j,R]=_.useState(1),[T]=_.useState(6),[U,B]=_.useState(0),V=sa(),[X,G]=_.useState(!1),[ae,le]=_.useState(null),re=async()=>{try{const E=await fetch("https://speed.cloudflare.com/meta"),Z=E.ok?await E.json():{},S=await fetch("https://cloudflare.tv/cdn-cgi/trace"),z=S.ok?await S.text():"",O={};return z.split(`
`).forEach(Y=>{const[D,...ee]=Y.split("=");D&&ee.length&&(O[D]=ee.join("="))}),{ip:Z.clientIp||O.ip||null,userAgent:O.uag||navigator.userAgent||null,location:{country:Z.country||O.loc||null,city:Z.city||null,region:Z.region||null,latitude:Z.latitude||null,longitude:Z.longitude||null},meta:Z,trace:O}}catch(E){return console.error("Error fetching user meta info:",E),{ip:null,userAgent:navigator.userAgent||null,location:{},meta:{},trace:{}}}},ne=_.useCallback(async()=>{if(l(!0),u({message:"",type:""}),!K){u({message:"Supabase client not available. Please check configuration.",type:"error"}),l(!1);return}const{data:{session:E},error:Z}=await K.auth.getSession();if(Z){u({message:Z.message||"Failed to get user session.",type:"error"}),l(!1);return}if(!(E!=null&&E.user)){u({message:"You must be logged in to view signature requests.",type:"error"}),l(!1);return}A(E.user);const S=E.user.id,z=E.user.email;try{const O=(j-1)*T,Y=O+T-1;let D=K.from("signature_requests").select(`
          id,
          signer_email,
          status,
          requested_at,
          signed_at,
          declined_at,
          cancelled_at,
          voided_at,
          signature_data_path,
          document_id,
          document_version_id,
          documents (
            id,
            title,
            owner_id
          ),
          document_versions (
            id,
            version_number,
            file_name
          )
        `,{count:"exact"});p==="sent"?D=D.eq("documents.owner_id",S):D=D.eq("signer_email",z),h!=="all"&&(D=D.eq("status",h)),m&&(D=D.or(`documents.title.ilike.%${m}%,signer_email.ilike.%${m}%`)),D=D.order("requested_at",{ascending:!1});const{data:ee,error:J,count:be}=await D.range(O,Y);if(J)console.error("Supabase fetch error:",J),J.code==="42501"?u({message:"Permission denied. Check Supabase Row Level Security policies.",type:"error"}):u({message:`Failed to fetch signature requests: ${J.message}`,type:"error"}),n([]),B(0);else{B(be);const se=ee.map(me=>{var je,Ae,Et,la,Jt;return{...me,document_id:(je=me.documents)==null?void 0:je.id,document_title:((Ae=me.documents)==null?void 0:Ae.title)||"N/A",document_owner_id:(Et=me.documents)==null?void 0:Et.owner_id,document_version_id:(la=me.document_versions)==null?void 0:la.id,document_version_number:((Jt=me.document_versions)==null?void 0:Jt.version_number)||0}});n(se)}}catch(O){console.error("Unexpected error during fetch:",O),u({message:O.message||"An unexpected error occurred while fetching requests.",type:"error"})}finally{l(!1)}},[p,h,m,j,T]);_.useEffect(()=>{R(1)},[p,h,m]),_.useEffect(()=>{ne()},[j,ne]);const oe=E=>{switch(E){case"pending":return"bg-color-warning-bg text-color-warning-text";case"signed":return"bg-color-success-bg text-color-success-text";case"declined":return"bg-color-error-bg text-color-error-text";case"cancelled":return"bg-gray-400 text-gray-800";case"expired":return"bg-color-info-bg text-color-info-text";case"void":return"bg-gray-500 text-white";default:return"bg-gray-200 text-gray-800"}},ge=(E,Z,S=null,z=null)=>{n(O=>O.map(Y=>Y.id===E?{...Y,status:Z,...S&&{[S]:z}}:Y))},te=async(E,Z,S,z)=>{var O;if(!v){u({message:"User not authenticated.",type:"error"});return}l(!0);try{const{data:{user:Y}}=await K.auth.getUser();if(!Y){u({message:"User session not found.",type:"error"}),l(!1);return}const{data:D,error:ee}=await K.auth.mfa.listFactors();if(ee)throw ee;const J=(O=D.totp)==null?void 0:O.some(se=>se.status==="verified");["sign","cancel"].includes(z)&&J?(le({id:E,documentId:Z,documentVersionId:S,actionType:z}),G(!0)):await he(E,Z,S,z)}catch(Y){console.error("Error during MFA check for protected action:",Y),u({message:`Failed to initiate action due to MFA check: ${Y.message||"Unknown error"}`,type:"error"})}finally{l(!1)}},he=async(E,Z,S,z,O=null)=>{if(l(!0),!await new Promise(je=>{const Ae=document.createElement("div");Ae.className="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center z-50",Ae.innerHTML=`
        <div class="bg-white p-6 rounded-lg shadow-xl text-center max-w-sm mx-auto">
          <p class="text-lg font-semibold mb-4 text-gray-800">${z==="cancel"?"Are you sure you want to cancel this request? This cannot be undone.":`Are you sure you want to ${z} this document?`}</p>
          <div class="flex justify-center space-x-4">
            <button id="confirmBtn" class="px-5 py-2 bg-color-error text-white rounded-md hover:bg-red-600 transition-colors">Confirm</button>
            <button id="cancelBtn" class="px-5 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors">Cancel</button>
          </div>
        </div>
      `,document.body.appendChild(Ae),document.getElementById("confirmBtn").onclick=()=>{document.body.removeChild(Ae),je(!0)},document.getElementById("cancelBtn").onclick=()=>{document.body.removeChild(Ae),je(!1)}})){l(!1);return}let D="",ee="",J="",be="";switch(z){case"sign":D="signed",ee="signed_at",J="DOCUMENT_SIGNED",be="Document signed successfully.";break;case"reject":D="declined",ee="declined_at",J="SIGNATURE_REQUEST_DECLINED",be="Signature request rejected.";break;case"cancel":D="cancelled",ee="cancelled_at",J="SIGNATURE_REQUEST_CANCELLED",be="Signature request cancelled successfully.";break;default:u({message:"Invalid action.",type:"error"}),l(!1);return}const se=new Date().toISOString(),me=await re();try{const je={status:D,[ee]:se};z==="sign"?Object.assign(je,{signer_ip_address:me.ip,signer_user_agent:me.userAgent,signing_location:me.location}):z==="cancel"&&(je.cancelled_by_user_id=v.id);const{error:Ae}=await K.from("signature_requests").update(je).eq("id",E);if(Ae)throw Ae.code==="42501"?u({message:"Permission denied. Check Supabase Row Level Security policies.",type:"error"}):u({message:`Failed to ${z} request: `+Ae.message,type:"error"}),Ae;ge(E,D,ee,se),u({message:be,type:"success"}),await K.from("audit_logs").insert({user_id:v.id,user_email:v.email,event_type:J,signature_request_id:E,document_id:Z,document_version_id:S,ip_address:me.ip,details:{status:D,userAgent:me.userAgent,location:me.location,...z==="cancel"&&{cancelled_by_user_id:v.id}}})}catch{o.message||u({message:`An unexpected error occurred during ${z}.`,type:"error"})}finally{l(!1),ne()}},ve=async E=>{G(!1),ae&&(await he(ae.id,ae.documentId,ae.documentVersionId,ae.actionType,E),le(null))},xe=()=>{G(!1),le(null),u({message:"Action cancelled due to failed verification.",type:"info"}),l(!1)},H=async E=>{u({message:`Sending reminder to ${E}... (Simulated)`,type:"info"}),setTimeout(()=>{u({message:`Reminder sent to ${E}!`,type:"success"})},1500)},W=E=>{const Z=E.document_id||E.documents&&E.documents.id||E.id;V(`/user/documents/${Z}`)};return s?d.jsx("div",{className:"flex justify-center items-center min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:d.jsx("p",{className:"text-xl",children:"Loading signature requests..."})}):d.jsxs("div",{className:"container mx-auto p-4 md:p-8 animate-fade-in-up min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:[o.message&&d.jsx(jt,{message:o.message,type:o.type}),d.jsxs("header",{className:"mb-8 border-b border-brand-border-light pb-4",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-brand-heading",children:"Signature Requests"}),d.jsx("p",{className:"text-brand-text-light mt-2",children:"Manage all incoming and outgoing document signature requests."})]}),d.jsx("section",{className:"mb-6",children:d.jsxs("div",{className:"flex border-b border-brand-border-light",children:[d.jsx("button",{className:`px-6 py-3 text-lg font-medium transition-colors duration-200
              ${p==="sent"?"border-b-2 border-color-button-primary text-color-button-primary":"text-brand-text-light hover:text-brand-heading"}`,onClick:()=>w("sent"),children:"Sent by me"}),d.jsx("button",{className:`px-6 py-3 text-lg font-medium transition-colors duration-200
              ${p==="received"?"border-b-2 border-color-button-primary text-color-button-primary":"text-brand-text-light hover:text-brand-heading"}`,onClick:()=>w("received"),children:"Requested from me"})]})}),d.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[d.jsx("div",{className:"w-full md:w-1/2",children:d.jsx("input",{type:"text",placeholder:"Search by document title or signer email...",className:"w-full p-3 rounded-md border border-brand-border bg-brand-card text-brand-text placeholder-brand-text-light focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:m,onChange:E=>g(E.target.value)})}),d.jsx("div",{className:"w-full md:w-auto flex flex-wrap gap-2",children:["all","pending","signed","declined","cancelled","expired","void"].map(E=>d.jsx("button",{onClick:()=>x(E),className:`px-4 py-2 rounded-md capitalize text-sm font-medium transition-colors duration-200
                ${h===E?"bg-color-button-primary text-white hover:bg-color-button-primary-hover":"bg-brand-card text-brand-text border border-brand-border hover:bg-brand-bg-dark"}`,children:E},E))})]}),i.length===0&&!s?d.jsx("div",{className:"bg-brand-card p-6 rounded-lg shadow-card text-center text-brand-text-light",children:d.jsxs("p",{className:"text-lg",children:["No signature requests found in the '",p,"' tab matching your criteria."]})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(E=>v?p==="sent"?E.document_owner_id===v.id:E.signer_email===v.email:!1).map(E=>d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border flex flex-col justify-between animate-fade-in-up",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-brand-heading mb-2",children:E.document_title}),d.jsx("p",{className:"text-brand-text-light mb-4 text-sm",children:p==="sent"?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-medium",children:"To:"})," ",E.signer_email]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-medium",children:"From:"})," ",E.document_owner_id===(v==null?void 0:v.id)?"Me":"Document Owner"]})}),d.jsxs("p",{className:"text-brand-text text-sm",children:[d.jsx("span",{className:"font-medium",children:"Date Sent:"})," ",new Date(E.requested_at).toLocaleDateString()]}),E.status==="signed"&&E.signed_at&&d.jsxs("p",{className:"text-brand-text text-sm",children:[d.jsx("span",{className:"font-medium",children:"Signed:"})," ",new Date(E.signed_at).toLocaleDateString()]}),E.status==="declined"&&E.declined_at&&d.jsxs("p",{className:"text-brand-text text-sm",children:[d.jsx("span",{className:"font-medium",children:"Declined:"})," ",new Date(E.declined_at).toLocaleDateString()]}),E.status==="cancelled"&&E.cancelled_at&&d.jsxs("p",{className:"text-brand-text text-sm",children:[d.jsx("span",{className:"font-medium",children:"Cancelled:"})," ",new Date(E.cancelled_at).toLocaleDateString()]}),E.status==="void"&&E.voided_at&&d.jsxs("p",{className:"text-brand-text text-sm",children:[d.jsx("span",{className:"font-medium",children:"Voided:"})," ",new Date(E.voided_at).toLocaleDateString()]})]}),d.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[d.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold self-start ${oe(E.status)}`,children:[E.status.charAt(0).toUpperCase()+E.status.slice(1),E.document_version_number>0&&` (v${E.document_version_number})`]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[p==="received"&&E.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>te(E.id,E.document_id,E.document_version_id,"sign"),className:"flex-1 px-4 py-2 bg-color-button-primary text-white rounded-md hover:bg-color-button-primary-hover transition-colors duration-200 text-sm z-10 pointer-events-auto cursor-pointer",disabled:s,children:"Sign Document"}),d.jsx("button",{onClick:()=>te(E.id,E.document_id,E.document_version_id,"reject"),className:"flex-1 px-4 py-2 bg-color-error text-white rounded-md hover:bg-color-error-hover transition-colors duration-200 text-sm z-10 pointer-events-auto cursor-pointer",disabled:s,children:"Reject"})]}),p==="sent"&&E.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>H(E.signer_email),className:"flex-1 px-4 py-2 bg-color-secondary text-white rounded-md hover:bg-color-secondary-hover transition-colors duration-200 text-sm cursor-pointer",disabled:s,children:"Remind Signer"}),d.jsx("button",{onClick:()=>te(E.id,E.document_id,E.document_version_id,"cancel"),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors duration-200 text-sm cursor-pointer",disabled:s,children:"Cancel Request"})]}),d.jsx("button",{onClick:()=>W(E),className:"flex-1 px-4 py-2 bg-brand-bg-dark text-brand-text rounded-md hover:bg-brand-border transition-colors duration-200 text-sm cursor-pointer",disabled:s,children:"View Details"}),E.status==="signed"&&E.signature_data_path&&d.jsx("a",{href:E.signature_data_path,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-center px-4 py-2 bg-color-success text-white rounded-md hover:bg-color-success-hover transition-colors duration-200 text-sm cursor-pointer",children:"Download Signed"})]})]})]},E.id))}),U>0&&d.jsxs("div",{className:"flex justify-center items-center mt-8 space-x-4",children:[d.jsx("button",{onClick:()=>R(E=>Math.max(1,E-1)),disabled:j===1||s,className:"px-4 py-2 bg-color-button-primary text-white rounded-md hover:bg-color-button-primary-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Previous"}),d.jsxs("span",{className:"text-lg font-medium text-brand-text",children:["Page ",j," of ",Math.ceil(U/T)]}),d.jsx("button",{onClick:()=>R(E=>E+1),disabled:j*T>=U||s,className:"px-4 py-2 bg-color-button-primary text-white rounded-md hover:bg-color-button-primary-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Next"})]}),d.jsx(v1,{show:X,onClose:xe,onVerified:ve,requiredFactors:["totp"]})]})},w1=({show:i,onClose:n,onEnrolled:s})=>{var U;const[l,o]=_.useState(""),[u,h]=_.useState(""),[x,m]=_.useState(""),[g,p]=_.useState(""),[w,v]=_.useState(!0),[A,j]=_.useState(!1);_.useEffect(()=>{if(!i){o(""),h(""),m(""),p(""),v(!0),j(!1);return}(async()=>{var V;v(!0),p("");try{const{data:X,error:G}=await K.auth.mfa.listFactors();if(G)throw G;if((V=X==null?void 0:X.factors)==null?void 0:V.find(oe=>oe.factor_type==="totp"&&oe.status==="verified")){p("You already have a verified TOTP factor. Please disable it first."),v(!1);return}const le=`TOTP-${Date.now()}`,{data:re,error:ne}=await K.auth.mfa.enroll({factorType:"totp",friendlyName:le});if(ne)throw ne;o(re.id),h(re.totp.qr_code),j(!0)}catch(X){console.error("2FA Enrollment Error:",X),p(X.message||"Failed to start 2FA enrollment. Please try again.")}finally{v(!1)}})()},[i]);const R=async()=>{if(p(""),!x){p("Please enter the 6-digit code.");return}if(!l){p("Enrollment not started. Please close and reopen the modal.");return}v(!0);try{const{data:B,error:V}=await K.auth.mfa.challenge({factorId:l});if(V)throw V;const X=B.id,{error:G}=await K.auth.mfa.verify({factorId:l,challengeId:X,code:x});if(G)throw G;s&&s(),n(),alert("Two-factor authentication enabled successfully!")}catch(B){console.error("2FA Verification Error:",B),p(B.message||"Verification failed. Check your code and try again.")}finally{v(!1)}},T=()=>{n()};return d.jsxs(na,{show:i,onClose:T,children:[d.jsx("h3",{children:"Set Up 2FA"}),w&&!g&&d.jsx("p",{children:"Loading QR code and preparing for enrollment..."}),g&&d.jsxs("p",{style:{color:"red"},children:["Error: ",g]}),!w&&!g&&A&&u&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Scan this QR code with your authenticator app."}),d.jsx("div",{style:{textAlign:"center",margin:"15px 0"},children:d.jsx("img",{src:u,alt:"QR Code",style:{maxWidth:"200px",height:"auto",border:"1px solid #eee"}})}),d.jsx("p",{children:"Alternatively, manually input the secret:"}),d.jsx("input",{type:"text",value:((U=u.split("secret=")[1])==null?void 0:U.split("&")[0])||"Loading...",readOnly:!0,style:{width:"100%",padding:"8px",margin:"10px 0",textAlign:"center",background:"#f0f0f0",border:"1px dashed #ccc"}}),d.jsx("p",{children:"Enter the 6-digit code from your app:"}),d.jsx("input",{type:"text",value:x,onChange:B=>m(B.target.value.replace(/\D/g,"").substring(0,6)),placeholder:"______",maxLength:"6",style:{width:"100%",padding:"8px",margin:"10px 0",textAlign:"center"},disabled:w}),d.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[d.jsx("button",{onClick:T,disabled:w,style:{padding:"8px 15px"},children:"Cancel"}),d.jsx("button",{onClick:R,disabled:w||x.length!==6,style:{padding:"8px 15px",background:"#007bff",color:"white"},children:w?"Verifying...":"Enable 2FA"})]})]}),!w&&!g&&!A&&!u&&d.jsx("p",{children:"Failed to load 2FA enrollment. Please try again or contact support."})]})},S1=()=>{const i=sa(),[n,s]=_.useState(!0),[l,o]=_.useState(null),[u,h]=_.useState({full_name:"",title:"",department:"",email:"",role:"",is_verified:!1,is_totp_enabled:!1,created_at:"",updated_at:""}),[x,m]=_.useState({message:"",type:""}),[g,p]=_.useState(""),[w,v]=_.useState(""),[A,j]=_.useState(!1),[R,T]=_.useState(!1),[U,B]=_.useState([]),[V,X]=_.useState(""),[G,ae]=_.useState(!1),[le,re]=_.useState(""),ne=async(E,Z)=>{if(Z){const{error:S}=await K.from("users").update({is_totp_enabled:E,updated_at:new Date().toISOString()}).eq("id",Z);S&&(console.error("Error updating is_totp_enabled in DB:",S),m({message:`Failed to update 2FA status in database: ${S.message}`,type:"error"}))}},oe=async E=>{if(E)try{s(!0),re("");const{data:Z,error:S}=await K.auth.mfa.listFactors();if(S){console.error("Error listing MFA factors for profile page:",S),m({message:"Failed to load 2FA status. Please try refreshing.",type:"error"}),h(Y=>({...Y,is_totp_enabled:!1})),B([]);return}const z=[...Z.totp||[],...Z.phone||[]],O=z.some(Y=>Y.factor_type==="totp"&&Y.status==="verified");h(Y=>(Y.is_totp_enabled!==O&&ne(O,E.id),{...Y,is_totp_enabled:O})),B(z)}catch(Z){console.error("Unexpected error fetching MFA status:",Z),m({message:"An unexpected error occurred while checking 2FA status.",type:"error"}),h(S=>({...S,is_totp_enabled:!1})),B([])}finally{s(!1)}};_.useEffect(()=>{(async()=>{s(!0),m({message:"Loading profile...",type:"info"});const{data:{user:Z},error:S}=await K.auth.getUser();if(S||!Z){m({message:"You need to be logged in to view your profile.",type:"error"}),i("/login");return}o(Z);const{data:z,error:O}=await K.from("users").select("full_name, title, department, role, is_verified, is_totp_enabled, created_at, updated_at").eq("id",Z.id).single();if(O){console.error("Error fetching user profile:",O),m({message:"Error loading your profile data.",type:"error"}),s(!1);return}z&&h({full_name:z.full_name||"",title:z.title||"",department:z.department||"",email:Z.email,role:z.role||"user",is_verified:z.is_verified||!1,is_totp_enabled:z.is_totp_enabled||!1,created_at:z.created_at||"",updated_at:z.updated_at||""}),await oe(Z),s(!1),m({message:"",type:""})})()},[i]);const ge=E=>{const{name:Z,value:S}=E.target;h(z=>({...z,[Z]:S}))},te=async E=>{if(E.preventDefault(),m({message:"Updating profile...",type:"info"}),!l){m({message:"No user session found.",type:"error"});return}const{error:Z}=await K.from("users").update({full_name:u.full_name,title:u.title,department:u.department,updated_at:new Date().toISOString()}).eq("id",l.id);if(Z)console.error("Error updating profile:",Z.message),m({message:`Error updating profile: ${Z.message}`,type:"error"});else{m({message:"Profile updated successfully!",type:"success"}),setTimeout(()=>m({message:"",type:""}),3e3);const{data:S,error:z}=await K.from("users").select("full_name, title, department, role, is_verified, is_totp_enabled, created_at, updated_at").eq("id",l.id).single();!z&&S&&h(O=>({...O,...S,email:l.email}))}},he=async E=>{if(E.preventDefault(),g!==w){m({message:"Passwords do not match!",type:"error"});return}if(g.length<6){m({message:"Password must be at least 6 characters long.",type:"error"});return}m({message:"Changing password...",type:"info"});const{error:Z}=await K.auth.updateUser({password:g});Z?(console.error("Error changing password:",Z.message),m({message:`Error changing password: ${Z.message}`,type:"error"})):(m({message:"Password updated successfully! For security, you might be logged out and need to re-login.",type:"success"}),p(""),v(""),j(!1),setTimeout(()=>{m({message:"",type:""}),i("/login")},3e3))},ve=async()=>{m({message:"Two-Factor Authentication has been successfully enabled!",type:"success"}),T(!1),await oe(l)},xe=()=>{m({message:"Two-Factor Authentication setup cancelled.",type:"info"}),T(!1),oe(l)},H=async()=>{if(re(""),!V){re("Please enter the Factor ID to disable.");return}ae(!0);try{const{error:E}=await K.auth.mfa.unenroll({factorId:V});if(E)throw E;m({message:"Two-Factor Authentication successfully disabled!",type:"success"}),X(""),await oe(l)}catch(E){console.error("2FA Unenrollment Error:",E),re(E.message||"Failed to disable 2FA. Check the Factor ID and try again."),m({message:"Error disabling 2FA: "+(E.message||"Unknown error"),type:"error"})}finally{ae(!1)}},W=E=>E?new Date(E).toLocaleString():"N/A";return d.jsxs("div",{className:"min-h-screen flex flex-col items-center p-4 transition-colors duration-300 font-inter",style:{backgroundColor:"var(--brand-bg-light)",backgroundImage:"linear-gradient(135deg, var(--brand-bg-light), var(--brand-bg-dark))",color:"var(--brand-text)"},children:[x.message&&d.jsx(jt,{message:x.message,type:x.type}),n?d.jsx("div",{className:"text-center p-24 text-2xl text-[var(--brand-text-light)]",children:"Loading profile data..."}):d.jsxs("div",{className:`bg-[var(--brand-card)] rounded-2xl shadow-xl p-8 md:p-12 border border-[var(--brand-border-light)]\r
                     max-w-4xl w-full mx-auto my-12 animate-fade-in-up`,children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-[var(--brand-heading)] mb-8 text-center drop-shadow-md",children:"My Profile"}),d.jsxs("section",{className:"mb-10 pb-6 border-b border-[var(--brand-border)]",children:[d.jsx("h2",{className:"text-3xl font-bold text-[var(--brand-heading)] mb-6",children:"Personal Information"}),d.jsxs("form",{onSubmit:te,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--brand-text-light)] mb-2",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",value:u.email,disabled:!0,className:`w-full p-3 rounded-lg border border-[var(--brand-border)] bg-gray-100 dark:bg-gray-700\r
                             text-[var(--brand-text)] cursor-not-allowed`})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-[var(--brand-text-light)] mb-2",children:"Full Name"}),d.jsx("input",{type:"text",id:"full_name",name:"full_name",value:u.full_name,onChange:ge,className:`w-full p-3 rounded-lg border border-[var(--brand-border)] bg-gray-50 dark:bg-gray-800\r
                             text-[var(--brand-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-button-primary)]\r
                             transition-colors duration-200`})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-[var(--brand-text-light)] mb-2",children:"Title"}),d.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:ge,className:`w-full p-3 rounded-lg border border-[var(--brand-border)] bg-gray-50 dark:bg-gray-800\r
                             text-[var(--brand-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-button-primary)]\r
                             transition-colors duration-200`})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-[var(--brand-text-light)] mb-2",children:"Department"}),d.jsx("input",{type:"text",id:"department",name:"department",value:u.department,onChange:ge,className:`w-full p-3 rounded-lg border border-[var(--brand-border)] bg-gray-50 dark:bg-gray-800\r
                             text-[var(--brand-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-button-primary)]\r
                             transition-colors duration-200`})]}),d.jsx("button",{type:"submit",className:`w-full inline-flex justify-center items-center\r
                           bg-gradient-to-br from-[var(--color-button-primary)] to-[var(--color-button-primary-hover)]\r
                           text-white border-none py-3 px-6 rounded-full font-bold text-lg shadow-md\r
                           transition-all duration-300 ease-out hover:from-[var(--color-button-primary-hover)]\r
                           hover:to-[var(--color-button-primary)] hover:translate-y-[-2px] hover:shadow-lg`,children:"Update Profile"})]})]}),d.jsxs("section",{className:"mb-10 pb-6 border-b border-[var(--brand-border)]",children:[d.jsx("h2",{className:"text-3xl font-bold text-[var(--brand-heading)] mb-6",children:"Account Details"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[var(--brand-border-light)] last:border-b-0",children:[d.jsx("span",{className:"text-lg font-medium text-[var(--brand-text)]",children:"Role:"}),d.jsx("span",{className:"text-lg text-[var(--brand-text-light)]",children:u.role})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[var(--brand-border-light)] last:border-b-0",children:[d.jsx("span",{className:"text-lg font-medium text-[var(--brand-text)]",children:"Member Since:"}),d.jsx("span",{className:"text-lg text-[var(--brand-text-light)]",children:W(u.created_at)})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 last:border-b-0",children:[d.jsx("span",{className:"text-lg font-medium text-[var(--brand-text)]",children:"Last Updated:"}),d.jsx("span",{className:"text-lg text-[var(--brand-text-light)]",children:W(u.updated_at)})]})]})]}),d.jsxs("section",{className:"mb-10 pb-6 border-b border-[var(--brand-border)]",children:[d.jsx("h2",{className:"text-3xl font-bold text-[var(--brand-heading)] mb-6",children:"Two-Factor Authentication (2FA)"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center py-2",children:[d.jsx("span",{className:"text-lg font-medium text-[var(--brand-text)]",children:"Status:"}),d.jsx("span",{className:`text-lg font-semibold ${u.is_totp_enabled?"text-[var(--color-success)]":"text-[var(--color-error)]"}`,children:u.is_totp_enabled?"Enabled":"Disabled"})]}),u.is_totp_enabled?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-[var(--brand-text-light)] mt-2",children:"Two-Factor Authentication is active. You can disable it by entering the Factor ID below."}),le&&d.jsxs("p",{style:{color:"red",marginTop:"10px"},children:["Error: ",le]}),U.length>0?d.jsx("div",{className:"mt-4 mb-4",style:{maxHeight:"250px",overflowY:"auto",border:"1px solid var(--brand-border-light)",borderRadius:"8px"},children:d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{background:"var(--brand-bg-dark)",borderBottom:"1px solid var(--brand-border)"},children:[d.jsx("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"0.9em",color:"var(--brand-text-light)",borderRight:"1px solid var(--brand-border-light)"},children:"Factor ID"}),d.jsx("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"0.9em",color:"var(--brand-text-light)",borderRight:"1px solid var(--brand-border-light)"},children:"Friendly Name"}),d.jsx("th",{style:{padding:"12px 8px",textAlign:"left",fontSize:"0.9em",color:"var(--brand-text-light)"},children:"Type / Status"})]})}),d.jsx("tbody",{children:U.map(E=>d.jsxs("tr",{style:{borderBottom:"1px solid var(--brand-border-light)"},children:[d.jsx("td",{style:{padding:"10px 8px",wordBreak:"break-all",fontSize:"0.85em",color:"var(--brand-text)"},children:E.id}),d.jsx("td",{style:{padding:"10px 8px",fontSize:"0.85em",color:"var(--brand-text)"},children:E.friendly_name}),d.jsx("td",{style:{padding:"10px 8px",fontSize:"0.85em",color:"var(--brand-text)"},children:`${E.factor_type} (${E.status})`})]},E.id))})]})}):d.jsx("p",{className:"text-sm text-[var(--brand-text-light)]",children:"No active 2FA factors found. This might be a temporary state or an issue with fetching."}),d.jsx("p",{className:"block text-sm font-medium text-[var(--brand-text-light)] mb-2",children:"Enter Factor ID to Disable:"}),d.jsx("input",{type:"text",value:V,onChange:E=>X(E.target.value.trim()),placeholder:"Paste Factor ID here (e.g., 2c3e1f4a-...)",className:`w-full p-3 rounded-lg border border-[var(--brand-border)] bg-gray-50 dark:bg-gray-800\r
                               text-[var(--brand-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-button-primary)]\r
                               transition-colors duration-200`,disabled:G}),d.jsx("button",{onClick:H,className:`w-full inline-flex justify-center items-center\r
                               bg-red-500 text-white border-none py-3 px-6 rounded-full font-bold text-lg shadow-md\r
                               transition-all duration-300 ease-out hover:bg-red-600 hover:translate-y-[-2px] hover:shadow-lg\r
                               disabled:opacity-50 disabled:cursor-not-allowed`,disabled:G||!V,children:G?"Disabling...":"Disable 2FA"})]}):d.jsx("button",{onClick:()=>T(!0),className:`w-full inline-flex justify-center items-center\r
                             bg-gradient-to-br from-[var(--color-button-primary)] to-[var(--color-button-primary-hover)]\r
                             text-white border-none py-3 px-6 rounded-full font-bold text-lg shadow-md\r
                             transition-all duration-300 ease-out hover:from-[var(--color-button-primary-hover)]\r
                             hover:to-[var(--color-button-primary)] hover:translate-y-[-2px] hover:shadow-lg`,children:"Enable 2FA"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-3xl font-bold text-[var(--brand-heading)] mb-6",children:"Password Settings"}),A?d.jsxs("form",{onSubmit:he,className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-[var(--brand-text-light)] mb-2",children:"New Password"}),d.jsx("input",{type:"password",id:"newPassword",value:g,onChange:E=>p(E.target.value),className:`w-full p-3 rounded-lg border border-[var(--brand-border)] bg-gray-50 dark:bg-gray-800\r
                               text-[var(--brand-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-button-primary)]\r
                               transition-colors duration-200`,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-[var(--brand-text-light)] mb-2",children:"Confirm New Password"}),d.jsx("input",{type:"password",id:"confirmPassword",value:w,onChange:E=>v(E.target.value),className:`w-full p-3 rounded-lg border border-[var(--brand-border)] bg-gray-50 dark:bg-gray-800\r
                               text-[var(--brand-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-button-primary)]\r
                               transition-colors duration-200`,required:!0})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{type:"submit",className:`flex-1 inline-flex justify-center items-center\r
                               bg-gradient-to-br from-[var(--color-button-primary)] to-[var(--color-button-primary-hover)]\r
                               text-white border-none py-3 px-6 rounded-full font-bold text-lg shadow-md\r
                               transition-all duration-300 ease-out hover:from-[var(--color-button-primary-hover)]\r
                               hover:to-[var(--color-button-primary)] hover:translate-y-[-2px] hover:shadow-lg`,children:"Set New Password"}),d.jsx("button",{type:"button",onClick:()=>j(!1),className:`flex-1 inline-flex justify-center items-center\r
                               bg-gray-300 text-gray-800 border-none py-3 px-6 rounded-full font-bold text-lg shadow-md\r
                               transition-all duration-300 ease-out hover:bg-gray-400 hover:translate-y-[-2px] hover:shadow-lg\r
                               dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500`,children:"Cancel"})]})]}):d.jsx("button",{onClick:()=>j(!0),className:`inline-flex justify-center items-center\r
                           bg-transparent border-2 border-[var(--color-button-primary)] text-[var(--color-button-primary)]\r
                           py-3 px-6 rounded-full font-bold text-lg shadow-sm\r
                           transition-all duration-300 ease-out hover:bg-[var(--color-button-primary)]\r
                           hover:text-white hover:shadow-md`,children:"Change Password"})]})]}),R&&l&&d.jsx(w1,{show:R,onClose:xe,onEnrolled:ve})]})},j1=()=>{const[i,n]=_.useState(!0),[s,l]=_.useState({message:"",type:""}),[o,u]=_.useState(0),[h,x]=_.useState(0),[m,g]=_.useState(null),p=sa();return _.useEffect(()=>{(async()=>{n(!0),l({message:"Loading admin dashboard...",type:"info"});const{data:{user:v},error:A}=await K.auth.getUser();if(A||!v){l({message:"You must be logged in as admin.",type:"error"}),p("/login");return}const{data:j,error:R}=await K.from("users").select("role, full_name").eq("id",v.id).single();if(R||(j==null?void 0:j.role)!=="admin"){l({message:"Access denied. Admins only.",type:"error"}),p("/user/dashboard");return}g(j);const{count:T}=await K.from("users").select("id",{count:"exact",head:!0});u(T||0);const{count:U}=await K.from("documents").select("id",{count:"exact",head:!0});x(U||0),n(!1),l({message:"",type:""})})()},[p]),d.jsxs("div",{style:{minHeight:"100vh",background:"var(--brand-bg-light)"},children:[d.jsx(Y0,{}),d.jsxs("div",{style:{paddingTop:"90px",maxWidth:1200,margin:"0 auto"},children:[s.message&&d.jsx(jt,{message:s.message,type:s.type}),d.jsx("h1",{style:{fontSize:"3em",fontWeight:800,color:"var(--brand-heading)",marginBottom:10,marginTop:30},children:"Admin Dashboard"}),d.jsxs("p",{style:{color:"var(--brand-text-light)",fontSize:"1.2em"},children:["Welcome",m!=null&&m.full_name?`, ${m.full_name}`:"","! Manage users, documents, and platform settings."]}),i?d.jsx("div",{style:{padding:"3em",textAlign:"center",color:"var(--brand-text-light)"},children:"Loading dashboard data..."}):d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:"2em",marginTop:"2em"},children:[d.jsxs("div",{style:{background:"var(--brand-card)",borderRadius:20,padding:"2em",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",textAlign:"center"},children:[d.jsx("h2",{style:{fontSize:"2em",fontWeight:700,color:"var(--brand-heading)"},children:"Users"}),d.jsx("div",{style:{fontSize:"3em",fontWeight:800,margin:"0.5em 0"},children:o}),d.jsx(Be,{to:"/admin/users",style:{display:"inline-block",marginTop:10,padding:"0.5em 1.5em",borderRadius:999,background:"var(--color-primary)",color:"#fff",fontWeight:600,textDecoration:"none"},children:"Manage Users"})]}),d.jsxs("div",{style:{background:"var(--brand-card)",borderRadius:20,padding:"2em",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",textAlign:"center"},children:[d.jsx("h2",{style:{fontSize:"2em",fontWeight:700,color:"var(--brand-heading)"},children:"Documents"}),d.jsx("div",{style:{fontSize:"3em",fontWeight:800,margin:"0.5em 0"},children:h}),d.jsx(Be,{to:"/admin/reports",style:{display:"inline-block",marginTop:10,padding:"0.5em 1.5em",borderRadius:999,background:"var(--color-secondary)",color:"#fff",fontWeight:600,textDecoration:"none"},children:"View Reports"})]}),d.jsxs("div",{style:{background:"var(--brand-card)",borderRadius:20,padding:"2em",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",textAlign:"center"},children:[d.jsx("h2",{style:{fontSize:"2em",fontWeight:700,color:"var(--brand-heading)"},children:"Settings"}),d.jsx("div",{style:{fontSize:"1.5em",margin:"1em 0",color:"var(--brand-text-light)"},children:"Platform configuration and controls"}),d.jsx(Be,{to:"/admin/settings",style:{display:"inline-block",marginTop:10,padding:"0.5em 1.5em",borderRadius:999,background:"var(--color-primary-light)",color:"#fff",fontWeight:600,textDecoration:"none"},children:"Go to Settings"})]})]})]})]})},E1=()=>{const[i,n]=_.useState([]),[s,l]=_.useState(!0),[o,u]=_.useState({message:"",type:""}),[h,x]=_.useState("all"),[m,g]=_.useState("all"),[p,w]=_.useState(""),[v,A]=_.useState(""),[j,R]=_.useState(""),[T,U]=_.useState(1),[B]=_.useState(10),[V,X]=_.useState(0),[G,ae]=_.useState([]),[le,re]=_.useState([]),[ne,oe]=_.useState(!1),[ge,te]=_.useState(""),[he,ve]=_.useState(!1),[xe,H]=_.useState(""),W=D=>{if(!D)return"N/A";const ee=new Date(D),J={month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return ee.toLocaleDateString(void 0,J)+" "+ee.toLocaleTimeString(void 0,J)},E=_.useCallback(async()=>{if(l(!0),u({message:"",type:""}),!K){u({message:"Supabase client not available. Please check configuration.",type:"error"}),l(!1);return}const{data:{user:D},error:ee}=await K.auth.getUser();if(ee||!D){u({message:(ee==null?void 0:ee.message)||"User not authenticated.",type:"error"}),l(!1);return}try{const J=(T-1)*B,be=J+B-1;let se=K.from("audit_logs").select(`
          id,
          timestamp,
          user_id,
          user_email,
          event_type,
          details,
          ip_address,
          user_agent, 
          document_id,
          document_version_id,
          signature_request_id,
          user:users!fk_audit_logs_user_id(full_name),
          documents(title),
          document_versions(version_number, file_name)
        `,{count:"exact"});if(h!=="all"&&(se=se.eq("event_type",h)),m!=="all"&&(se=se.eq("user_id",m)),v&&(se=se.gte("timestamp",new Date(v).toISOString())),j){const Et=new Date(j);Et.setHours(23,59,59,999),se=se.lte("timestamp",Et.toISOString())}p&&(se=se.or(`event_type.ilike.%${p}%,user_email.ilike.%${p}%`)),se=se.order("timestamp",{ascending:!1});const{data:me,error:je,count:Ae}=await se.range(J,be);je?(console.error("Supabase fetch audit logs error:",je),u({message:`Failed to fetch audit logs: ${je.message}`,type:"error"}),n([]),X(0)):(X(Ae),n(me))}catch(J){console.error("Unexpected error during audit log fetch:",J),u({message:J.message||"An unexpected error occurred while fetching audit logs.",type:"error"})}finally{l(!1)}},[T,B,h,m,p,v,j]);_.useEffect(()=>{(async()=>{const{data:ee,error:J}=await K.from("audit_logs").select("user_id, user_email, users!fk_audit_logs_user_id(full_name)");if(J)console.error("Error fetching distinct users for filter:",J);else{const me=Array.from(new Map(ee.filter(je=>je.user_id!==null).map(je=>{var Ae;return[je.user_id,{id:je.user_id,email:je.user_email,fullName:((Ae=je.user)==null?void 0:Ae.full_name)||je.user_email}]})).values());ae(me)}const{data:be,error:se}=await K.from("audit_logs").select("event_type").distinct("event_type").order("event_type",{ascending:!0});se?console.error("Error fetching distinct event types for filter:",se):re(be.map(me=>me.event_type))})()},[]),_.useEffect(()=>{U(1)},[h,m,p,v,j]),_.useEffect(()=>{E()},[T,E]);const Z=Math.ceil(V/B),S=D=>{D>=1&&D<=Z&&U(D)},z=D=>{if(!D)return"N/A";let ee;try{ee=typeof D=="string"?JSON.parse(D):D}catch{return String(D)}return typeof ee=="object"&&ee!==null?JSON.stringify(ee,null,2):String(ee)},O=D=>{te(z(D)),oe(!0)},Y=D=>{var J,be,se,me,je,Ae;let ee="No related document information available.";((J=D.documents)!=null&&J.title||D.document_id||(be=D.document_versions)!=null&&be.version_number||(se=D.document_versions)!=null&&se.file_name||D.signature_request_id)&&(ee=`
            ${(me=D.documents)!=null&&me.title?`Document Title: ${D.documents.title}
`:""}
            ${D.document_id?`Document ID: ${D.document_id}
`:""}
            ${(je=D.document_versions)!=null&&je.version_number?`Version: ${D.document_versions.version_number}
`:""}
            ${(Ae=D.document_versions)!=null&&Ae.file_name?`File Name: ${D.document_versions.file_name}
`:""}
            ${D.signature_request_id?`Signature Request ID: ${D.signature_request_id}
`:""}
        `.trim()),H(ee),ve(!0)};return s?d.jsx("div",{className:"flex justify-center items-center min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:d.jsx("p",{className:"text-xl",children:"Loading audit logs..."})}):d.jsxs("div",{className:"container mx-auto p-4 md:p-8 animate-fade-in-up min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:[o.message&&d.jsx(jt,{message:o.message,type:o.type}),d.jsxs("header",{className:"mb-8 border-b border-brand-border-light pb-4",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-brand-heading",children:"Audit Logs"}),d.jsx("p",{className:"text-brand-text-light mt-2",children:"Review all system activities and user actions."})]}),d.jsxs("section",{className:"bg-brand-card p-6 rounded-lg shadow-card mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-brand-text mb-1",children:"Search"}),d.jsx("input",{type:"text",id:"searchTerm",placeholder:"Event, user, details...",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text placeholder-brand-text-light focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:p,onChange:D=>w(D.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"filterEventType",className:"block text-sm font-medium text-brand-text mb-1",children:"Event Type"}),d.jsxs("select",{id:"filterEventType",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:h,onChange:D=>x(D.target.value),children:[d.jsx("option",{value:"all",children:"All Event Types"}),le.map(D=>d.jsx("option",{value:D,children:D.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ee=>ee.toUpperCase())},D))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"filterUserId",className:"block text-sm font-medium text-brand-text mb-1",children:"User"}),d.jsxs("select",{id:"filterUserId",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:m,onChange:D=>g(D.target.value),children:[d.jsx("option",{value:"all",children:"All Users"}),G.map(D=>d.jsxs("option",{value:D.id,children:[D.fullName," (",D.email,")"]},D.id))]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 lg:col-span-1",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-brand-text mb-1",children:"From Date"}),d.jsx("input",{type:"date",id:"startDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-button-primary",value:v,onChange:D=>A(D.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-brand-text mb-1",children:"To Date"}),d.jsx("input",{type:"date",id:"endDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-button-primary",value:j,onChange:D=>R(D.target.value)})]})]})]}),i.length===0&&!s?d.jsx("div",{className:"bg-brand-card p-6 rounded-lg shadow-card text-center text-brand-text-light",children:d.jsx("p",{className:"text-lg",children:"No audit logs found matching your criteria."})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto bg-brand-card rounded-lg shadow-card border border-brand-border",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-border",children:[d.jsx("thead",{className:"bg-brand-bg-dark",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Timestamp"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Event Type"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Related Document"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"IP Address"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"User Agent"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Details"})]})}),d.jsx("tbody",{className:"bg-brand-card divide-y divide-brand-border",children:i.map(D=>{var ee,J,be;return d.jsxs("tr",{className:"hover:bg-brand-bg-dark transition-colors duration-150",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:W(D.timestamp)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:((ee=D.user)==null?void 0:ee.full_name)||D.user_email||"System"})," ",d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-button-primary",children:D.event_type.replace(/_/g," ").toUpperCase()}),d.jsx("td",{className:"px-6 py-4 text-sm text-brand-text",children:(J=D.documents)!=null&&J.title||D.document_id||(be=D.document_versions)!=null&&be.version_number||D.signature_request_id?d.jsx("button",{onClick:()=>Y(D),className:"px-3 py-1 bg-color-button-secondary text-white rounded-md text-xs hover:bg-color-button-secondary-hover transition-colors duration-200",children:"View Document"}):"N/A"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:D.ip_address||"N/A"}),d.jsxs("td",{className:"px-6 py-4 text-sm text-brand-text overflow-hidden text-ellipsis max-w-xs",title:D.user_agent,children:[D.user_agent?`${D.user_agent.substring(0,50)}...`:"N/A"," "]}),d.jsx("td",{className:"px-6 py-4 text-sm text-brand-text",children:D.details?d.jsx("button",{onClick:()=>O(D.details),className:"px-3 py-1 bg-color-button-secondary text-white rounded-md text-xs hover:bg-color-button-secondary-hover transition-colors duration-200",children:"View Details"}):"N/A"})]},D.id)})})]})}),Z>1&&d.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[d.jsx("button",{onClick:()=>S(T-1),disabled:T===1,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Previous"}),d.jsxs("span",{className:"text-brand-text",children:["Page ",T," of ",Z]}),d.jsx("button",{onClick:()=>S(T+1),disabled:T===Z,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Next"})]})]}),d.jsxs(na,{show:ne,onClose:()=>oe(!1),children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-brand-heading",children:"Audit Log Details"}),d.jsx("pre",{className:"whitespace-pre-wrap text-brand-text-light text-sm bg-brand-bg-dark p-4 rounded-md",children:ge})]}),d.jsxs(na,{show:he,onClose:()=>ve(!1),children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-brand-heading",children:"Related Document Information"}),d.jsx("pre",{className:"whitespace-pre-wrap text-brand-text-light text-sm bg-brand-bg-dark p-4 rounded-md",children:xe})]})]})},N1=()=>{const[i,n]=_.useState([]),[s,l]=_.useState(!0),[o,u]=_.useState({message:"",type:""}),[h,x]=_.useState("all"),[m,g]=_.useState("all"),[p,w]=_.useState(""),[v,A]=_.useState(""),[j,R]=_.useState(""),[T,U]=_.useState(1),[B]=_.useState(10),[V,X]=_.useState(0),[G,ae]=_.useState([]),le=[{value:"all",label:"All"},{value:"true",label:"Verified"},{value:"false",label:"Unverified"}],[re,ne]=_.useState(!1),[oe,ge]=_.useState({}),te=E=>{if(!E)return"N/A";const Z=new Date(E),S=Z.getFullYear(),z=String(Z.getMonth()+1).padStart(2,"0"),O=String(Z.getDate()).padStart(2,"0"),Y=String(Z.getHours()).padStart(2,"0"),D=String(Z.getMinutes()).padStart(2,"0"),ee=String(Z.getSeconds()).padStart(2,"0");return`${z} ${O}, ${S} ${Y}:${D}:${ee}`},he=_.useCallback(async()=>{if(l(!0),u({message:"",type:""}),!K){u({message:"Supabase client not available. Please check configuration.",type:"error"}),l(!1);return}const{data:{user:E},error:Z}=await K.auth.getUser();if(Z||!E){u({message:(Z==null?void 0:Z.message)||"User not authenticated.",type:"error"}),l(!1);return}try{const S=(T-1)*B,z=S+B-1;let O=K.from("users").select(`
          id,
          email,
          full_name,
          title,
          department,
          role,
          is_verified,
          created_at,
          updated_at
        `,{count:"exact"});if(h!=="all"&&(O=O.eq("role",h)),m!=="all"&&(O=O.eq("is_verified",m==="true")),v&&(O=O.gte("created_at",new Date(v).toISOString())),j){const J=new Date(j);J.setHours(23,59,59,999),O=O.lte("created_at",J.toISOString())}if(p){const J=`%${p}%`;O=O.or(`full_name.ilike.${J},email.ilike.${J}`)}O=O.order("created_at",{ascending:!1}),O=O.range(S,z);const{data:Y,error:D,count:ee}=await O;D?(console.error("Supabase fetch users error:",D),u({message:`Failed to fetch users: ${D.message}`,type:"error"}),n([]),X(0)):(X(ee),n(Y))}catch(S){console.error("Unexpected error during user fetch:",S),u({message:S.message||"An unexpected error occurred while fetching users.",type:"error"})}finally{l(!1)}},[T,B,h,m,p,v,j]);_.useEffect(()=>{(async()=>{const{data:Z,error:S}=await K.from("users").select("role").distinct("role").order("role",{ascending:!0});S?console.error("Error fetching distinct roles for filter:",S):ae(Z.map(z=>z.role))})()},[]),_.useEffect(()=>{U(1)},[h,m,p,v,j]),_.useEffect(()=>{he()},[T,he]);const ve=Math.ceil(V/B),xe=E=>{E>=1&&E<=ve&&U(E)},H=E=>{const Z={...E};delete Z.password_hash,ge(Z),ne(!0)},W=E=>E?`
ID: ${E.id}
Email: ${E.email}
Full Name: ${E.full_name||"N/A"}
Role: ${String(E.role).toUpperCase()}
Verified: ${E.is_verified?"Yes":"No"}
Title: ${E.title||"N/A"}
Department: ${E.department||"N/A"}
Created At: ${te(E.created_at)}
Last Updated: ${te(E.updated_at)}
    `.trim():"No user data available.";return s?d.jsx("div",{className:"flex justify-center items-center min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:d.jsx("p",{className:"text-xl",children:"Loading users..."})}):d.jsxs("div",{className:"container mx-auto p-4 md:p-8 min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:[o.message&&d.jsx(jt,{message:o.message,type:o.type}),d.jsxs("header",{className:"mb-8 border-b border-brand-border-light pb-4",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-brand-heading",children:"Manage Users"}),d.jsx("p",{className:"text-brand-text-light mt-2",children:"View and manage all registered users in the system."})]}),d.jsxs("section",{className:"bg-brand-card p-6 rounded-lg shadow-card mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-brand-text mb-1",children:"Search"}),d.jsx("input",{type:"text",id:"searchTerm",placeholder:"Name, email...",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text placeholder-brand-text-light focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:p,onChange:E=>w(E.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"filterRole",className:"block text-sm font-medium text-brand-text mb-1",children:"Role"}),d.jsxs("select",{id:"filterRole",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:h,onChange:E=>x(E.target.value),children:[d.jsx("option",{value:"all",children:"All Roles"}),G.map(E=>d.jsx("option",{value:E,children:E.replace(/_/g," ").toLowerCase().replace(/\b\w/g,Z=>Z.toUpperCase())},E))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"filterVerificationStatus",className:"block text-sm font-medium text-brand-text mb-1",children:"Verification Status"}),d.jsx("select",{id:"filterVerificationStatus",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:m,onChange:E=>g(E.target.value),children:le.map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 lg:col-span-1",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-brand-text mb-1",children:"Created From"}),d.jsx("input",{type:"date",id:"startDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:v,onChange:E=>A(E.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-brand-text mb-1",children:"Created To"}),d.jsx("input",{type:"date",id:"endDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:j,onChange:E=>R(E.target.value)})]})]})]}),i.length===0&&!s?d.jsx("div",{className:"bg-brand-card p-6 rounded-lg shadow-card text-center text-brand-text-light",children:d.jsx("p",{className:"text-lg",children:"No users found matching your criteria."})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto bg-brand-card rounded-lg shadow-card border border-brand-border",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-border",children:[d.jsx("thead",{className:"bg-brand-bg-dark",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Full Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Verified"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Created At"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Last Updated"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-brand-card divide-y divide-brand-border",children:i.map(E=>d.jsxs("tr",{className:"hover:bg-brand-bg-dark transition-colors duration-150",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-text",children:E.full_name}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:E.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.role==="admin"?"bg-purple-100 text-purple-800":E.role==="user"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.role.replace(/_/g," ").toUpperCase()})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.is_verified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_verified?"Yes":"No"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:te(E.created_at)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:te(E.updated_at)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>H(E),className:"text-color-button-primary hover:text-color-button-primary-hover transition-colors duration-200",children:"View Details"})})]},E.id))})]})}),ve>1&&d.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[d.jsx("button",{onClick:()=>xe(T-1),disabled:T===1,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Previous"}),d.jsxs("span",{className:"text-brand-text",children:["Page ",T," of ",ve]}),d.jsx("button",{onClick:()=>xe(T+1),disabled:T===ve,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Next"})]})]}),d.jsxs(na,{show:re,onClose:()=>ne(!1),children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-brand-heading",children:"User Details"}),d.jsx("pre",{className:"whitespace-pre-wrap text-brand-text-light text-sm bg-brand-bg-dark p-4 rounded-md",children:W(oe)})]})]})},T1=()=>{const[i,n]=_.useState(!0),[s,l]=_.useState({message:"",type:""}),[o,u]=_.useState({documentStatus:[],signatureStatus:[],userRoles:[],incidentStatus:[],totalDocuments:0,totalSignatureRequests:0,totalUsers:0,totalIncidentReports:0,averageSigningTime:"N/A",recentAuditLogs:[]}),[h,x]=_.useState(""),[m,g]=_.useState(""),p=v=>{if(!v)return"N/A";const A=new Date(v),j={month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return A.toLocaleDateString("en-US",j)},w=_.useCallback(async()=>{if(n(!0),l({message:"",type:""}),!K){l({message:"Supabase client not available. Please check configuration.",type:"error"}),n(!1);return}try{const v=(ee,J,be,se)=>{let me=ee;if(be&&(me=me.gte(J,new Date(be).toISOString())),se){const je=new Date(se);je.setHours(23,59,59,999),me=me.lte(J,je.toISOString())}return me},A={start_date_param:h?new Date(h).toISOString():null,end_date_param:m?new Date(m).toISOString():null},{data:j,error:R}=await K.rpc("count_documents_by_status",A),{data:T,error:U}=await K.rpc("count_signature_requests_by_status",A),{data:B,error:V}=await K.rpc("count_users_by_role",A),{data:X,error:G}=await K.rpc("count_incident_reports_by_status",A);let ae=K.from("documents").select("*",{count:"exact",head:!0});ae=v(ae,"created_at",h,m);const{count:le,error:re}=await ae;let ne=K.from("signature_requests").select("*",{count:"exact",head:!0});ne=v(ne,"requested_at",h,m);const{count:oe,error:ge}=await ne;let te=K.from("users").select("*",{count:"exact",head:!0});te=v(te,"created_at",h,m);const{count:he,error:ve}=await te;let xe=K.from("incident_reports").select("*",{count:"exact",head:!0});xe=v(xe,"timestamp",h,m);const{count:H,error:W}=await xe;let E=K.from("audit_logs").select("timestamp, event_type, user_email, details");E=v(E,"timestamp",h,m);const{data:Z,error:S}=await E.order("timestamp",{ascending:!1}).limit(10);let z="N/A",O=K.from("signature_requests").select("requested_at, signed_at").eq("status","signed").not("signed_at","is",null);O=v(O,"signed_at",h,m);const{data:Y,error:D}=await O;if(!D&&Y&&Y.length>0){let ee=0;Y.forEach(Ae=>{if(Ae.requested_at&&Ae.signed_at){const Et=new Date(Ae.requested_at),la=new Date(Ae.signed_at);ee+=(la.getTime()-Et.getTime())/1e3}});const J=ee/Y.length,be=Math.floor(J/60),se=Math.floor(be/60),me=be%60,je=Math.floor(J%60);z=`${se}h ${me}m ${je}s`}R||U||V||G||re||ge||ve||W||S||D?(console.error("Error fetching report data:",R,U,V,G,re,ge,ve,W,S,D),l({message:"Failed to fetch all report data. Check console for details.",type:"error"})):u({documentStatus:j||[],signatureStatus:T||[],userRoles:B||[],incidentStatus:X||[],totalDocuments:le||0,totalSignatureRequests:oe||0,totalUsers:he||0,totalIncidentReports:H||0,averageSigningTime:z,recentAuditLogs:Z||[]})}catch(v){console.error("Unexpected error during report fetch:",v),l({message:v.message||"An unexpected error occurred while fetching reports.",type:"error"})}finally{n(!1)}},[h,m]);return _.useEffect(()=>{w()},[w]),i?d.jsx("div",{className:"flex justify-center items-center min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:d.jsx("p",{className:"text-xl",children:"Loading reports..."})}):d.jsxs("div",{className:"container mx-auto p-4 md:p-8 min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:[s.message&&d.jsx(jt,{message:s.message,type:s.type}),d.jsxs("header",{className:"mb-8 border-b border-brand-border-light pb-4",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-brand-heading",children:"Analytics & Reports"}),d.jsx("p",{className:"text-brand-text-light mt-2",children:"Get insights into system performance and user activity."})]}),d.jsxs("section",{className:"bg-brand-card p-6 rounded-lg shadow-card mb-6 flex flex-col md:flex-row gap-4 justify-end items-center",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reportStartDate",className:"block text-sm font-medium text-brand-text mb-1",children:"Start Date"}),d.jsx("input",{type:"date",id:"reportStartDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:h,onChange:v=>x(v.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reportEndDate",className:"block text-sm font-medium text-brand-text mb-1",children:"End Date"}),d.jsx("input",{type:"date",id:"reportEndDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:m,onChange:v=>g(v.target.value)})]}),d.jsx("button",{onClick:w,className:"mt-4 md:mt-0 px-6 py-2 bg-color-button-primary text-white rounded-md hover:bg-color-button-primary-hover transition-colors duration-200",children:"Apply Filter"})]}),d.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-lg font-semibold text-brand-heading mb-2",children:"Total Documents"}),d.jsx("p",{className:"text-4xl font-bold text-color-button-primary",children:o.totalDocuments})]}),d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-lg font-semibold text-brand-heading mb-2",children:"Total Sign Requests"}),d.jsx("p",{className:"text-4xl font-bold text-color-button-primary",children:o.totalSignatureRequests})]}),d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-lg font-semibold text-brand-heading mb-2",children:"Total Users"}),d.jsx("p",{className:"text-4xl font-bold text-color-button-primary",children:o.totalUsers})]}),d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-lg font-semibold text-brand-heading mb-2",children:"Avg. Signing Time"}),d.jsx("p",{className:"text-4xl font-bold text-color-button-primary",children:o.averageSigningTime})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-xl font-semibold text-brand-heading mb-4",children:"Documents by Status"}),o.documentStatus.length>0?d.jsx("div",{className:"h-64",children:d.jsx("ul",{className:"list-disc pl-5 text-brand-text-light",children:o.documentStatus.map(v=>d.jsxs("li",{children:[v.status.replace(/_/g," ").toUpperCase(),": ",v.count]},v.status))})}):d.jsx("p",{className:"text-brand-text-light",children:"No document status data available for this period."})]}),d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-xl font-semibold text-brand-heading mb-4",children:"Signature Requests by Status"}),o.signatureStatus.length>0?d.jsx("div",{className:"h-64",children:d.jsx("ul",{className:"list-disc pl-5 text-brand-text-light",children:o.signatureStatus.map(v=>d.jsxs("li",{children:[v.status.replace(/_/g," ").toUpperCase(),": ",v.count]},v.status))})}):d.jsx("p",{className:"text-brand-text-light",children:"No signature request status data available for this period."})]}),d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-xl font-semibold text-brand-heading mb-4",children:"Users by Role"}),o.userRoles.length>0?d.jsx("div",{className:"h-64",children:d.jsx("ul",{className:"list-disc pl-5 text-brand-text-light",children:o.userRoles.map(v=>d.jsxs("li",{children:[v.role.replace(/_/g," ").toUpperCase(),": ",v.count]},v.role))})}):d.jsx("p",{className:"text-brand-text-light",children:"No user role data available."})]}),d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border",children:[d.jsx("h3",{className:"text-xl font-semibold text-brand-heading mb-4",children:"Incident Reports by Status"}),o.incidentStatus.length>0?d.jsx("div",{className:"h-64",children:d.jsx("ul",{className:"list-disc pl-5 text-brand-text-light",children:o.incidentStatus.map(v=>d.jsxs("li",{children:[v.status.replace(/_/g," ").toUpperCase(),": ",v.count]},v.status))})}):d.jsx("p",{className:"text-brand-text-light",children:"No incident report data available for this period."})]}),d.jsxs("div",{className:"bg-brand-card p-6 rounded-lg shadow-card border border-brand-border lg:col-span-2",children:[d.jsx("h3",{className:"text-xl font-semibold text-brand-heading mb-4",children:"Recent System Activity (Audit Logs)"}),o.recentAuditLogs.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-border",children:[d.jsx("thead",{className:"bg-brand-bg-dark",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Timestamp"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Event Type"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"User Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Details"})]})}),d.jsx("tbody",{className:"bg-brand-card divide-y divide-brand-border",children:o.recentAuditLogs.map(v=>d.jsxs("tr",{className:"hover:bg-brand-bg-dark transition-colors duration-150",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:p(v.timestamp)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:v.event_type}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:v.user_email||"System"}),d.jsx("td",{className:"px-6 py-4 text-sm text-brand-text overflow-hidden text-ellipsis max-w-xs",children:d.jsx("pre",{className:"whitespace-pre-wrap text-xs text-brand-text-light",children:JSON.stringify(v.details,null,2)})})]},v.id||v.timestamp+v.event_type))})]})}):d.jsx("p",{className:"text-brand-text-light",children:"No recent audit logs available."})]})]})]})},A1=()=>{var E,Z,S,z;const[i,n]=_.useState([]),[s,l]=_.useState(!0),[o,u]=_.useState({message:"",type:""}),[h,x]=_.useState("all"),[m,g]=_.useState(""),[p,w]=_.useState(""),[v,A]=_.useState(""),[j,R]=_.useState(1),[T]=_.useState(10),[U,B]=_.useState(0),[V,X]=_.useState(!1),[G,ae]=_.useState({}),[le,re]=_.useState(""),[ne,oe]=_.useState(""),ge=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"resolved",label:"Resolved"}],te=O=>{if(!O)return"N/A";const Y=new Date(O),D={year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return Y.toLocaleDateString("en-US",D)},he=_.useCallback(async()=>{if(l(!0),u({message:"",type:""}),!K){u({message:"Supabase client not available. Please check configuration.",type:"error"}),l(!1);return}try{const O=(j-1)*T,Y=O+T-1;let D=K.from("incident_reports").select(`
          id,
          timestamp,
          reported_by_user_id,
          reported_by_email,
          document_id,
          reason,
          details,
          status,
          resolved_by_user_id,
          resolved_at,
          reporter:users!fk_incident_reports_reported_by_user_id(full_name),
          resolver:users!fk_incident_reports_resolved_by_user_id(full_name),
          documents!fk_incident_reports_document_id(title)
        `,{count:"exact"});if(h!=="all"&&(D=D.eq("status",h)),p&&(D=D.gte("timestamp",new Date(p).toISOString())),v){const se=new Date(v);se.setHours(23,59,59,999),D=D.lte("timestamp",se.toISOString())}if(m){const se=`%${m}%`;D=D.or(`reported_by_email.ilike.${se},reason.ilike.${se},details.ilike.${se}`)}D=D.order("timestamp",{ascending:!1}),D=D.range(O,Y);const{data:ee,error:J,count:be}=await D;J?(console.error("Supabase fetch incident reports error:",J),u({message:`Failed to fetch incident reports: ${J.message}`,type:"error"}),n([]),B(0)):(B(be),n(ee))}catch(O){console.error("Unexpected error during report fetch:",O),u({message:O.message||"An unexpected error occurred while fetching reports.",type:"error"})}finally{l(!1)}},[j,T,h,m,p,v]);_.useEffect(()=>{R(1)},[h,m,p,v]),_.useEffect(()=>{he()},[j,he]);const ve=Math.ceil(U/T),xe=O=>{O>=1&&O<=ve&&R(O)},H=O=>{ae(O),re(O.status),oe(O.details||""),X(!0)},W=async()=>{l(!0),u({message:"",type:""});const{data:{user:O},error:Y}=await K.auth.getUser();if(Y||!O){u({message:(Y==null?void 0:Y.message)||"User not authenticated.",type:"error"}),l(!1);return}try{const D={status:le,details:ne};le==="resolved"&&G.status!=="resolved"?(D.resolved_by_user_id=O.id,D.resolved_at=new Date().toISOString()):le!=="resolved"&&G.status==="resolved"&&(D.resolved_by_user_id=null,D.resolved_at=null);const{data:ee,error:J}=await K.from("incident_reports").update(D).eq("id",G.id);J?u({message:`Failed to update report: ${J.message}`,type:"error"}):(u({message:"Report updated successfully!",type:"success"}),X(!1),he())}catch(D){u({message:D.message||"An unexpected error occurred during update.",type:"error"})}finally{l(!1)}};return s?d.jsx("div",{className:"flex justify-center items-center min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:d.jsx("p",{className:"text-xl",children:"Loading incident reports..."})}):d.jsxs("div",{className:"container mx-auto p-4 md:p-8 min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:[o.message&&d.jsx(jt,{message:o.message,type:o.type}),d.jsxs("header",{className:"mb-8 border-b border-brand-border-light pb-4",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-brand-heading",children:"Anomalies & Incident Reports"}),d.jsx("p",{className:"text-brand-text-light mt-2",children:"Review and manage reported issues within the system."})]}),d.jsxs("section",{className:"bg-brand-card p-6 rounded-lg shadow-card mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-brand-text mb-1",children:"Search"}),d.jsx("input",{type:"text",id:"searchTerm",placeholder:"Email, reason, details...",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text placeholder-brand-text-light focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:m,onChange:O=>g(O.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-brand-text mb-1",children:"Status"}),d.jsx("select",{id:"filterStatus",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:h,onChange:O=>x(O.target.value),children:ge.map(O=>d.jsx("option",{value:O.value,children:O.label},O.value))})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 lg:col-span-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-brand-text mb-1",children:"Reported From"}),d.jsx("input",{type:"date",id:"startDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:p,onChange:O=>w(O.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-brand-text mb-1",children:"Reported To"}),d.jsx("input",{type:"date",id:"endDate",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:v,onChange:O=>A(O.target.value)})]})]})]}),i.length===0&&!s?d.jsx("div",{className:"bg-brand-card p-6 rounded-lg shadow-card text-center text-brand-text-light",children:d.jsx("p",{className:"text-lg",children:"No incident reports found matching your criteria."})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto bg-brand-card rounded-lg shadow-card border border-brand-border",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-border",children:[d.jsx("thead",{className:"bg-brand-bg-dark",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Timestamp"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Reported By"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Document"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Reason"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-brand-card divide-y divide-brand-border",children:i.map(O=>{var Y,D;return d.jsxs("tr",{className:"hover:bg-brand-bg-dark transition-colors duration-150",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:te(O.timestamp)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:((Y=O.reporter)==null?void 0:Y.full_name)||O.reported_by_email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:((D=O["documents!fk_incident_reports_document_id"])==null?void 0:D.title)||"N/A"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:O.reason}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O.status==="pending"?"bg-yellow-100 text-yellow-800":O.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:O.status.toUpperCase()})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>H(O),className:"text-color-button-primary hover:text-color-button-primary-hover transition-colors duration-200",children:"View / Resolve"})})]},O.id)})})]})}),ve>1&&d.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[d.jsx("button",{onClick:()=>xe(j-1),disabled:j===1,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Previous"}),d.jsxs("span",{className:"text-brand-text",children:["Page ",j," of ",ve]}),d.jsx("button",{onClick:()=>xe(j+1),disabled:j===ve,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Next"})]})]}),d.jsxs(na,{show:V,onClose:()=>X(!1),children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-brand-heading",children:"Incident Report Details"}),d.jsxs("div",{className:"space-y-4 text-brand-text-light",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Report ID:"})," ",G.id]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Timestamp:"})," ",te(G.timestamp)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Reported By:"})," ",((E=G.reporter)==null?void 0:E.full_name)||G.reported_by_email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Associated Document:"})," ",((Z=G["documents!fk_incident_reports_document_id"])==null?void 0:Z.title)||"N/A"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Reason:"})," ",G.reason]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"modalDetails",className:"block text-sm font-medium text-brand-text mb-1",children:"Details:"}),d.jsx("textarea",{id:"modalDetails",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text placeholder-brand-text-light focus:outline-none focus:ring-2 focus:ring-color-button-primary h-32",value:ne,onChange:O=>oe(O.target.value),placeholder:"Add resolution notes or further details here..."})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Current Status:"})," ",d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="pending"?"bg-yellow-100 text-yellow-800":G.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:(S=G.status)==null?void 0:S.toUpperCase()})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"newStatus",className:"block text-sm font-medium text-brand-text mb-1",children:"Update Status:"}),d.jsxs("select",{id:"newStatus",className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary",value:le,onChange:O=>re(O.target.value),children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"resolved",children:"Resolved"})]})]}),(G.resolved_by_user_id||G.resolved_at)&&d.jsxs("p",{children:[d.jsx("strong",{children:"Resolved By:"})," ",((z=G.resolver)==null?void 0:z.full_name)||"N/A"," at ",te(G.resolved_at)]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{onClick:()=>X(!1),className:"px-4 py-2 border border-brand-border-light text-brand-text rounded-md hover:bg-brand-bg-dark transition-colors duration-200",children:"Cancel"}),d.jsx("button",{onClick:W,className:"px-4 py-2 bg-color-button-primary text-white rounded-md hover:bg-color-button-primary-hover transition-colors duration-200",children:"Update Report"})]})]})]})]})},R1=({show:i,onClose:n,tableName:s,record:l,onSaveSuccess:o})=>{const[u,h]=_.useState(!1),[x,m]=_.useState({message:"",type:""}),[g,p]=_.useState({});_.useEffect(()=>{i&&l&&(p(l),m({message:"",type:""}))},[i,l]);const w=R=>{const{name:T,value:U,type:B,checked:V}=R.target;p(X=>({...X,[T]:B==="checkbox"?V:U}))},v=(R,T)=>{const U={};for(const B in T)R[B]!==T[B]&&B!=="id"&&B!=="created_at"&&B!=="updated_at"&&(U[B]={old:R[B],new:T[B]});return U},A=async()=>{h(!0),m({message:"",type:""});const{data:R,error:T}=await K.auth.getUser();if(T||!(R!=null&&R.user)){m({message:(T==null?void 0:T.message)||"Authentication required.",type:"error"}),h(!1);return}const U=R.user.id,B=R.user.email;try{const{data:V,error:X}=await K.from(s).select("*").eq("id",l.id).single();if(X)throw new Error(`Failed to fetch old record for audit: ${X.message}`);const{data:G,error:ae}=await K.from(s).update(g).eq("id",l.id).select();if(ae)throw new Error(`Failed to update ${s} record: ${ae.message}`);const le=v(V,g),re={table_name:s,record_id:l.id,changes:le};let ne=null,oe=null,ge=null;s==="documents"?ne=l.id:s==="signature_requests"?(oe=l.id,ne=l.document_id):s==="users"?ge=l.id:s==="incident_reports"&&(ne=l.document_id);const{error:te}=await K.from("audit_logs").insert({user_id:U,user_email:B,event_type:`${s.toUpperCase()}_UPDATED`,details:re,document_id:ne,signature_request_id:oe,user_id:ge});te&&console.warn("Audit log insertion failed:",te.message),m({message:`${s} record updated successfully!`,type:"success"}),o(G[0]),n()}catch(V){console.error("Error during record update:",V),m({message:V.message||"An unexpected error occurred.",type:"error"})}finally{h(!1)}},j=async()=>{if(!window.confirm(`Are you sure you want to delete this ${s} record? This action cannot be undone.`))return;h(!0),m({message:"",type:""});const{data:R,error:T}=await K.auth.getUser();if(T||!(R!=null&&R.user)){m({message:(T==null?void 0:T.message)||"Authentication required.",type:"error"}),h(!1);return}const U=R.user.id,B=R.user.email;try{const{data:V,error:X}=await K.from(s).select("*").eq("id",l.id).single();if(X)throw new Error(`Failed to fetch record for audit before deletion: ${X.message}`);const{error:G}=await K.from(s).delete().eq("id",l.id);if(G)throw new Error(`Failed to delete ${s} record: ${G.message}`);const ae={table_name:s,record_id:l.id,deleted_data:V};let le=null,re=null,ne=null;s==="documents"?le=l.id:s==="signature_requests"?(re=l.id,le=l.document_id):s==="users"&&(ne=l.id);const{error:oe}=await K.from("audit_logs").insert({user_id:U,user_email:B,event_type:`${s.toUpperCase()}_DELETED`,details:ae,document_id:le,signature_request_id:re,user_id:ne});oe&&console.warn("Audit log insertion failed:",oe.message),m({message:`${s} record deleted successfully!`,type:"success"}),o(),n()}catch(V){console.error("Error during record deletion:",V),m({message:V.message||"An unexpected error occurred during deletion.",type:"error"})}finally{h(!1)}};return!i||!l?null:d.jsxs(na,{show:i,onClose:n,children:[d.jsxs("h2",{className:"text-xl font-semibold mb-4 text-brand-heading",children:["Edit ",s.replace("_"," ").toUpperCase()," Record"]}),x.message&&d.jsx(jt,{message:x.message,type:x.type}),d.jsxs("div",{className:"space-y-4 text-brand-text-light",children:[Object.entries(g).map(([R,T])=>R==="id"||R==="created_at"||R==="updated_at"||R.endsWith("_id")?d.jsxs("p",{children:[d.jsxs("strong",{children:[R.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase()),":"]})," ",String(T)]},R):typeof T=="boolean"?d.jsx("div",{children:d.jsxs("label",{className:"block text-sm font-medium text-brand-text",children:[d.jsx("input",{type:"checkbox",name:R,checked:T,onChange:w,className:"mr-2"}),R.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase())]})},R):d.jsxs("div",{children:[d.jsxs("label",{htmlFor:R,className:"block text-sm font-medium text-brand-text mb-1",children:[R.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase()),":"]}),d.jsx("input",{type:typeof T=="number"?"number":"text",id:R,name:R,value:T||"",onChange:w,className:"w-full p-2 rounded-md border border-brand-border bg-brand-bg-light text-brand-text focus:outline-none focus:ring-2 focus:ring-color-button-primary"})]},R)),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{onClick:n,className:"px-4 py-2 border border-brand-border-light text-brand-text rounded-md hover:bg-brand-bg-dark transition-colors duration-200",children:"Cancel"}),d.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200",disabled:u,children:u?"Deleting...":"Delete Record"}),d.jsx("button",{onClick:A,className:"px-4 py-2 bg-color-button-primary text-white rounded-md hover:bg-color-button-primary-hover transition-colors duration-200",disabled:u,children:u?"Saving...":"Save Changes"})]})]})]})},_i=[{name:"users",display:"Users",orderColumn:"created_at"},{name:"documents",display:"Documents",orderColumn:"created_at"},{name:"document_versions",display:"Document Versions",orderColumn:"created_at"},{name:"signature_requests",display:"Signature Requests",orderColumn:"requested_at"},{name:"incident_reports",display:"Incident Reports",orderColumn:"timestamp"}],C1=i=>{if(!i)return"N/A";const n=new Date(i),s={year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return n.toLocaleDateString("en-US",s)},D1=(i,n)=>i.includes("timestamp")||i.includes("at")?C1(n):typeof n=="boolean"?n?"True":"False":n==null?"N/A":Array.isArray(n)||typeof n=="object"?JSON.stringify(n):String(n),k1=()=>{var ge;const[i,n]=_.useState(_i[0].name),[s,l]=_.useState([]),[o,u]=_.useState(!0),[h,x]=_.useState({message:"",type:""}),[m,g]=_.useState(1),[p]=_.useState(10),[w,v]=_.useState(0),[A,j]=_.useState(!1),[R,T]=_.useState(null),[U,B]=_.useState([]),V=_.useCallback(async()=>{if(u(!0),x({message:"",type:""}),!K){x({message:"Supabase client not available. Please check configuration.",type:"error"}),u(!1);return}try{const te=(m-1)*p,he=te+p-1,ve=_i.find(Z=>Z.name===i),xe=(ve==null?void 0:ve.orderColumn)||"id",{data:H,error:W,count:E}=await K.from(i).select("*",{count:"exact"}).order(xe,{ascending:!1}).range(te,he);if(W)console.error(`Supabase fetch ${i} records error:`,W),x({message:`Failed to fetch ${i} records: ${W.message}`,type:"error"}),l([]),v(0);else if(v(E),l(H),H.length>0){const Z=Object.keys(H[0]);B(Z)}else B([])}catch(te){console.error("Unexpected error during record fetch:",te),x({message:te.message||"An unexpected error occurred while fetching records.",type:"error"})}finally{u(!1)}},[i,m,p]);_.useEffect(()=>{g(1),V()},[i,V]);const X=Math.ceil(w/p),G=te=>{te>=1&&te<=X&&g(te)},ae=te=>{T(te),j(!0)},le=()=>{j(!1),T(null)},re=te=>{V()},[ne,oe]=_.useState(!1);return _.useEffect(()=>{(async()=>{const{data:he,error:ve}=await K.auth.getUser();if(ve||!(he!=null&&he.user)){oe(!1);return}const{data:xe,error:H}=await K.from("users").select("role").eq("id",he.user.id).single();H||!xe||xe.role!=="admin"?oe(!1):oe(!0)})()},[]),ne?o&&s.length===0?d.jsx("div",{className:"flex justify-center items-center min-h-screen-minus-navbar bg-brand-bg-light text-brand-text",children:d.jsx("p",{className:"text-xl",children:"Loading records..."})}):d.jsxs("div",{className:"container mx-auto p-4 md:p-8 min-h-screen-minus-navbar bg-brand-bg-light text-brand-text flex",children:[h.message&&d.jsx(jt,{message:h.message,type:h.type}),d.jsxs("aside",{className:"w-64 bg-brand-card p-6 rounded-lg shadow-card mr-8 flex-shrink-0",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-6 text-brand-heading",children:"Manage Data"}),d.jsx("nav",{children:d.jsx("ul",{children:_i.map(te=>d.jsx("li",{className:"mb-2",children:d.jsx("button",{onClick:()=>n(te.name),className:`w-full text-left py-2 px-4 rounded-md transition-colors duration-200 ${i===te.name?"bg-color-button-primary text-white":"bg-brand-bg-light hover:bg-brand-bg-dark text-brand-text"}`,children:te.display})},te.name))})})]}),d.jsxs("main",{className:"flex-grow",children:[d.jsxs("header",{className:"mb-6 border-b border-brand-border-light pb-4",children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-semibold text-brand-heading",children:[(ge=_i.find(te=>te.name===i))==null?void 0:ge.display," Records"]}),d.jsx("p",{className:"text-brand-text-light mt-2",children:"View and manage data for the selected table."})]}),o&&s.length===0?d.jsx("div",{className:"flex justify-center items-center py-10",children:d.jsx("p",{className:"text-xl",children:"Loading data..."})}):s.length===0?d.jsx("div",{className:"bg-brand-card p-6 rounded-lg shadow-card text-center text-brand-text-light",children:d.jsxs("p",{className:"text-lg",children:["No records found for ",i,"."]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto bg-brand-card rounded-lg shadow-card border border-brand-border",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-border",children:[d.jsx("thead",{className:"bg-brand-bg-dark",children:d.jsxs("tr",{children:[U.map(te=>d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:te.replace(/_/g," ").replace(/\b\w/g,he=>he.toUpperCase())},te)),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-text-light uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-brand-card divide-y divide-brand-border",children:s.map(te=>d.jsxs("tr",{className:"hover:bg-brand-bg-dark transition-colors duration-150",children:[U.map(he=>d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-text",children:D1(he,te[he])},`${te.id}-${he}`)),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>ae(te),className:"text-color-button-primary hover:text-color-button-primary-hover transition-colors duration-200 mr-4",children:"Edit"})})]},te.id||JSON.stringify(te)))})]})}),X>1&&d.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[d.jsx("button",{onClick:()=>G(m-1),disabled:m===1||o,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Previous"}),d.jsxs("span",{className:"text-brand-text",children:["Page ",m," of ",X]}),d.jsx("button",{onClick:()=>G(m+1),disabled:m===X||o,className:"px-4 py-2 bg-color-button-primary text-white rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-color-button-primary-hover transition-colors duration-200",children:"Next"})]})]})]}),d.jsx(R1,{show:A,onClose:le,tableName:i,record:R,onSaveSuccess:re})]}):d.jsx("div",{className:"flex justify-center items-center min-h-screen-minus-navbar bg-brand-bg-light text-red-500",children:d.jsx("p",{className:"text-xl",children:"Access Denied. You do not have administrative privileges."})})};function O1({session:i}){const n=Ma(),[s,l]=_.useState(0),o=_.useRef(null),h=i&&!["/","/login","/register","/verify-email-success","/access-denied"].includes(n.pathname);return _.useEffect(()=>{h&&o.current?l(o.current.offsetHeight):l(0)},[h,n.pathname]),d.jsxs(d.Fragment,{children:[h&&d.jsx(Y0,{ref:o}),d.jsx("div",{style:{paddingTop:`${s}px`},children:d.jsxs(fp,{children:[d.jsx(nt,{path:"/",element:d.jsx(Jv,{})}),d.jsx(nt,{path:"/login",element:d.jsx(Iv,{})}),d.jsx(nt,{path:"/register",element:d.jsx(h1,{})}),d.jsx(nt,{path:"/verify-email-success",element:d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 transition-colors duration-300 font-inter",style:{backgroundColor:"var(--brand-bg-light)",backgroundImage:"linear-gradient(135deg, var(--brand-bg-light), var(--brand-bg-dark))",color:"var(--brand-text)"},children:d.jsxs("div",{className:"bg-[var(--brand-card)] rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full animate-fade-in-up",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-[var(--brand-heading)] mb-4 drop-shadow-md",children:"Email Verified!"}),d.jsx("p",{className:"text-lg text-[var(--brand-text-light)] mb-6 leading-relaxed",children:"Your email has been successfully verified. You can now securely log in."}),d.jsx(Be,{to:"/login",className:`inline-block py-3 px-8 rounded-full shadow-lg font-bold text-lg\r
                               bg-gradient-to-br from-[var(--color-button-primary)] to-[var(--color-button-primary-hover)]\r
                               text-white transition-all duration-300 ease-out hover:from-[var(--color-button-primary-hover)]\r
                               hover:to-[var(--color-button-primary)] hover:translate-y-[-2px] hover:shadow-xl`,children:"Go to Login"})]})})}),d.jsx(nt,{path:"/access-denied",element:d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 transition-colors duration-300 font-inter",style:{backgroundColor:"var(--brand-bg-light)",backgroundImage:"linear-gradient(135deg, var(--brand-bg-light), var(--brand-bg-dark))",color:"var(--brand-text)"},children:d.jsxs("div",{className:"bg-[var(--brand-card)] rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full animate-fade-in-up",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-[var(--brand-heading)] mb-4 drop-shadow-md",children:"Access Denied"}),d.jsx("p",{className:"text-lg text-[var(--brand-text-light)] mb-6 leading-relaxed",children:"You do not have permission to view this page. Please log in with appropriate credentials."}),d.jsx(Be,{to:"/login",className:`inline-block py-3 px-8 rounded-full shadow-lg font-bold text-lg\r
                               bg-gradient-to-br from-[var(--color-button-primary)] to-[var(--color-button-primary-hover)]\r
                               text-white transition-all duration-300 ease-out hover:from-[var(--color-button-primary-hover)]\r
                               hover:to-[var(--color-button-primary)] hover:translate-y-[-2px] hover:shadow-xl`,children:"Go to Login"})]})})}),d.jsx(nt,{path:"/user/dashboard",element:d.jsx(m1,{})}),d.jsx(nt,{path:"/user/documents",element:d.jsx(g1,{})}),d.jsx(nt,{path:"/user/documents/upload",element:d.jsx(x1,{})}),d.jsx(nt,{path:"/user/documents/:id",element:d.jsx(y1,{})}),d.jsx(nt,{path:"/user/signature-requests",element:d.jsx(_1,{})}),d.jsx(nt,{path:"/user/profile",element:d.jsx(S1,{})}),d.jsx(nt,{path:"/admin/dashboard",element:d.jsx(j1,{})}),d.jsx(nt,{path:"/admin/audit",element:d.jsx(E1,{})}),d.jsx(nt,{path:"/admin/manage-users",element:d.jsx(N1,{})}),d.jsx(nt,{path:"/admin/reports",element:d.jsx(T1,{})}),d.jsx(nt,{path:"/admin/anomalies",element:d.jsx(A1,{})}),d.jsx(nt,{path:"/admin/master-edit",element:d.jsx(k1,{})}),d.jsx(nt,{path:"*",element:d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 transition-colors duration-300 font-inter",style:{backgroundColor:"var(--brand-bg-light)",backgroundImage:"linear-gradient(135deg, var(--brand-bg-light), var(--brand-bg-dark))",color:"var(--brand-text)"},children:d.jsxs("div",{className:"bg-[var(--brand-card)] rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full animate-fade-in-up",children:[d.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold text-[var(--brand-heading)] mb-4 drop-shadow-md",children:"404"}),d.jsx("p",{className:"text-xl md:text-2xl text-[var(--brand-text-light)] mb-6 leading-relaxed",children:"Oops! The page you're looking for doesn't exist."}),d.jsx(Be,{to:"/",className:`inline-block py-3 px-8 rounded-full shadow-lg font-bold text-lg\r
                               bg-gradient-to-br from-[var(--color-button-primary)] to-[var(--color-button-primary-hover)]\r
                               text-white transition-all duration-300 ease-out hover:from-[var(--color-button-primary-hover)]\r
                               hover:to-[var(--color-button-primary)] hover:translate-y-[-2px] hover:shadow-xl`,children:"Go Home"})]})})})]})})]})}function U1(){const i="/SignatureApp/",[n,s]=_.useState(null),[l,o]=_.useState(!0);return _.useEffect(()=>{K.auth.getSession().then(({data:{session:h}})=>{s(h),o(!1)});const{data:u}=K.auth.onAuthStateChange((h,x)=>{s(x),o(!1)});return()=>{u.subscription.unsubscribe()}},[]),l?d.jsx("div",{style:{textAlign:"center",padding:"50px",fontSize:"1.2em",color:"#666"},children:"Loading application..."}):d.jsx(Lp,{basename:i,children:d.jsx(O1,{session:n})})}vb.createRoot(document.getElementById("root")).render(d.jsx(_.StrictMode,{children:d.jsx(U1,{})}));export{cb as g};
